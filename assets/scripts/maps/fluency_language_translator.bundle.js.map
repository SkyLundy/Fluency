{"version":3,"file":"../fluency_language_translator.bundle.js","sources":["fluency_language_translator.bundle.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _FtLanguageTranslatorInputfields = _interopRequireDefault(require(\"./inputfields/FtLanguageTranslatorInputfields\"));\nvar _FtConfig = _interopRequireDefault(require(\"./global/FtConfig\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nwindow.addEventListener('load', e => {\n  console.log(_FtConfig.default);\n  if (_FtConfig.default.moduleShouldInitialize()) {\n    _FtLanguageTranslatorInputfields.default.init();\n  }\n});\n\n},{\"./global/FtConfig\":3,\"./inputfields/FtLanguageTranslatorInputfields\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _FtConfig = _interopRequireDefault(require(\"./FtConfig\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Core module interface\n * Handles all interaction with the ProcessWire module backend\n * @return {object} Public interfaces\n */\n\nconst Fluency = function () {\n  /**\n   * Localized error strings\n   * @type {Object}\n   */\n  const errors = _FtConfig.default.getUiTextFor('errors');\n\n  /**\n   * Data Request Methods\n   */\n\n  /**\n   * Gets a translation from the Fluency module\n   * @param  {String}       sourceLanguage ISO language code\n   * @param  {String}       targetLanguage ISO langauge code\n   * @param  {String|Array} content        Content to translate\n   * @param  {Array}        options        Additional options\n   * @param  {Bool|null}         caching        Enable/disable caching\n   * @return {Promise}\n   */\n  const getTranslation = (sourceLanguage, targetLanguage, content, options = [], caching = null) => {\n    return postRequest(_FtConfig.default.getApiEndpointFor('translation'), {\n      sourceLanguage: sourceLanguage,\n      targetLanguage: targetLanguage,\n      content: content,\n      options: options,\n      caching: caching\n    }, response => {\n      return response;\n    });\n  };\n\n  /**\n   * Gets the current translation service API usage\n   * @return {Promise}\n   */\n  const getUsage = () => {\n    return getRequest(_FtConfig.default.getApiEndpointFor('usage'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Get all language available for translation. Provides source/target lists from the translation\n   * service API\n   * @return {Promise}\n   */\n  const getAvailableLanguages = () => {\n    return getRequest(_FtConfig.default.getApiEndpointFor('languages'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear all cached translations\n   * @return {Promise}\n   */\n  const deleteTranslationCache = () => {\n    return deleteRequest(_FtConfig.default.getApiEndpointFor('translationCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear cached list of translatable languages\n   * @return {Promise}\n   */\n  const deleteTranslatableLanguagesCache = () => {\n    return deleteRequest(_FtConfig.default.getApiEndpointFor('translatableLanguagesCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * HTTP Requests\n   */\n\n  /**\n   * Create headers for AJAX requests\n   * @return {Object}\n   */\n  const requestHeaders = requestType => {\n    const requestHeaders = {\n      'X-Requested-With': 'XMLHttpRequest'\n    };\n    if (requestType === 'GET') {\n      requestHeaders['Accept'] = 'application/json';\n    }\n    if (requestType === 'POST') {\n      requestHeaders['Content-Type'] = 'application/json';\n    }\n    return requestHeaders;\n  };\n\n  /**\n   * Executes a POST request to a given endpoint\n   * @param  {String}    endpoint URL for AJAX request\n   * @param  {Object}    data     Data for request\n   * @param  {Callable}  data     Function to handle response body\n   * @return {Promise}\n   */\n  const postRequest = (endpoint, data, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'POST',\n      cache: 'no-store',\n      headers: requestHeaders,\n      body: JSON.stringify(data)\n    }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n  };\n\n  /**\n   * Executes a GET request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const getRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: requestHeaders('GET')\n    }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n  };\n\n  /**\n   * Executes a DELETE request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const deleteRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'DELETE',\n      headers: requestHeaders('GET')\n    }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n  };\n\n  /**\n   * Parses response\n   * @param  {Object} response Fluency API response\n   * @return {Object|Void}\n   * @throws Error\n   */\n  const parseResponse = response => {\n    if (response.status === 204) {\n      return response;\n    }\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error();\n  };\n\n  /**\n   * Parses and returns results for a fetch error\n   * These are network level errors that occur between ProcessWire and the hosting server\n   * Any translation or service errors will be located within the response body itself\n   * @param  {Error} error Fetch API error object\n   * @return {Object}\n   */\n  const handleFetchError = error => {\n    console.error('[Fluency module API failure]', error.message);\n    const returnObject = {\n      error: null,\n      message: null\n    };\n    switch (error.message.split(' ')[0]) {\n      case 'NetworkError':\n        returnObject.error = 'FLUENCY_CLIENT_DISCONNECTED';\n        returnObject.message = errors['FLUENCY_CLIENT_DISCONNECTED'];\n        break;\n      default:\n        returnObject.error = 'UNKNOWN_ERROR';\n        returnObject.message = errors['UNKNOWN_ERROR'];\n        break;\n    }\n    return returnObject;\n  };\n  return {\n    deleteTranslatableLanguagesCache,\n    deleteTranslationCache,\n    getAvailableLanguages,\n    getTranslation,\n    getUsage\n  };\n}();\nvar _default = Fluency;\nexports.default = _default;\n\n},{\"./FtConfig\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n/**\n * This provides access methods to get module configuration values\n * @return {Object}  Public methods\n */\nconst FtConfig = function () {\n  // Public properties\n\n  const fieldInitializedAttr = 'data-ft-initialized';\n  const translationActionTypes = {\n    each: 'translate_each_language',\n    all: 'translate_to_all_languages',\n    both: 'both'\n  };\n\n  // Private properties\n\n  /**\n   * Holds the data passed from the Fluency module\n   * @access Private\n   * @type {Object}\n   */\n  const config = ProcessWire.config.fluency;\n\n  /**\n   * All UI strings\n   * @type {Object}\n   */\n  const localizedStrings = config.localization;\n\n  /**\n   * Classes for elements created in UI\n   * @type {Object}\n   */\n  const elementClasses = {\n    translateButton: {\n      container: 'ft-translate-button-container',\n      button: 'ft-translate-button'\n    },\n    languageTranslator: {\n      container: 'Inputfield InputfieldHeaderHidden',\n      content: 'InputfieldContent ft-language-translator-button-content',\n      translateButton: 'ft-translate-all-button',\n      sourceLanguageSelect: 'uk-select ft-source-language-select',\n      sourceLanguageSelectLabel: 'ft-source-language-select-label'\n    },\n    statusPlaceholder: {\n      container: 'ft-translation-status-container',\n      label: 'ft-translation-status'\n    },\n    icon: 'ft-icon'\n  };\n\n  /**\n   * Objects interface with the Fluency config object so that changes to the object\n   * structure from the back end do not break the UI. Use the public methods below\n   * to access ProcessWire.config.fluency properties and data\n   */\n\n  /**\n   * Localized strings keyed sets\n   * @type {Object}\n   */\n  const strings = {\n    activityOverlay: localizedStrings.activityOverlay,\n    languageSelect: localizedStrings.languageSelect,\n    inputfieldTranslateButtons: localizedStrings.inputfieldTranslateButtons,\n    standaloneTranslator: localizedStrings.standaloneTranslator,\n    usage: localizedStrings.usage,\n    errors: localizedStrings.errors,\n    languageTranslator: localizedStrings.languageTranslator\n  };\n\n  /**\n   * Fluency API keyed URLs\n   * @type {Object}\n   */\n  const endpoints = {\n    languages: config.apiEndpoints.languages,\n    translatableLanguagesCache: config.apiEndpoints.translatableLanguagesCache,\n    test: config.apiEndpoints.test,\n    translation: config.apiEndpoints.translation,\n    translationCache: config.apiEndpoints.translationCache,\n    usage: config.apiEndpoints.usage\n  };\n\n  /**\n   * Contains all of the Fluency configured langauges from the module\n   * @type {Array}\n   */\n  const configuredLanguages = config.configuredLanguages;\n\n  /**\n   * Contains an array of ProcessWire language IDs not configured in Fluency\n   * @type {Array}\n   */\n  const unconfiguredLanguages = config.unconfiguredLanguages;\n\n  // Public methods\n\n  /**\n   * Fluency REST API\n   */\n  const getApiEndpointFor = key => endpoints[key];\n\n  /**\n   * Languages\n   */\n\n  /**\n   * Get all configured languages\n   * @return {object}\n   */\n  const getConfiguredLanguages = () => configuredLanguages;\n\n  /**\n   * Returns ProcessWire's default language\n   * @return {object}\n   */\n  const getDefaultLanguage = () => getConfiguredLanguages().reduce((defaultLang, lang) => lang.default ? lang : defaultLang, null);\n\n  /**\n   * Determines if the language with a given ProcessWire ID can be translated\n   * @param  {int|string} languageId ProcessWire language ID\n   * @return {bool}\n   */\n  const languageIsTranslatable = languageId => !getUnconfiguredLanguages().includes(parseInt(languageId, 10));\n\n  /**\n   * Get all languages not configured in Fluency\n   * @return {object}\n   */\n  const getUnconfiguredLanguages = () => unconfiguredLanguages;\n\n  /**\n   * Gets total count of configured and unconfigured languages\n   * @return {int}\n   */\n  const getLanguageCount = () => getConfiguredLanguages().length + getUnconfiguredLanguages().length;\n\n  /**\n   * Get a configured language by it's ProcessWire ID\n   * @param  {string|int} pwLanguageId ProcessWire language ID\n   * @return {object}\n   */\n  const getLanguageForId = pwLanguageId => {\n    pwLanguageId = parseInt(pwLanguageId, 10);\n    return getConfiguredLanguages().reduce((match, language) => language.id === pwLanguageId ? language : match, null);\n  };\n\n  /**\n   * Localization\n   */\n\n  /**\n   * Accessor method for localized UI strings\n   * @param  {string} key Object key\n   * @return {string}\n   */\n  const getUiTextFor = key => strings[key];\n\n  /**\n   * Module Configuration/State\n   */\n\n  /**\n   * Determines if Fluency JS should initialize based on whether languages have\n   * been configured\n   * @return {bool}\n   */\n  const moduleShouldInitialize = () => getConfiguredLanguages().length > 1;\n\n  /**\n   * Returns the translation engine config object for the engine configured in Fluency\n   * @return {object|null}\n   */\n  const getEngineInfo = () => config.engine;\n\n  /**\n   * Does this engine provide usage data?\n   * @return {bool}\n   */\n  const getEngineProvidesUsageData = () => getEngineInfo().providesUsageData;\n\n  /**\n   * Gets the type of translation action chosen in the Flunecy module config\n   * @return {string}\n   */\n  const getTranslationAction = () => config.interface.inputfieldTranslationAction;\n\n  /**\n   * The attribute added to individual field elements where translation has been disabled\n   * @return {string}\n   */\n  const getTranslationDisabledFieldAttribute = () => `[${config.interface.translationDisabledFieldAttr}]`;\n\n  /**\n   * Class names added to UI components\n   * @param  {string} element The type of component\n   * @return {string}\n   */\n  const getElementClassesFor = element => elementClasses[element];\n  return {\n    fieldInitializedAttr,\n    getApiEndpointFor,\n    getConfiguredLanguages,\n    getDefaultLanguage,\n    getElementClassesFor,\n    getEngineInfo,\n    getEngineProvidesUsageData,\n    getLanguageCount,\n    getLanguageForId,\n    getTranslationAction,\n    getTranslationDisabledFieldAttribute,\n    getUiTextFor,\n    getUnconfiguredLanguages,\n    languageIsTranslatable,\n    moduleShouldInitialize,\n    translationActionTypes\n  };\n}();\nvar _default = FtConfig;\nexports.default = _default;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _FtActivityOverlay = _interopRequireDefault(require(\"../ui/FtActivityOverlay\"));\nvar _FtUiElements = _interopRequireDefault(require(\"../ui/FtUiElements\"));\nvar _FtConfig = _interopRequireDefault(require(\"../global/FtConfig\"));\nvar _Fluency = _interopRequireDefault(require(\"../global/Fluency\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Used for creating translation function for ProcessWire's core language translation pages\n *\n * @return {Object} Public methods\n */\nconst FtLanguageTranslatorInputfields = function () {\n  /**\n   * Initialize\n   * @return {void}\n   */\n  const init = () => {\n    initFields();\n    initTranslateAllButton();\n  };\n\n  /**\n   * Initializes per-field translation triggers\n   * @return {void}\n   */\n  const initFields = () => {\n    const translationInputfields = document.querySelectorAll('.InputfieldContent');\n    if (!translationInputfields) {\n      return;\n    }\n    [...translationInputfields].forEach(inputfield => {\n      if (inputfield.querySelector('input.translatable, textarea.translatable')) {\n        new LanguageTranslatorInputfield(inputfield);\n      }\n    });\n  };\n  const initTranslateAllButton = () => {\n    const container = document.querySelector('.Inputfields');\n    new AllInputfieldTranslator(container);\n  };\n  return {\n    init\n  };\n}();\n\n/**\n * Creates and binds the translate all button\n */\nconst AllInputfieldTranslator = function (inputfields) {\n  let activityOverlay;\n  let sourceTargetMap = [];\n  this.getSelf = () => inputfields;\n  this.getActivityOverlay = () => activityOverlay;\n  this.addLanguageTranslatorInputs = () => {\n    const {\n      translateAllButton,\n      sourceLanguageSelect,\n      container\n    } = _FtUiElements.default.createLanguageTranslatorInputs();\n    this.sourceLanguageSelect = sourceLanguageSelect;\n    this.bindSourceLanguageSelect(sourceLanguageSelect);\n    this.bindTranslateButton(translateAllButton);\n    document.querySelector('.Inputfields').insertAdjacentElement('afterbegin', container);\n  };\n\n  /**\n   * Bind the behavior that removes the state changed class that alerts the user of unsaved changes\n   */\n  this.bindSourceLanguageSelect = select => {\n    select.addEventListener('change', e => {\n      setTimeout(() => {\n        e.target.closest('.InputfieldStateChanged')?.classList.remove('InputfieldStateChanged');\n      }, 100);\n    });\n  };\n  this.bindTranslateButton = button => {\n    button.addEventListener('click', e => {\n      e.preventDefault();\n      this.translateContent();\n    });\n  };\n\n  /**\n   * This chunks the sourceTargetElement array into an array of smaller arrays that can be\n   * handled by the translation service\n   * @return {array} Array of arrays containing content/inputs\n   */\n  this.getGroupedContentForTranslation = () => {\n    const perChunk = 40; // groups per chunk\n\n    return sourceTargetMap.reduce((chunks, item, index) => {\n      const chunkIndex = Math.floor(index / perChunk);\n      if (!chunks[chunkIndex]) {\n        chunks[chunkIndex] = []; // start a new chunk\n      }\n\n      chunks[chunkIndex].push(item);\n      return chunks;\n    }, []);\n  };\n\n  /**\n   * Translates all fields in chunks\n   * @return {void}\n   */\n  this.translateContent = () => {\n    const translationGroups = this.getGroupedContentForTranslation();\n    activityOverlay.showActivity();\n    let groupsToTranslate = translationGroups.length;\n    const urlParams = new URLSearchParams(window.location.search);\n    const id = parseInt(urlParams.get('language_id'));\n    let errorOccurred = false;\n    const sourceLangageCode = this.sourceLanguageSelect.value;\n    translationGroups.forEach((translationGroup, i) => {\n      // Stop trying if something went wrong\n      if (errorOccurred) {\n        return;\n      }\n      _Fluency.default.getTranslation(sourceLangageCode, _FtConfig.default.getLanguageForId(id).engineLanguage.targetCode, translationGroup.map(sourceTarget => sourceTarget.text)).then(result => {\n        // Handle an error\n        if (result.error) {\n          if (!errorOccurred) {\n            activityOverlay.showError(result.message);\n            errorOccurred = true;\n          }\n          return;\n        }\n        const translations = result.translations;\n        if (translationGroup.length !== translations.length) {\n          activityOverlay.showError('Error');\n          errorOccurred = true;\n          return;\n        }\n        for (let i = 0; i < translations.length; i++) {\n          translationGroup[i].input.value = translations[i];\n        }\n      }).then(result => {\n        groupsToTranslate--;\n        if (groupsToTranslate === 0 && !errorOccurred) {\n          activityOverlay.hide();\n        }\n      });\n    });\n  };\n\n  /**\n   * Push all source text and target inputs to array that can be translated in bulk\n   * @return {void}\n   */\n  this.mapSourceTargetElements = () => {\n    [...document.querySelectorAll('.InputfieldContent')].forEach(inputfield => {\n      const description = inputfield.querySelector('.description');\n      const targetInput = inputfield.querySelector('input.translatable, textarea.translatable');\n      if (targetInput && description && description.innerText) {\n        sourceTargetMap.push({\n          text: description.innerText,\n          input: targetInput\n        });\n      }\n    });\n  };\n  (() => {\n    activityOverlay = new _FtActivityOverlay.default(this);\n    this.mapSourceTargetElements();\n    this.addLanguageTranslatorInputs();\n  })();\n};\nconst LanguageTranslatorInputfield = function (inputfieldContainer) {\n  /**\n   * Gets all localized strings from the FluencyConfig object\n   * These do nothing on their own and must be bound with any behavior after creation\n   *\n   * @type {object}\n   */\n  const uiText = _FtConfig.default.getUiTextFor('inputfieldTranslateButtons');\n  let activityOverlay;\n  let sourceText = inputfieldContainer.querySelector('.description').innerText;\n  let targetInput = inputfieldContainer.querySelector('input, textarea');\n  this.getSelf = () => inputfieldContainer;\n  this.getActivityOverlay = () => activityOverlay;\n  this.addLanguageTranslatorInputs = () => {\n    const {\n      button,\n      container\n    } = _FtUiElements.default.createTranslateButton(uiText.translate);\n    this.bindTranslateButton(button);\n    inputfieldContainer.appendChild(container);\n  };\n  this.bindTranslateButton = button => {\n    button.addEventListener('click', e => {\n      e.preventDefault();\n      this.translateContent();\n    });\n  };\n\n  /**\n   * Gets the selected language code from the source language select field\n   */\n  this.getSourceLanguageCode = () => {\n    const elClasses = _FtConfig.default.getElementClassesFor('languageTranslator').sourceLanguageSelect;\n    return document.querySelector(`.${elClasses.split(' ').join('.')}`).value;\n  };\n  this.translateContent = () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const id = parseInt(urlParams.get('language_id'));\n    activityOverlay.showActivity();\n    _Fluency.default.getTranslation(this.getSourceLanguageCode(), _FtConfig.default.getLanguageForId(id).engineLanguage.targetCode, sourceText).then(result => {\n      if (result.error) {\n        activityOverlay.showError(result.message);\n        return;\n      }\n      targetInput.value = result.translations[0];\n      activityOverlay.hide();\n    });\n  };\n  (() => {\n    activityOverlay = new _FtActivityOverlay.default(this);\n    this.addLanguageTranslatorInputs();\n  })();\n};\nvar _default = FtLanguageTranslatorInputfields;\nexports.default = _default;\n\n},{\"../global/Fluency\":2,\"../global/FtConfig\":3,\"../ui/FtActivityOverlay\":5,\"../ui/FtUiElements\":6}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _FtConfig = _interopRequireDefault(require(\"../global/FtConfig\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Creates, inserts, and controls the actions the activity overlay for the provided\n * targetContainer\n * @param {object} targetContainer An instantiated object for an inputfield or fieldset\n * @param {string} type       The type of activity for this overlay. 'translate' or 'update'\n */\nconst FtActivityOverlay = function (targetContainer, activityType = 'translating') {\n  const elClasses = {\n    parent: 'ft-activity-overlay-container',\n    overlay: 'ft-activity-overlay',\n    error: 'error',\n    message: 'message',\n    flash: 'flash',\n    success: 'success',\n    activity: 'activity',\n    visible: 'visible',\n    activityContainer: 'ft-activity',\n    activityStaticText: 'ft-activity-text',\n    activityAnimationContainer: 'ft-activity-animation-container',\n    activityAnimationItem: 'ft-activity-animation-item',\n    messageContainer: 'ft-activity-message'\n  };\n\n  /**\n   * Will contain the activityOverlay Element for this targetContainer\n   * @type {Element}\n   */\n  let activityOverlay;\n\n  /**\n   * Will contain the message Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let messageContainer;\n\n  /**\n   * Will contain the animation container Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let activityContainer;\n\n  /**\n   * Control Methods\n   */\n\n  /**\n   * This shows the overlay's activity animation that was created at instantiation\n   * Must be manually hidden with the hide() method\n   *\n   * @return {void}\n   */\n  this.showActivity = () => {\n    this.setActivityActive();\n    this.setOverlayVisible();\n  };\n\n  /**\n   * Shows a message in the overlay (neutral background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showMessage = (message, displayTime = 5000) => {\n    this.setMessageContent(message);\n    this.setActivityInactive();\n    this.setMessageActive();\n    this.setOverlayVisible();\n    this.hide(displayTime);\n  };\n\n  /**\n   * Shows a success message (success color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {[type]}             [description]\n   */\n  this.flashSuccess = (message, displayTime = 500) => {\n    this.setSuccessActive();\n    this.setFlashActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows a success message (error color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {[type]}             [description]\n   */\n  this.flashError = (message, displayTime = 500) => {\n    this.setFlashActive();\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows an error message in a visible overlay (error background)\n   *\n   * @param  {String} message     Message to show in overlay error\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showError = (message, displayTime = 7000) => {\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Hide an overlay immediately or after a preset amount of time\n   *\n   * @param {Number} delay Length of time in ms before hiding overlay\n   */\n  this.hide = (delay = 0) => {\n    setTimeout(() => {\n      this.setOverlayInvisible();\n    }, delay);\n\n    // Ensures the animation is finished before modifying content\n    setTimeout(() => {\n      this.setActivityInactive();\n      this.setMessageInactive();\n      this.setErrorInactive();\n      this.setFlashInactive();\n      this.setMessageContent('');\n    }, delay + 500);\n  };\n\n  /**\n   * Private Methods\n   */\n\n  /**\n   * Shows the activity element\n   *\n   * @access Private\n   */\n  this.setActivityActive = () => {\n    activityOverlay.classList.add(elClasses.activity);\n  };\n\n  /**\n   * Hides the activity element\n   *\n   * @access Private\n   */\n  this.setActivityInactive = () => {\n    activityOverlay.classList.remove(elClasses.activity);\n  };\n\n  /**\n   * Shows the message element\n   *\n   * @access Private\n   */\n  this.setMessageActive = () => {\n    activityOverlay.classList.add(elClasses.message);\n  };\n\n  /**\n   * Hides the activity element\n   *\n   * @access Private\n   */\n  this.setMessageInactive = () => {\n    activityOverlay.classList.remove(elClasses.message);\n  };\n\n  /**\n   * Sets the content of the overlay message\n   *\n   * @access Private\n   */\n  this.setMessageContent = content => {\n    messageContainer.innerText = content;\n  };\n\n  /**\n   * Adds flashing overlay behavior\n   *\n   * @access Private\n   */\n  this.setFlashActive = content => {\n    activityOverlay.classList.add(elClasses.flash);\n  };\n\n  /**\n   * removes flashing overlay behavior\n   *\n   * @access Private\n   */\n  this.setFlashInactive = content => {\n    activityOverlay.classList.remove(elClasses.flash);\n  };\n\n  /**\n   * Sets message to success\n   *\n   * @access Private\n   */\n  this.setSuccessActive = () => {\n    activityOverlay.classList.add(elClasses.success);\n  };\n\n  /**\n   * Unsets message error\n   *\n   * @access Private\n   */\n  this.setSuccessInactive = () => {\n    activityOverlay.classList.remove(elClasses.success);\n  };\n\n  /**\n   * Sets message to error\n   *\n   * @access Private\n   */\n  this.setErrorActive = () => {\n    activityOverlay.classList.add(elClasses.error);\n  };\n\n  /**\n   * Unsets message error\n   *\n   * @access Private\n   */\n  this.setErrorInactive = () => {\n    activityOverlay.classList.remove(elClasses.error);\n  };\n\n  /**\n   * Shows this activity overlay\n   *\n   * @access Private\n   */\n  this.setOverlayVisible = () => {\n    activityOverlay.classList.add(elClasses.visible);\n  };\n  this.setOverlayInvisible = () => {\n    activityOverlay.classList.remove(elClasses.visible);\n  };\n\n  /**\n   * Creates and returns an activity overlay element\n   *\n   * @return {HTMLElement}\n   */\n  this.create = () => {\n    activityOverlay = this.buildOverlayEl();\n    activityContainer = this.buildActivityEl();\n    messageContainer = this.buildMessageEl();\n    activityOverlay.appendChild(activityContainer);\n    activityOverlay.appendChild(messageContainer);\n    return activityOverlay;\n  };\n\n  /**\n   * Creates the parent overlay element\n   *\n   * @return {Element}\n   * @access Private\n   */\n  this.buildOverlayEl = () => {\n    const overlay = document.createElement('div');\n\n    // overlay.setAttribute('data-gradient-1', 'rgba(62, 185, 152, .85)');\n    overlay.setAttribute('class', elClasses.overlay);\n    return overlay;\n  };\n\n  /**\n   * Creates container for animation and contents of animation\n   *\n   * @return {Element}\n   * @access Private\n   */\n  this.buildActivityEl = () => {\n    let text = this.getActivityTexts();\n    let activityAnimationContainer = document.createElement('div');\n    activityAnimationContainer.setAttribute('class', elClasses.activityAnimationContainer);\n\n    // Add all animation items to the animation container\n    activityAnimationContainer = text.animated.reduce((el, string) => {\n      let activityText = document.createElement('span');\n\n      // Add text items\n      activityText.setAttribute('class', elClasses.activityAnimationItem);\n      activityText.innerHTML = string;\n      el.appendChild(activityText);\n      return el;\n    }, activityAnimationContainer);\n\n    // Create static text element\n    let staticText = document.createElement('div');\n    staticText.setAttribute('class', elClasses.activityStaticText);\n    staticText.innerText = text.static;\n\n    // Create activity container and append children\n    activityContainer = document.createElement('div');\n    activityContainer.setAttribute('class', elClasses.activityContainer);\n    activityContainer.appendChild(staticText);\n    activityContainer.appendChild(activityAnimationContainer);\n    return activityContainer;\n  };\n\n  /**\n   * Gets activity overlay texts and shuffles the animated array\n   * No purpose really other than to add some uniqueness to overlay animations and prevent looking\n   * like one language was preferred by me over another.\n   *\n   * Fisher-Yates algorithm, for the curious\n   *\n   * @return {Array} Randomized array of the activity animation texts for this instance\n   * @access Private\n   */\n  this.getActivityTexts = () => {\n    let uiTexts = _FtConfig.default.getUiTextFor('activityOverlay')[activityType];\n    let animationTexts = uiTexts.animated;\n    for (let i = animationTexts.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = animationTexts[i];\n      animationTexts[i] = animationTexts[j];\n      animationTexts[j] = temp;\n    }\n    uiTexts.animated = animationTexts;\n    return uiTexts;\n  };\n\n  /**\n   * Builds the element that will hold messages in the overlay\n   *\n   * @return {Element}\n   * @access Private\n   */\n  this.buildMessageEl = () => {\n    messageContainer = document.createElement('div');\n    messageContainer.setAttribute('class', elClasses.messageContainer);\n    return messageContainer;\n  };\n  (() => {\n    const targetContainerContainer = targetContainer.getSelf();\n    activityOverlay = this.create();\n    targetContainerContainer.classList.add(elClasses.parent);\n    targetContainerContainer.appendChild(activityOverlay);\n  })();\n};\nvar _default = FtActivityOverlay;\nexports.default = _default;\n\n},{\"../global/FtConfig\":3}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _FtConfig = _interopRequireDefault(require(\"../global/FtConfig\"));\nvar _Fluency = _interopRequireDefault(require(\"../global/Fluency\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * Creates common HTML elements\n *\n * @return {Object} Public methods\n */\nconst FtUiElements = function () {\n  /**\n   * @type {Object}\n   */\n  const elementClasses = _FtConfig.default.elementClasses;\n\n  /**\n   * Gets all localized strings from the FluencyConfig object\n   * These do nothing on their own and must be bound with any behavior after creation\n   *\n   * @type {object}\n   */\n  const uiText = _FtConfig.default.getUiTextFor('inputfieldTranslateButtons');\n\n  /**\n   * Creates a language fontawesome icon element\n   *\n   * @return {Element}\n   */\n  const createIcon = () => {\n    const iconLink = document.createElement('a');\n    iconLink.setAttribute('href', `${ProcessWire.config.urls.admin}fluency/?modal=1`);\n    iconLink.setAttribute('class', 'pw-modal pw-modal-large');\n    const icon = document.createElement('i');\n    icon.setAttribute('class', `${_FtConfig.default.getElementClassesFor('icon')} fa fa-language`);\n    icon.setAttribute('uk-tooltip', uiText.showTranslator);\n    iconLink.appendChild(icon);\n    return iconLink;\n  };\n\n  /**\n   * Creates a status placeholder\n   *\n   * @param  {string} text Button text\n   * @return {Element}\n   */\n  const createStatusElement = text => {\n    const elClasses = _FtConfig.default.getElementClassesFor('statusPlaceholder');\n    const label = document.createElement('span');\n    label.setAttribute('class', elClasses.label);\n    label.innerText = text;\n    const container = document.createElement('div');\n    container.setAttribute('class', elClasses.container);\n    container.appendChild(createIcon());\n    container.appendChild(label);\n    return container;\n  };\n\n  /**\n   * Creates a translate button element\n   *\n   * @return {Object} Container element and Button element\n   */\n  const createTranslateButton = text => {\n    const elClasses = _FtConfig.default.getElementClassesFor('translateButton');\n    const button = document.createElement('a');\n    button.innerText = text;\n    button.setAttribute('class', elClasses.button);\n    button.setAttribute('href', '');\n    const container = document.createElement('div');\n    container.setAttribute('class', elClasses.container);\n    container.appendChild(createIcon());\n    container.appendChild(button);\n    return {\n      button,\n      container\n    };\n  };\n\n  /**\n   * Creates the translate to all for the language translator pages\n   *\n   * @param  {string} text Button label\n   * @return {Element}\n   */\n  const createLanguageTranslatorInputs = () => {\n    const elClasses = _FtConfig.default.getElementClassesFor('languageTranslator');\n    const texts = _FtConfig.default.getUiTextFor('languageTranslator');\n\n    // Translate All button\n    const translateAllButton = document.createElement('a');\n    translateAllButton.innerText = texts.translateAllButton;\n    translateAllButton.setAttribute('class', elClasses.translateButton);\n    translateAllButton.setAttribute('href', '');\n\n    // Source language select\n    const sourceLanguageSelect = document.createElement('select');\n    sourceLanguageSelect.setAttribute('class', elClasses.sourceLanguageSelect);\n\n    // Source language select options\n    _FtConfig.default.getConfiguredLanguages().forEach(function (language) {\n      const option = document.createElement('option');\n      option.textContent = language.title;\n      option.value = language.engineLanguage.sourceCode;\n      if (language.default) {\n        option.selected = 'selected';\n        sourceLanguageSelect.prepend(option);\n        return;\n      }\n      sourceLanguageSelect.appendChild(option);\n    });\n\n    // Source language select label text\n    const selectLabelText = document.createElement('span');\n    selectLabelText.innerText = texts.sourceLanguageSelectLabel;\n\n    // Source language select label\n    const sourceLanguageSelectLabel = document.createElement('label');\n    sourceLanguageSelectLabel.setAttribute('class', elClasses.sourceLanguageSelectLabel);\n    sourceLanguageSelectLabel.appendChild(selectLabelText);\n    sourceLanguageSelectLabel.appendChild(sourceLanguageSelect);\n\n    // Container that holds all UI elements\n    const content = document.createElement('div');\n    content.setAttribute('class', elClasses.content);\n    content.appendChild(translateAllButton);\n    content.appendChild(sourceLanguageSelectLabel);\n\n    // ProcessWire UI fields container\n    const container = document.createElement('li');\n    container.setAttribute('class', elClasses.container);\n    container.appendChild(content);\n    return {\n      translateAllButton,\n      sourceLanguageSelect,\n      container\n    };\n  };\n  return {\n    createStatusElement,\n    createTranslateButton,\n    createLanguageTranslatorInputs,\n    createIcon,\n    elementClasses\n  };\n}();\nvar _default = FtUiElements;\nexports.default = _default;\n\n},{\"../global/Fluency\":2,\"../global/FtConfig\":3}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_FtLanguageTranslatorInputfields","_interopRequireDefault","_FtConfig","obj","__esModule","default","window","addEventListener","console","log","moduleShouldInitialize","init","./global/FtConfig","./inputfields/FtLanguageTranslatorInputfields","2","Object","defineProperty","value","Fluency","errors","getUiTextFor","requestHeaders","requestType","X-Requested-With","getRequest","endpoint","responseHandler","fetch","method","cache","headers","then","parseResponse","catch","handleFetchError","deleteRequest","response","status","ok","json","error","message","returnObject","split","deleteTranslatableLanguagesCache","getApiEndpointFor","deleteTranslationCache","getAvailableLanguages","getTranslation","sourceLanguage","targetLanguage","content","options","caching","data","body","JSON","stringify","getUsage","./FtConfig","3","FtConfig","config","ProcessWire","fluency","localizedStrings","localization","elementClasses","translateButton","container","button","languageTranslator","sourceLanguageSelect","sourceLanguageSelectLabel","statusPlaceholder","label","icon","strings","activityOverlay","languageSelect","inputfieldTranslateButtons","standaloneTranslator","usage","endpoints","languages","apiEndpoints","translatableLanguagesCache","test","translation","translationCache","configuredLanguages","unconfiguredLanguages","getConfiguredLanguages","getUnconfiguredLanguages","getEngineInfo","engine","fieldInitializedAttr","key","getDefaultLanguage","reduce","defaultLang","lang","getElementClassesFor","element","getEngineProvidesUsageData","providesUsageData","getLanguageCount","getLanguageForId","pwLanguageId","parseInt","match","language","id","getTranslationAction","interface","inputfieldTranslationAction","getTranslationDisabledFieldAttribute","translationDisabledFieldAttr","languageIsTranslatable","languageId","includes","translationActionTypes","each","all","both","4","_FtActivityOverlay","_FtUiElements","_Fluency","AllInputfieldTranslator","inputfields","let","sourceTargetMap","this","getSelf","getActivityOverlay","addLanguageTranslatorInputs","translateAllButton","createLanguageTranslatorInputs","bindSourceLanguageSelect","bindTranslateButton","document","querySelector","insertAdjacentElement","select","setTimeout","target","closest","classList","remove","preventDefault","translateContent","getGroupedContentForTranslation","chunks","item","index","chunkIndex","Math","floor","push","translationGroups","showActivity","groupsToTranslate","urlParams","URLSearchParams","location","search","get","errorOccurred","sourceLangageCode","forEach","translationGroup","engineLanguage","targetCode","map","sourceTarget","text","result","showError","translations","input","hide","mapSourceTargetElements","querySelectorAll","inputfield","description","targetInput","innerText","LanguageTranslatorInputfield","inputfieldContainer","uiText","sourceText","createTranslateButton","translate","appendChild","getSourceLanguageCode","elClasses","join","initFields","translationInputfields","initTranslateAllButton","../global/Fluency","../global/FtConfig","../ui/FtActivityOverlay","../ui/FtUiElements","5","targetContainer","activityType","parent","overlay","flash","success","activity","visible","activityContainer","activityStaticText","activityAnimationContainer","activityAnimationItem","messageContainer","setActivityActive","setOverlayVisible","showMessage","displayTime","setMessageContent","setActivityInactive","setMessageActive","flashSuccess","setSuccessActive","setFlashActive","flashError","setErrorActive","delay","setOverlayInvisible","setMessageInactive","setErrorInactive","setFlashInactive","add","setSuccessInactive","create","buildOverlayEl","buildActivityEl","buildMessageEl","createElement","setAttribute","getActivityTexts","animated","el","string","activityText","innerHTML","staticText","static","uiTexts","animationTexts","j","random","temp","targetContainerContainer","6","FtUiElements","createIcon","iconLink","urls","admin","showTranslator","createStatusElement","texts","option","textContent","title","sourceCode","selected","prepend","selectLabelText"],"mappings":"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"}