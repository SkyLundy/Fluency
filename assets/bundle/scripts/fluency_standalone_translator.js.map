{"mappings":"C,A,eKSQ,E,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,I,O,W,W,A,I,O,K,K,A,I,O,O,O,A,I,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,MJIA,EAsFA,EAuBA,EAkBA,EAiBA,EAgBA,EAmBA,E,E,E,O,C,U,W,O,C,G,I,E,E,SA+BR,GAlNQ,EAAS,AAAA,EAAA,OAAO,CAAE,YAAY,CAAC,UAsF/B,EAAiB,AAAA,IACrB,IAAM,EAAiB,CACrB,mBAAoB,gBACtB,EAUA,MARI,AAAgB,QAAhB,GACF,CAAA,EAAe,MAAS,CAAG,kBAD7B,EAII,AAAgB,SAAhB,GACF,CAAA,CAAc,CAAC,eAAe,CAAG,kBADnC,EAIO,CACT,EASM,EAAc,CAAC,EAAU,EAAM,IAC5B,MAAM,EAAU,CACrB,OAAQ,OACR,MAAO,WACP,QAAS,EACT,KAAM,KAAK,SAAS,CAAC,EACvB,GACG,IAAI,CAAC,GACL,IAAI,CAAC,GACL,KAAK,CAAC,GASL,EAAa,CAAC,EAAU,IACrB,MAAM,EAAU,CACrB,OAAQ,MACR,MAAO,WACP,QAAS,EAAe,MAC1B,GACG,IAAI,CAAC,GACL,IAAI,CAAC,GACL,KAAK,CAAC,GASL,EAAgB,CAAC,EAAU,IACxB,MAAM,EAAU,CACrB,OAAQ,SACR,QAAS,EAAe,MAC1B,GACG,IAAI,CAAC,GACL,IAAI,CAAC,GACL,KAAK,CAAC,GASL,EAAgB,AAAA,IACpB,GAAI,AAAoB,MAApB,EAAS,MAAM,CACjB,OAAO,EAGT,GAAI,EAAS,EAAE,CACb,OAAO,EAAS,IAAI,EAGtB,OAAM,AAAI,OACZ,EASM,EAAmB,AAAA,IACvB,QAAQ,KAAK,CAAC,+BAAgC,EAAM,OAAO,EAE3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","sources":["<anon>","resources/scripts/global/Fluency.js","resources/scripts/global/FtConfig.js","resources/scripts/ui/FtActivityOverlay.js","resources/scripts/fluency_standalone_translator.js","resources/scripts/components/FtStandaloneTranslatorFieldset.js"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiree003\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiree003\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"aUodT\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $7f11ec91dd11e761$export$2e2bcd8739ae039; });\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n/**\n * Core module interface\n * Handles all interaction with the ProcessWire module backend\n * @return {object} Public interfaces\n */ const $7f11ec91dd11e761$var$Fluency = function() {\n    /**\n   * Localized error strings\n   * @type {Object}\n   */ const errors = (0, $iN3hH.default).getUiTextFor('errors');\n    /**\n   * Data Request Methods\n   */ /**\n   * Gets a translation from the Fluency module\n   * @param  {String}       sourceLanguage ISO language code\n   * @param  {String}       targetLanguage ISO langauge code\n   * @param  {String|Array} content        Content to translate\n   * @param  {Array}        options        Additional options\n   * @param  {Bool|null}         caching        Enable/disable caching\n   * @return {Promise}\n   */ const getTranslation = (sourceLanguage, targetLanguage, content, options = [], caching = null)=>{\n        return postRequest((0, $iN3hH.default).getApiEndpointFor('translation'), {\n            sourceLanguage: sourceLanguage,\n            targetLanguage: targetLanguage,\n            content: content,\n            options: options,\n            caching: caching\n        }, (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Gets the current translation service API usage\n   * @return {Promise}\n   */ const getUsage = ()=>{\n        return getRequest((0, $iN3hH.default).getApiEndpointFor('usage'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Get all language available for translation. Provides source/target lists from the translation\n   * service API\n   * @return {Promise}\n   */ const getAvailableLanguages = ()=>{\n        return getRequest((0, $iN3hH.default).getApiEndpointFor('languages'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Clear all cached translations\n   * @return {Promise}\n   */ const deleteTranslationCache = ()=>{\n        return deleteRequest((0, $iN3hH.default).getApiEndpointFor('translationCache'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Clear cached list of translatable languages\n   * @return {Promise}\n   */ const deleteTranslatableLanguagesCache = ()=>{\n        return deleteRequest((0, $iN3hH.default).getApiEndpointFor('translatableLanguagesCache'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * HTTP Requests\n   */ /**\n   * Create headers for AJAX requests\n   * @return {Object}\n   */ const requestHeaders = (requestType)=>{\n        const requestHeaders = {\n            'X-Requested-With': 'XMLHttpRequest'\n        };\n        if (requestType === 'GET') requestHeaders['Accept'] = 'application/json';\n        if (requestType === 'POST') requestHeaders['Content-Type'] = 'application/json';\n        return requestHeaders;\n    };\n    /**\n   * Executes a POST request to a given endpoint\n   * @param  {String}    endpoint URL for AJAX request\n   * @param  {Object}    data     Data for request\n   * @param  {Callable}  data     Function to handle response body\n   * @return {Promise}\n   */ const postRequest = (endpoint, data, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'POST',\n            cache: 'no-store',\n            headers: requestHeaders,\n            body: JSON.stringify(data)\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Executes a GET request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */ const getRequest = (endpoint, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'GET',\n            cache: 'no-store',\n            headers: requestHeaders('GET')\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Executes a DELETE request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */ const deleteRequest = (endpoint, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'DELETE',\n            headers: requestHeaders('GET')\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Parses response\n   * @param  {Object} response Fluency API response\n   * @return {Object|Void}\n   * @throws Error\n   */ const parseResponse = (response)=>{\n        if (response.status === 204) return response;\n        if (response.ok) return response.json();\n        throw new Error();\n    };\n    /**\n   * Parses and returns results for a fetch error\n   * These are network level errors that occur between ProcessWire and the hosting server\n   * Any translation or service errors will be located within the response body itself\n   * @param  {Error} error Fetch API error object\n   * @return {Object}\n   */ const handleFetchError = (error)=>{\n        console.error('[Fluency module API failure]', error.message);\n        const returnObject = {\n            error: null,\n            message: null\n        };\n        switch(error.message.split(' ')[0]){\n            case 'NetworkError':\n                returnObject.error = 'FLUENCY_CLIENT_DISCONNECTED';\n                returnObject.message = errors['FLUENCY_CLIENT_DISCONNECTED'];\n                break;\n            default:\n                returnObject.error = 'UNKNOWN_ERROR';\n                returnObject.message = errors['UNKNOWN_ERROR'];\n                break;\n        }\n        return returnObject;\n    };\n    return {\n        deleteTranslatableLanguagesCache: deleteTranslatableLanguagesCache,\n        deleteTranslationCache: deleteTranslationCache,\n        getAvailableLanguages: getAvailableLanguages,\n        getTranslation: getTranslation,\n        getUsage: getUsage\n    };\n}();\nvar $7f11ec91dd11e761$export$2e2bcd8739ae039 = $7f11ec91dd11e761$var$Fluency;\n\n});\nparcelRegister(\"iN3hH\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $dadf59d3bc71d322$export$2e2bcd8739ae039; });\n/**\n * This provides access methods to get module configuration values\n * @return {Object}  Public methods\n */ const $dadf59d3bc71d322$var$FtConfig = function() {\n    // Public properties\n    const fieldInitializedAttr = 'data-ft-initialized';\n    const translationActionTypes = {\n        each: 'translate_each_language',\n        all: 'translate_to_all_languages',\n        both: 'both'\n    };\n    // Private properties\n    /**\n   * Holds the data passed from the Fluency module\n   * @access Private\n   * @type {Object}\n   */ const config = ProcessWire.config.fluency;\n    /**\n   * All UI strings\n   * @type {Object}\n   */ const localizedStrings = config.localization;\n    /**\n   * Classes for elements created in UI\n   * @type {Object}\n   */ const elementClasses = {\n        translateButton: {\n            container: 'ft-translate-button-container',\n            button: 'ft-translate-button'\n        },\n        languageTranslator: {\n            container: 'Inputfield InputfieldHeaderHidden',\n            content: 'InputfieldContent ft-language-translator-button-content',\n            translateButton: 'ft-translate-all-button',\n            sourceLanguageSelect: 'uk-select ft-source-language-select',\n            sourceLanguageSelectLabel: 'ft-source-language-select-label'\n        },\n        statusPlaceholder: {\n            container: 'ft-translation-status-container',\n            label: 'ft-translation-status'\n        },\n        icon: 'ft-icon'\n    };\n    /**\n   * Objects interface with the Fluency config object so that changes to the object\n   * structure from the back end do not break the UI. Use the public methods below\n   * to access ProcessWire.config.fluency properties and data\n   */ /**\n   * Localized strings keyed sets\n   * @type {Object}\n   */ const strings = {\n        activityOverlay: localizedStrings.activityOverlay,\n        languageSelect: localizedStrings.languageSelect,\n        inputfieldTranslateButtons: localizedStrings.inputfieldTranslateButtons,\n        standaloneTranslator: localizedStrings.standaloneTranslator,\n        usage: localizedStrings.usage,\n        errors: localizedStrings.errors,\n        languageTranslator: localizedStrings.languageTranslator\n    };\n    /**\n   * Fluency API keyed URLs\n   * @type {Object}\n   */ const endpoints = {\n        languages: config.apiEndpoints.languages,\n        translatableLanguagesCache: config.apiEndpoints.translatableLanguagesCache,\n        test: config.apiEndpoints.test,\n        translation: config.apiEndpoints.translation,\n        translationCache: config.apiEndpoints.translationCache,\n        usage: config.apiEndpoints.usage\n    };\n    /**\n   * Contains all of the Fluency configured langauges from the module\n   * @type {Array}\n   */ const configuredLanguages = config.configuredLanguages;\n    /**\n   * Contains an array of ProcessWire language IDs not configured in Fluency\n   * @type {Array}\n   */ const unconfiguredLanguages = config.unconfiguredLanguages;\n    // Public methods\n    /**\n   * Fluency REST API\n   */ const getApiEndpointFor = (key)=>endpoints[key];\n    /**\n   * Languages\n   */ /**\n   * Get all configured languages\n   * @return {object}\n   */ const getConfiguredLanguages = ()=>configuredLanguages;\n    /**\n   * Returns ProcessWire's default language\n   * @return {object}\n   */ const getDefaultLanguage = ()=>getConfiguredLanguages().reduce((defaultLang, lang)=>lang.default ? lang : defaultLang, null);\n    /**\n   * Determines if the language with a given ProcessWire ID can be translated\n   * @param  {int|string} languageId ProcessWire language ID\n   * @return {bool}\n   */ const languageIsTranslatable = (languageId)=>!getUnconfiguredLanguages().includes(parseInt(languageId, 10));\n    /**\n   * Get all languages not configured in Fluency\n   * @return {object}\n   */ const getUnconfiguredLanguages = ()=>unconfiguredLanguages;\n    /**\n   * Gets total count of configured and unconfigured languages\n   * @return {int}\n   */ const getLanguageCount = ()=>getConfiguredLanguages().length + getUnconfiguredLanguages().length;\n    /**\n   * Get a configured language by it's ProcessWire ID\n   * @param  {string|int} pwLanguageId ProcessWire language ID\n   * @return {object}\n   */ const getLanguageForId = (pwLanguageId)=>{\n        pwLanguageId = parseInt(pwLanguageId, 10);\n        return getConfiguredLanguages().reduce((match, language)=>language.id === pwLanguageId ? language : match, null);\n    };\n    /**\n   * Localization\n   */ /**\n   * Accessor method for localized UI strings\n   * @param  {string} key Object key\n   * @return {string}\n   */ const getUiTextFor = (key)=>strings[key];\n    /**\n   * Module Configuration/State\n   */ /**\n   * Determines if Fluency JS should initialize based on whether languages have\n   * been configured\n   * @return {bool}\n   */ const moduleShouldInitialize = ()=>getConfiguredLanguages().length > 1;\n    /**\n   * Returns the translation engine config object for the engine configured in Fluency\n   * @return {object|null}\n   */ const getEngineInfo = ()=>config.engine;\n    /**\n   * Does this engine provide usage data?\n   * @return {bool}\n   */ const getEngineProvidesUsageData = ()=>getEngineInfo().providesUsageData;\n    /**\n   * Gets the type of translation action chosen in the Flunecy module config\n   * @return {string}\n   */ const getTranslationAction = ()=>config.interface.inputfieldTranslationAction;\n    /**\n   * The attribute added to individual field elements where translation has been disabled\n   * @return {string}\n   */ const getTranslationDisabledFieldAttribute = ()=>`[${config.interface.translationDisabledFieldAttr}]`;\n    /**\n   * Class names added to UI components\n   * @param  {string} element The type of component\n   * @return {string}\n   */ const getElementClassesFor = (element)=>elementClasses[element];\n    return {\n        fieldInitializedAttr: fieldInitializedAttr,\n        getApiEndpointFor: getApiEndpointFor,\n        getConfiguredLanguages: getConfiguredLanguages,\n        getDefaultLanguage: getDefaultLanguage,\n        getElementClassesFor: getElementClassesFor,\n        getEngineInfo: getEngineInfo,\n        getEngineProvidesUsageData: getEngineProvidesUsageData,\n        getLanguageCount: getLanguageCount,\n        getLanguageForId: getLanguageForId,\n        getTranslationAction: getTranslationAction,\n        getTranslationDisabledFieldAttribute: getTranslationDisabledFieldAttribute,\n        getUiTextFor: getUiTextFor,\n        getUnconfiguredLanguages: getUnconfiguredLanguages,\n        languageIsTranslatable: languageIsTranslatable,\n        moduleShouldInitialize: moduleShouldInitialize,\n        translationActionTypes: translationActionTypes\n    };\n}();\nvar $dadf59d3bc71d322$export$2e2bcd8739ae039 = $dadf59d3bc71d322$var$FtConfig;\n\n});\n\n\nparcelRegister(\"gvk63\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $c03f2159e353ef94$export$2e2bcd8739ae039; });\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n/**\n * Creates, inserts, and controls the actions the activity overlay for the provided\n * targetContainer\n * @param {object} targetContainer An instantiated object for an inputfield or fieldset\n * @param {string} type       The type of activity for this overlay. 'translate' or 'update'\n */ const $c03f2159e353ef94$var$FtActivityOverlay = function(targetContainer, activityType = 'translating') {\n    const elClasses = {\n        parent: 'ft-activity-overlay-container',\n        overlay: 'ft-activity-overlay',\n        error: 'error',\n        message: 'message',\n        flash: 'flash',\n        activity: 'activity',\n        visible: 'visible',\n        activityContainer: 'ft-activity',\n        activityStaticText: 'ft-activity-text',\n        activityAnimationContainer: 'ft-activity-animation-container',\n        activityAnimationItem: 'ft-activity-animation-item',\n        messageContainer: 'ft-activity-message'\n    };\n    /**\n   * Will contain the activityOverlay Element for this targetContainer\n   * @type {Element}\n   */ let activityOverlay;\n    /**\n   * Will contain the message Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */ let messageContainer;\n    /**\n   * Will contain the animation container Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */ let activityContainer;\n    /**\n   * Show the overlay's activity animation that was created at instantiation\n   * @return {void}\n   */ this.showActivity = ()=>{\n        this.setActivityActive();\n        this.setOverlayVisible();\n    };\n    /**\n   * Shows a message in the overlay (neutral background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.showMessage = (message, displayTime = 5000)=>{\n        this.setMessageContent(message);\n        this.setActivityInactive();\n        this.setMessageActive();\n        this.setOverlayVisible();\n        this.hide(displayTime);\n    };\n    /**\n   * Shows a success message (success color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.flashSuccess = (message, displayTime = 500)=>{\n        this.setSuccessActive();\n        this.setFlashActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Shows an error message (error color background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.flashError = (message, displayTime = 500)=>{\n        this.setFlashActive();\n        this.setErrorActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Shows an error message in a visible overlay (error background)\n   * @param  {String} message     Message to show in overlay error\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.showError = (message, displayTime = 5000)=>{\n        this.setErrorActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Hide an overlay immediately or after a preset amount of time\n   * @param {Number} delay Length of time in ms before hiding overlay\n   */ this.hide = (delay = 0)=>{\n        setTimeout(()=>{\n            this.setOverlayInvisible();\n        }, delay);\n        // Ensures the animation is finished before modifying content\n        setTimeout(()=>{\n            this.setActivityInactive();\n            this.setMessageInactive();\n            this.setErrorInactive();\n            this.setFlashInactive();\n            this.setMessageContent('');\n        }, delay + 500);\n    };\n    /**\n   * Shows the activity element\n   * @access Private\n   */ this.setActivityActive = ()=>activityOverlay.classList.add(elClasses.activity);\n    /**\n   * Hides the activity element\n   * @access Private\n   */ this.setActivityInactive = ()=>activityOverlay.classList.remove(elClasses.activity);\n    /**\n   * Shows the message element\n   * @access Private\n   */ this.setMessageActive = ()=>activityOverlay.classList.add(elClasses.message);\n    /**\n   * Hides the activity element\n   * @access Private\n   */ this.setMessageInactive = ()=>activityOverlay.classList.remove(elClasses.message);\n    /**\n   * Sets the content of the overlay message\n   * @access Private\n   */ this.setMessageContent = (content)=>messageContainer.innerText = content;\n    /**\n   * Adds flashing overlay behavior\n   * @access Private\n   */ this.setFlashActive = ()=>activityOverlay.classList.add(elClasses.flash);\n    /**\n   * removes flashing overlay behavior\n   * @access Private\n   */ this.setFlashInactive = ()=>activityOverlay.classList.remove(elClasses.flash);\n    /**\n   * Sets message to success\n   * @access Private\n   */ this.setSuccessActive = ()=>activityOverlay.classList.add(elClasses.success);\n    /**\n   * Unsets success message\n   * @access Private\n   */ this.setSuccessInactive = ()=>activityOverlay.classList.remove(elClasses.success);\n    /**\n   * Sets message to error\n   * @access Private\n   */ this.setErrorActive = ()=>activityOverlay.classList.add(elClasses.error);\n    /**\n   * Unsets message error\n   * @access Private\n   */ this.setErrorInactive = ()=>activityOverlay.classList.remove(elClasses.error);\n    /**\n   * Shows this activity overlay\n   * @access Private\n   */ this.setOverlayVisible = ()=>activityOverlay.classList.add(elClasses.visible);\n    /**\n   * Hides this activity overlay\n   * @access Private\n   */ this.setOverlayInvisible = ()=>activityOverlay.classList.remove(elClasses.visible);\n    /**\n   * Creates and returns an activity overlay element\n   * @return {HTMLElement}\n   */ this.create = ()=>{\n        activityOverlay = this.buildOverlayEl();\n        activityContainer = this.buildActivityEl();\n        messageContainer = this.buildMessageEl();\n        activityOverlay.appendChild(activityContainer);\n        activityOverlay.appendChild(messageContainer);\n        return activityOverlay;\n    };\n    /**\n   * Creates the parent overlay element\n   * @return {Element}\n   * @access Private\n   */ this.buildOverlayEl = ()=>{\n        const overlay = document.createElement('div');\n        overlay.setAttribute('class', elClasses.overlay);\n        return overlay;\n    };\n    /**\n   * Creates container for animation and contents of animation\n   * @return {Element}\n   * @access Private\n   */ this.buildActivityEl = ()=>{\n        let text = this.getActivityTexts();\n        let activityAnimationContainer = document.createElement('div');\n        activityAnimationContainer.setAttribute('class', elClasses.activityAnimationContainer);\n        // Add all animation items to the animation container\n        activityAnimationContainer = text.animated.reduce((el, string)=>{\n            let activityText = document.createElement('span');\n            // Add text items\n            activityText.setAttribute('class', elClasses.activityAnimationItem);\n            activityText.innerHTML = string;\n            el.appendChild(activityText);\n            return el;\n        }, activityAnimationContainer);\n        // Create static text element\n        let staticText = document.createElement('div');\n        staticText.setAttribute('class', elClasses.activityStaticText);\n        staticText.innerText = text.static;\n        // Create activity container and append children\n        activityContainer = document.createElement('div');\n        activityContainer.setAttribute('class', elClasses.activityContainer);\n        activityContainer.appendChild(staticText);\n        activityContainer.appendChild(activityAnimationContainer);\n        return activityContainer;\n    };\n    /**\n   * Gets activity overlay texts and shuffles the animated array\n   * No purpose really other than to add some uniqueness to overlay animations and prevent looking\n   * like one language was preferred by me over another.\n   *\n   * Fisher-Yates algorithm, for the curious\n   * @return {Array} Randomized array of the activity animation texts for this instance\n   * @access Private\n   */ this.getActivityTexts = ()=>{\n        let uiTexts = (0, $iN3hH.default).getUiTextFor('activityOverlay')[activityType];\n        let animationTexts = uiTexts.animated;\n        for(let i = animationTexts.length - 1; i > 0; i--){\n            let j = Math.floor(Math.random() * (i + 1));\n            let temp = animationTexts[i];\n            animationTexts[i] = animationTexts[j];\n            animationTexts[j] = temp;\n        }\n        uiTexts.animated = animationTexts;\n        return uiTexts;\n    };\n    /**\n   * Builds the element that will hold messages in the overlay\n   * @return {Element}\n   * @access Private\n   */ this.buildMessageEl = ()=>{\n        messageContainer = document.createElement('div');\n        messageContainer.setAttribute('class', elClasses.messageContainer);\n        return messageContainer;\n    };\n    (()=>{\n        const targetContainerContainer = targetContainer.getSelf();\n        activityOverlay = this.create();\n        targetContainerContainer.classList.add(elClasses.parent);\n        targetContainerContainer.appendChild(activityOverlay);\n    })();\n};\nvar $c03f2159e353ef94$export$2e2bcd8739ae039 = $c03f2159e353ef94$var$FtActivityOverlay;\n\n});\n\n\nvar $aUodT = parcelRequire(\"aUodT\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\nvar $gvk63 = parcelRequire(\"gvk63\");\nconst $ade68a98378ff5dc$var$FtStandaloneTranslatorFieldset = function() {\n    /**\n   * Attribute added to table after initialization\n   * @type {String}\n   */ const initializedAttr = 'data-ft-initialized';\n    /**\n   * Initialize all fieldsets\n   * @return {void}\n   */ const init = ()=>{\n        const standaloneTranslatorFieldsets = document.querySelectorAll(`.ft-standalone-translator-fieldset:not([${initializedAttr}])`);\n        [\n            ...standaloneTranslatorFieldsets\n        ].forEach((translatorFieldset)=>{\n            new $ade68a98378ff5dc$var$standaloneTranslatorFieldset(translatorFieldset);\n        });\n    };\n    return {\n        initializedAttr: initializedAttr,\n        init: init\n    };\n}();\n/**\n * Creates all behavior for a given standalone translator\n * @param  {Element} fieldset\n * @return {void}\n */ const $ade68a98378ff5dc$var$standaloneTranslatorFieldset = function(fieldset) {\n    /**\n   * Contains the activityOverlay object\n   * @type {Object}\n   */ let activityOverlay;\n    /**\n   * Provides set/get methods for the type of Inputfields present for source/translated content\n   */ let sourceContentController;\n    let translatedContentController;\n    /**\n   * Provides interfaces for language select Inputfields\n   */ let sourceLanguageSelectController;\n    let targetLanguageSelectController;\n    /**\n   * Standalone translator localized text\n   *\n   * @type {object}\n   */ let uiText = (0, $iN3hH.default).getUiTextFor('standaloneTranslator');\n    /**\n   * The classes assigned to the fields within the translator\n   * Values will be replaced with their corresponding HTML Elements on initialization\n   * @type {Object}\n   */ const translatorEls = {\n        sourceLanguageSelect: 'ft-source-language',\n        targetLanguageSelect: 'ft-target-language',\n        sourceContentInputfield: 'ft-source-content',\n        translatedContentInputfield: 'ft-translated-content',\n        translateButton: 'js-ft-translate',\n        copyButton: 'ft-click-to-copy',\n        clearButton: 'ft-click-to-clear',\n        swapButton: 'js-ft-swap-languages'\n    };\n    /**\n   * Finds the elements corresponding to their classes, or elements derived from\n   *\n   * @return {void}\n   */ this.cacheElements = ()=>{\n        translatorEls.translateButton = fieldset.querySelector(`.${translatorEls.translateButton}`);\n        translatorEls.swapButton = document.querySelector(`.${translatorEls.swapButton}`);\n        translatorEls.sourceLanguageSelect = fieldset.querySelector(`.${translatorEls.sourceLanguageSelect}`).closest('li.Inputfield');\n        translatorEls.targetLanguageSelect = fieldset.querySelector(`.${translatorEls.targetLanguageSelect}`).closest('li.Inputfield');\n        translatorEls.sourceContentInputfield = fieldset.querySelector(`.${translatorEls.sourceContentInputfield}`).closest('li.Inputfield');\n        translatorEls.translatedContentInputfield = fieldset.querySelector(`.${translatorEls.translatedContentInputfield}`).closest('li.Inputfield');\n    };\n    /**\n   * Returns this inputfield instance\n   * @return {Element}\n   */ this.getSelf = ()=>fieldset;\n    /**\n   * Binds behavior to translate button\n   *\n   * @return {void}\n   */ this.bindTranslateButton = ()=>{\n        translatorEls.translateButton.addEventListener('click', (e)=>{\n            e.preventDefault();\n            const sourceLanguage = sourceLanguageSelectController.getValue();\n            const targetLanguage = targetLanguageSelectController.getValue();\n            const sourceContent = sourceContentController.getContent();\n            if (!sourceLanguage) sourceLanguageSelectController.indicateError();\n            if (!targetLanguage) targetLanguageSelectController.indicateError();\n            if (!sourceContent) sourceContentController.indicateError();\n            if (!sourceLanguage || !targetLanguage || !sourceContent) return;\n            activityOverlay.showActivity();\n            (0, $aUodT.default).getTranslation(sourceLanguage, targetLanguage, sourceContent).then((result)=>{\n                if (result.error) activityOverlay.showError(result.message);\n                translatedContentController.setContent(result.translations[0]);\n                activityOverlay.hide();\n            });\n        });\n    };\n    /**\n   * Holds the currently selected languages for swapping\n   * @type {Object}\n   */ this.selectedLanguages = {\n        source: null,\n        target: null\n    };\n    /**\n   * Binds behavior to language swap button\n   *\n   * @return {void}\n   */ this.bindLanguageSwapButton = ()=>{\n        translatorEls.swapButton.addEventListener('click', (e)=>{\n            e.preventDefault();\n            this.swapLanguageSelectValues();\n            this.swapTranslationContent();\n        });\n    };\n    /**\n   * Swaps the contents of the original/translated fields\n   * @return {void}\n   */ this.swapTranslationContent = ()=>{\n        const sourceContent = sourceContentController.getContent();\n        const targetContent = translatedContentController.getContent();\n        sourceContentController.setContent(targetContent);\n        translatedContentController.setContent(sourceContent);\n    };\n    /**\n   * Swaps the source/target language select values\n   * @return {[type]}\n   */ this.swapLanguageSelectValues = ()=>{\n        let sourceLanguage = this.selectedLanguages.source;\n        let targetLanguage = this.selectedLanguages.target;\n        const sourceOptions = sourceLanguageSelectController.getOptions();\n        const targetOptions = targetLanguageSelectController.getOptions();\n        const newSourceLanguage = this.getLanguageSwapValue('target', sourceOptions);\n        const newTargetLanguage = this.getLanguageSwapValue('source', targetOptions);\n        sourceLanguageSelectController.setValue(newSourceLanguage);\n        targetLanguageSelectController.setValue(newTargetLanguage);\n        this.selectedLanguages.source = targetLanguage;\n        this.selectedLanguages.target = sourceLanguage;\n    };\n    /**\n   * Find a language if it exists in a given language select options array\n   * If it is not found with a direct match, converts the value of language to a simplified language\n   * code and returns a potential match\n   *\n   * @param  {String} type   Language select value\n   * @param  {Array} options Language select option values\n   * @return {String|null}   Language code if found, null if doesn't exist\n   */ this.getLanguageSwapValue = (type, options)=>{\n        let language = this.selectedLanguages[type];\n        if (options.includes(language)) return language;\n        const simplifiedLanguage = language.split('-')[0];\n        const simplifiedOptions = options.map((opt)=>opt.split('-')[0]);\n        const simplifiedIndex = simplifiedOptions.indexOf(simplifiedLanguage);\n        if (simplifiedIndex) return options[simplifiedIndex];\n    };\n    /**\n   * Sets the initial swap button state on instantiation\n   *\n   * @return {void}\n   */ this.initLanguageSwapButtonState = ()=>{\n        const sourceLanguage = sourceLanguageSelectController.getValue();\n        const targetLanguage = targetLanguageSelectController.getValue();\n        this.selectedLanguages.source = sourceLanguage;\n        this.selectedLanguages.target = targetLanguage;\n        if (!sourceLanguage || !targetLanguage) {\n            this.setSwapButtonState.disabled();\n            return;\n        }\n        this.setSwapButtonState.enabled();\n    };\n    /**\n   * Sets enabled/disabled for swap button\n   * @type {Object}\n   */ this.setSwapButtonState = {\n        enabled: ()=>translatorEls.swapButton.disabled = false,\n        disabled: ()=>translatorEls.swapButton.disabled = true\n    };\n    /**\n   * Adds the clear content button to the original textarea\n   * @return {void}\n   */ this.addClearContentButton = ()=>{\n        const buttonClass = translatorEls.clearButton;\n        translatorEls.clearButton = document.createElement('a');\n        translatorEls.clearButton.setAttribute('class', buttonClass);\n        const clearIcon = document.createElement('i');\n        clearIcon.setAttribute('class', 'ft-clear-icon fa fa-fw fa-trash-o');\n        const clearText = document.createElement('span');\n        clearText.innerText = uiText.clickToClear;\n        clearText.setAttribute('class', 'ft-clear-text');\n        translatorEls.clearButton.append(clearText, clearIcon);\n        const inputfieldHeader = translatorEls.sourceContentInputfield.querySelector('.InputfieldHeader');\n        inputfieldHeader.classList.add(`${buttonClass}-container`);\n        inputfieldHeader.appendChild(translatorEls.clearButton);\n        this.bindClearContentButton();\n    };\n    /**\n   * Binds the event listener for the button copy action\n   * @return {void}\n   */ this.bindClearContentButton = ()=>{\n        translatorEls.clearButton.addEventListener('click', (e)=>{\n            e.preventDefault();\n            sourceContentController.clearContent();\n            translatedContentController.clearContent();\n        });\n    };\n    /**\n   * Adds and binds the copy content button\n   * @return {void}\n   */ this.addCopyContentButton = ()=>{\n        const buttonClass = translatorEls.copyButton;\n        translatorEls.copyButton = document.createElement('a');\n        translatorEls.copyButton.setAttribute('class', buttonClass);\n        const copyIcon = document.createElement('i');\n        copyIcon.setAttribute('class', 'ft-copy-icon fa fa-fw fa-clone');\n        const copyText = document.createElement('span');\n        copyText.innerText = uiText.clickToCopy;\n        copyText.setAttribute('class', 'ft-copy-text');\n        translatorEls.copyButton.append(copyText, copyIcon);\n        const inputfieldHeader = translatorEls.translatedContentInputfield.querySelector('.InputfieldHeader');\n        inputfieldHeader.classList.add(`${buttonClass}-container`);\n        inputfieldHeader.appendChild(translatorEls.copyButton);\n        this.bindCopyContentButton();\n    };\n    /**\n   * Binds the event listener for the button copy action\n   * @return {void}\n   */ this.bindCopyContentButton = ()=>{\n        translatorEls.copyButton.addEventListener('click', (e)=>{\n            e.preventDefault();\n            const content = translatedContentController.getContent();\n            if (content) navigator.clipboard.writeText(content).then(()=>{\n                translatedContentController.indicateSuccess(uiText.copied);\n            });\n        });\n    };\n    /**\n   * Shows/hides content copy button\n   * @param  {Bool} contentPresent Determines if button is shown or not\n   * @return {void}\n   */ this.toggleCopyContentButton = (contentPresent)=>{\n        if (contentPresent) {\n            translatorEls.copyButton.classList.add('enabled');\n            return;\n        }\n        translatorEls.copyButton.classList.remove('enabled');\n    };\n    this.createInputControllers = ()=>{\n        sourceLanguageSelectController = new $ade68a98378ff5dc$var$languageSelectController('source', translatorEls.sourceLanguageSelect, this.languageSelectCallback);\n        targetLanguageSelectController = new $ade68a98378ff5dc$var$languageSelectController('target', translatorEls.targetLanguageSelect, this.languageSelectCallback);\n        sourceContentController = new $ade68a98378ff5dc$var$translationContentController(translatorEls.sourceContentInputfield);\n        translatedContentController = new $ade68a98378ff5dc$var$translationContentController(translatorEls.translatedContentInputfield, this.toggleCopyContentButton);\n    };\n    /**\n   * Passed to the languageSelectController on creation, is called when 'change' event fires\n   *\n   * @param  {Object}  selectEl Instance of the calling languageSelectController\n   * @param  {Event  } event    addEventListener event object\n   * @return {void}\n   */ this.languageSelectCallback = (languageSelectController, event)=>{\n        const selectType = languageSelectController.getType();\n        const value = languageSelectController.getValue();\n        this.selectedLanguages[selectType] = value || null;\n        !!value ? this.setSwapButtonState.enabled() : this.setSwapButtonState.disabled();\n    };\n    /**\n   * Inits on object creation\n   */ (()=>{\n        this.cacheElements();\n        this.createInputControllers();\n        activityOverlay = new (0, $gvk63.default)(this);\n        this.addCopyContentButton();\n        this.addClearContentButton();\n        this.bindTranslateButton();\n        this.initLanguageSwapButtonState();\n        this.bindLanguageSwapButton();\n    })();\n};\n/**\n * Stat management for language select Inputfields\n */ const $ade68a98378ff5dc$var$languageSelectController = function(type, inputfield, onChangeCallback) {\n    let activityOverlay;\n    let selectEl;\n    this.getType = ()=>type;\n    this.getSelf = ()=>inputfield;\n    this.getValue = ()=>selectEl.value || '';\n    this.setValue = (value)=>selectEl.value = value;\n    this.getOptions = ()=>[\n            ...selectEl.options\n        ].map((opt)=>opt.value).filter((opt)=>!!opt);\n    this.indicateError = ()=>activityOverlay.flashError('', 300);\n    (()=>{\n        selectEl = inputfield.querySelector('select');\n        selectEl.addEventListener('change', (e)=>onChangeCallback(this, e));\n        activityOverlay = new (0, $gvk63.default)(this);\n    })();\n};\n/**\n * Content IO for translation content Inputfields\n */ const $ade68a98378ff5dc$var$translationContentController = function(inputfield, contentPresenceChangeCallback = null) {\n    /**\n   * Standalone translator localized text\n   *\n   * @type {object}\n   */ let uiText = (0, $iN3hH.default).getUiTextFor('standaloneTranslator');\n    /**\n   * Holds the textarea that will have content managed\n   */ let inputfieldContent;\n    /**\n   * Holds state of field contents\n   */ let hasContent = false;\n    /**\n   * Activity Overlay instance\n   */ let activityOverlay;\n    this.getSelf = ()=>inputfield;\n    /**\n   * Retrieves content from this Inputfield\n   * @return {String}\n   */ this.getContent = ()=>inputfieldContent.get();\n    /**\n   * Sets content for this Inputfield\n   * @param  {String} content Content to set\n   * @return {void}\n   */ this.setContent = (content)=>inputfieldContent.set(content);\n    /**\n   * Removes all content from this Inputfield\n   * @return {void}\n   */ this.clearContent = ()=>this.setContent('');\n    /**\n   * Flash an error overlay to draw attention\n   * @return {void}\n   */ this.indicateError = ()=>activityOverlay.flashError('', 300);\n    /**\n   * Flash a success message overlay\n   * @param  {String} message Content of message\n   * @return {void}\n   */ this.indicateSuccess = (message)=>activityOverlay.flashSuccess(message);\n    /**\n   * Inits on object creation\n   */ (()=>{\n        inputfieldContent = new $ade68a98378ff5dc$var$textareaInputfieldContent(inputfield, contentPresenceChangeCallback);\n        activityOverlay = new (0, $gvk63.default)(this);\n    })();\n};\n/**\n * textarea I/O\n */ const $ade68a98378ff5dc$var$textareaInputfieldContent = function(inputfield, stateChangeCallback = null) {\n    let textarea;\n    let hasContent = false;\n    this.set = (content)=>{\n        textarea.value = content;\n        textarea.dispatchEvent(new Event('input'));\n    };\n    this.get = ()=>textarea.value;\n    this.bindContentChangeListener = ()=>{\n        textarea.addEventListener('input', (e)=>{\n            const currentContent = e.target.value;\n            if (currentContent && !hasContent) {\n                hasContent = true;\n                stateChangeCallback(true);\n            }\n            if (!currentContent && hasContent) {\n                hasContent = false;\n                stateChangeCallback(false);\n            }\n        });\n    };\n    (()=>{\n        textarea = inputfield.querySelector('textarea');\n        if (stateChangeCallback) this.bindContentChangeListener();\n    })();\n};\nvar $ade68a98378ff5dc$export$2e2bcd8739ae039 = $ade68a98378ff5dc$var$FtStandaloneTranslatorFieldset;\n\n\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\nwindow.addEventListener('load', (e)=>{\n    if ((0, $iN3hH.default).moduleShouldInitialize()) (0, $ade68a98378ff5dc$export$2e2bcd8739ae039).init();\n});\n\n})();\n//# sourceMappingURL=fluency_standalone_translator.js.map\n","import FtConfig from './FtConfig';\n\n/**\n * Core module interface\n * Handles all interaction with the ProcessWire module backend\n * @return {object} Public interfaces\n */\n\nconst Fluency = (function () {\n  /**\n   * Localized error strings\n   * @type {Object}\n   */\n  const errors = FtConfig.getUiTextFor('errors');\n\n  /**\n   * Data Request Methods\n   */\n\n  /**\n   * Gets a translation from the Fluency module\n   * @param  {String}       sourceLanguage ISO language code\n   * @param  {String}       targetLanguage ISO langauge code\n   * @param  {String|Array} content        Content to translate\n   * @param  {Array}        options        Additional options\n   * @param  {Bool|null}         caching        Enable/disable caching\n   * @return {Promise}\n   */\n  const getTranslation = (\n    sourceLanguage,\n    targetLanguage,\n    content,\n    options = [],\n    caching = null\n  ) => {\n    return postRequest(\n      FtConfig.getApiEndpointFor('translation'),\n      {\n        sourceLanguage: sourceLanguage,\n        targetLanguage: targetLanguage,\n        content: content,\n        options: options,\n        caching: caching,\n      },\n      response => {\n        return response;\n      }\n    );\n  };\n\n  /**\n   * Gets the current translation service API usage\n   * @return {Promise}\n   */\n  const getUsage = () => {\n    return getRequest(FtConfig.getApiEndpointFor('usage'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Get all language available for translation. Provides source/target lists from the translation\n   * service API\n   * @return {Promise}\n   */\n  const getAvailableLanguages = () => {\n    return getRequest(FtConfig.getApiEndpointFor('languages'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear all cached translations\n   * @return {Promise}\n   */\n  const deleteTranslationCache = () => {\n    return deleteRequest(FtConfig.getApiEndpointFor('translationCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear cached list of translatable languages\n   * @return {Promise}\n   */\n  const deleteTranslatableLanguagesCache = () => {\n    return deleteRequest(FtConfig.getApiEndpointFor('translatableLanguagesCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * HTTP Requests\n   */\n\n  /**\n   * Create headers for AJAX requests\n   * @return {Object}\n   */\n  const requestHeaders = requestType => {\n    const requestHeaders = {\n      'X-Requested-With': 'XMLHttpRequest',\n    };\n\n    if (requestType === 'GET') {\n      requestHeaders['Accept'] = 'application/json';\n    }\n\n    if (requestType === 'POST') {\n      requestHeaders['Content-Type'] = 'application/json';\n    }\n\n    return requestHeaders;\n  };\n\n  /**\n   * Executes a POST request to a given endpoint\n   * @param  {String}    endpoint URL for AJAX request\n   * @param  {Object}    data     Data for request\n   * @param  {Callable}  data     Function to handle response body\n   * @return {Promise}\n   */\n  const postRequest = (endpoint, data, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'POST',\n      cache: 'no-store',\n      headers: requestHeaders,\n      body: JSON.stringify(data),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Executes a GET request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const getRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: requestHeaders('GET'),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Executes a DELETE request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const deleteRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'DELETE',\n      headers: requestHeaders('GET'),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Parses response\n   * @param  {Object} response Fluency API response\n   * @return {Object|Void}\n   * @throws Error\n   */\n  const parseResponse = response => {\n    if (response.status === 204) {\n      return response;\n    }\n\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error();\n  };\n\n  /**\n   * Parses and returns results for a fetch error\n   * These are network level errors that occur between ProcessWire and the hosting server\n   * Any translation or service errors will be located within the response body itself\n   * @param  {Error} error Fetch API error object\n   * @return {Object}\n   */\n  const handleFetchError = error => {\n    console.error('[Fluency module API failure]', error.message);\n\n    const returnObject = {\n      error: null,\n      message: null,\n    };\n\n    switch (error.message.split(' ')[0]) {\n      case 'NetworkError':\n        returnObject.error = 'FLUENCY_CLIENT_DISCONNECTED';\n        returnObject.message = errors['FLUENCY_CLIENT_DISCONNECTED'];\n        break;\n      default:\n        returnObject.error = 'UNKNOWN_ERROR';\n        returnObject.message = errors['UNKNOWN_ERROR'];\n        break;\n    }\n\n    return returnObject;\n  };\n\n  return {\n    deleteTranslatableLanguagesCache,\n    deleteTranslationCache,\n    getAvailableLanguages,\n    getTranslation,\n    getUsage,\n  };\n})();\n\nexport default Fluency;\n","/**\n * This provides access methods to get module configuration values\n * @return {Object}  Public methods\n */\nconst FtConfig = (function () {\n  // Public properties\n\n  const fieldInitializedAttr = 'data-ft-initialized';\n\n  const translationActionTypes = {\n    each: 'translate_each_language',\n    all: 'translate_to_all_languages',\n    both: 'both',\n  };\n\n  // Private properties\n\n  /**\n   * Holds the data passed from the Fluency module\n   * @access Private\n   * @type {Object}\n   */\n  const config = ProcessWire.config.fluency;\n\n  /**\n   * All UI strings\n   * @type {Object}\n   */\n  const localizedStrings = config.localization;\n\n  /**\n   * Classes for elements created in UI\n   * @type {Object}\n   */\n  const elementClasses = {\n    translateButton: {\n      container: 'ft-translate-button-container',\n      button: 'ft-translate-button',\n    },\n    languageTranslator: {\n      container: 'Inputfield InputfieldHeaderHidden',\n      content: 'InputfieldContent ft-language-translator-button-content',\n      translateButton: 'ft-translate-all-button',\n      sourceLanguageSelect: 'uk-select ft-source-language-select',\n      sourceLanguageSelectLabel: 'ft-source-language-select-label',\n    },\n    statusPlaceholder: {\n      container: 'ft-translation-status-container',\n      label: 'ft-translation-status',\n    },\n    icon: 'ft-icon',\n  };\n\n  /**\n   * Objects interface with the Fluency config object so that changes to the object\n   * structure from the back end do not break the UI. Use the public methods below\n   * to access ProcessWire.config.fluency properties and data\n   */\n\n  /**\n   * Localized strings keyed sets\n   * @type {Object}\n   */\n  const strings = {\n    activityOverlay: localizedStrings.activityOverlay,\n    languageSelect: localizedStrings.languageSelect,\n    inputfieldTranslateButtons: localizedStrings.inputfieldTranslateButtons,\n    standaloneTranslator: localizedStrings.standaloneTranslator,\n    usage: localizedStrings.usage,\n    errors: localizedStrings.errors,\n    languageTranslator: localizedStrings.languageTranslator,\n  };\n\n  /**\n   * Fluency API keyed URLs\n   * @type {Object}\n   */\n  const endpoints = {\n    languages: config.apiEndpoints.languages,\n    translatableLanguagesCache: config.apiEndpoints.translatableLanguagesCache,\n    test: config.apiEndpoints.test,\n    translation: config.apiEndpoints.translation,\n    translationCache: config.apiEndpoints.translationCache,\n    usage: config.apiEndpoints.usage,\n  };\n\n  /**\n   * Contains all of the Fluency configured langauges from the module\n   * @type {Array}\n   */\n  const configuredLanguages = config.configuredLanguages;\n\n  /**\n   * Contains an array of ProcessWire language IDs not configured in Fluency\n   * @type {Array}\n   */\n  const unconfiguredLanguages = config.unconfiguredLanguages;\n\n  // Public methods\n\n  /**\n   * Fluency REST API\n   */\n  const getApiEndpointFor = key => endpoints[key];\n\n  /**\n   * Languages\n   */\n\n  /**\n   * Get all configured languages\n   * @return {object}\n   */\n  const getConfiguredLanguages = () => configuredLanguages;\n\n  /**\n   * Returns ProcessWire's default language\n   * @return {object}\n   */\n  const getDefaultLanguage = () =>\n    getConfiguredLanguages().reduce(\n      (defaultLang, lang) => (lang.default ? lang : defaultLang),\n      null,\n    );\n\n  /**\n   * Determines if the language with a given ProcessWire ID can be translated\n   * @param  {int|string} languageId ProcessWire language ID\n   * @return {bool}\n   */\n  const languageIsTranslatable = languageId =>\n    !getUnconfiguredLanguages().includes(parseInt(languageId, 10));\n\n  /**\n   * Get all languages not configured in Fluency\n   * @return {object}\n   */\n  const getUnconfiguredLanguages = () => unconfiguredLanguages;\n\n  /**\n   * Gets total count of configured and unconfigured languages\n   * @return {int}\n   */\n  const getLanguageCount = () =>\n    getConfiguredLanguages().length + getUnconfiguredLanguages().length;\n\n  /**\n   * Get a configured language by it's ProcessWire ID\n   * @param  {string|int} pwLanguageId ProcessWire language ID\n   * @return {object}\n   */\n  const getLanguageForId = pwLanguageId => {\n    pwLanguageId = parseInt(pwLanguageId, 10);\n\n    return getConfiguredLanguages().reduce(\n      (match, language) => (language.id === pwLanguageId ? language : match),\n      null,\n    );\n  };\n\n  /**\n   * Localization\n   */\n\n  /**\n   * Accessor method for localized UI strings\n   * @param  {string} key Object key\n   * @return {string}\n   */\n  const getUiTextFor = key => strings[key];\n\n  /**\n   * Module Configuration/State\n   */\n\n  /**\n   * Determines if Fluency JS should initialize based on whether languages have\n   * been configured\n   * @return {bool}\n   */\n  const moduleShouldInitialize = () => getConfiguredLanguages().length > 1;\n\n  /**\n   * Returns the translation engine config object for the engine configured in Fluency\n   * @return {object|null}\n   */\n  const getEngineInfo = () => config.engine;\n\n  /**\n   * Does this engine provide usage data?\n   * @return {bool}\n   */\n  const getEngineProvidesUsageData = () => getEngineInfo().providesUsageData;\n\n  /**\n   * Gets the type of translation action chosen in the Flunecy module config\n   * @return {string}\n   */\n  const getTranslationAction = () => config.interface.inputfieldTranslationAction;\n\n  /**\n   * The attribute added to individual field elements where translation has been disabled\n   * @return {string}\n   */\n  const getTranslationDisabledFieldAttribute = () =>\n    `[${config.interface.translationDisabledFieldAttr}]`;\n\n  /**\n   * Class names added to UI components\n   * @param  {string} element The type of component\n   * @return {string}\n   */\n  const getElementClassesFor = element => elementClasses[element];\n\n  return {\n    fieldInitializedAttr,\n    getApiEndpointFor,\n    getConfiguredLanguages,\n    getDefaultLanguage,\n    getElementClassesFor,\n    getEngineInfo,\n    getEngineProvidesUsageData,\n    getLanguageCount,\n    getLanguageForId,\n    getTranslationAction,\n    getTranslationDisabledFieldAttribute,\n    getUiTextFor,\n    getUnconfiguredLanguages,\n    languageIsTranslatable,\n    moduleShouldInitialize,\n    translationActionTypes,\n  };\n})();\n\nexport default FtConfig;\n","import FtConfig from '../global/FtConfig';\n\n/**\n * Creates, inserts, and controls the actions the activity overlay for the provided\n * targetContainer\n * @param {object} targetContainer An instantiated object for an inputfield or fieldset\n * @param {string} type       The type of activity for this overlay. 'translate' or 'update'\n */\nconst FtActivityOverlay = function (targetContainer, activityType = 'translating') {\n  const elClasses = {\n    parent: 'ft-activity-overlay-container',\n    overlay: 'ft-activity-overlay',\n    error: 'error',\n    message: 'message',\n    flash: 'flash',\n    activity: 'activity',\n    visible: 'visible',\n    activityContainer: 'ft-activity',\n    activityStaticText: 'ft-activity-text',\n    activityAnimationContainer: 'ft-activity-animation-container',\n    activityAnimationItem: 'ft-activity-animation-item',\n    messageContainer: 'ft-activity-message',\n  };\n\n  /**\n   * Will contain the activityOverlay Element for this targetContainer\n   * @type {Element}\n   */\n  let activityOverlay;\n\n  /**\n   * Will contain the message Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let messageContainer;\n\n  /**\n   * Will contain the animation container Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let activityContainer;\n\n  /**\n   * Show the overlay's activity animation that was created at instantiation\n   * @return {void}\n   */\n  this.showActivity = () => {\n    this.setActivityActive();\n    this.setOverlayVisible();\n  };\n\n  /**\n   * Shows a message in the overlay (neutral background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showMessage = (message, displayTime = 5000) => {\n    this.setMessageContent(message);\n    this.setActivityInactive();\n    this.setMessageActive();\n    this.setOverlayVisible();\n    this.hide(displayTime);\n  };\n\n  /**\n   * Shows a success message (success color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.flashSuccess = (message, displayTime = 500) => {\n    this.setSuccessActive();\n    this.setFlashActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows an error message (error color background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.flashError = (message, displayTime = 500) => {\n    this.setFlashActive();\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows an error message in a visible overlay (error background)\n   * @param  {String} message     Message to show in overlay error\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showError = (message, displayTime = 5000) => {\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Hide an overlay immediately or after a preset amount of time\n   * @param {Number} delay Length of time in ms before hiding overlay\n   */\n  this.hide = (delay = 0) => {\n    setTimeout(() => {\n      this.setOverlayInvisible();\n    }, delay);\n\n    // Ensures the animation is finished before modifying content\n    setTimeout(() => {\n      this.setActivityInactive();\n      this.setMessageInactive();\n      this.setErrorInactive();\n      this.setFlashInactive();\n      this.setMessageContent('');\n    }, delay + 500);\n  };\n\n  /**\n   * Shows the activity element\n   * @access Private\n   */\n  this.setActivityActive = () => activityOverlay.classList.add(elClasses.activity);\n\n  /**\n   * Hides the activity element\n   * @access Private\n   */\n  this.setActivityInactive = () => activityOverlay.classList.remove(elClasses.activity);\n\n  /**\n   * Shows the message element\n   * @access Private\n   */\n  this.setMessageActive = () => activityOverlay.classList.add(elClasses.message);\n\n  /**\n   * Hides the activity element\n   * @access Private\n   */\n  this.setMessageInactive = () => activityOverlay.classList.remove(elClasses.message);\n\n  /**\n   * Sets the content of the overlay message\n   * @access Private\n   */\n  this.setMessageContent = content => (messageContainer.innerText = content);\n\n  /**\n   * Adds flashing overlay behavior\n   * @access Private\n   */\n  this.setFlashActive = () => activityOverlay.classList.add(elClasses.flash);\n\n  /**\n   * removes flashing overlay behavior\n   * @access Private\n   */\n  this.setFlashInactive = () => activityOverlay.classList.remove(elClasses.flash);\n\n  /**\n   * Sets message to success\n   * @access Private\n   */\n  this.setSuccessActive = () => activityOverlay.classList.add(elClasses.success);\n\n  /**\n   * Unsets success message\n   * @access Private\n   */\n  this.setSuccessInactive = () => activityOverlay.classList.remove(elClasses.success);\n\n  /**\n   * Sets message to error\n   * @access Private\n   */\n  this.setErrorActive = () => activityOverlay.classList.add(elClasses.error);\n\n  /**\n   * Unsets message error\n   * @access Private\n   */\n  this.setErrorInactive = () => activityOverlay.classList.remove(elClasses.error);\n\n  /**\n   * Shows this activity overlay\n   * @access Private\n   */\n  this.setOverlayVisible = () => activityOverlay.classList.add(elClasses.visible);\n\n  /**\n   * Hides this activity overlay\n   * @access Private\n   */\n  this.setOverlayInvisible = () => activityOverlay.classList.remove(elClasses.visible);\n\n  /**\n   * Creates and returns an activity overlay element\n   * @return {HTMLElement}\n   */\n  this.create = () => {\n    activityOverlay = this.buildOverlayEl();\n    activityContainer = this.buildActivityEl();\n    messageContainer = this.buildMessageEl();\n\n    activityOverlay.appendChild(activityContainer);\n    activityOverlay.appendChild(messageContainer);\n\n    return activityOverlay;\n  };\n\n  /**\n   * Creates the parent overlay element\n   * @return {Element}\n   * @access Private\n   */\n  this.buildOverlayEl = () => {\n    const overlay = document.createElement('div');\n\n    overlay.setAttribute('class', elClasses.overlay);\n\n    return overlay;\n  };\n\n  /**\n   * Creates container for animation and contents of animation\n   * @return {Element}\n   * @access Private\n   */\n  this.buildActivityEl = () => {\n    let text = this.getActivityTexts();\n\n    let activityAnimationContainer = document.createElement('div');\n    activityAnimationContainer.setAttribute('class', elClasses.activityAnimationContainer);\n\n    // Add all animation items to the animation container\n    activityAnimationContainer = text.animated.reduce((el, string) => {\n      let activityText = document.createElement('span');\n\n      // Add text items\n      activityText.setAttribute('class', elClasses.activityAnimationItem);\n      activityText.innerHTML = string;\n\n      el.appendChild(activityText);\n\n      return el;\n    }, activityAnimationContainer);\n\n    // Create static text element\n    let staticText = document.createElement('div');\n    staticText.setAttribute('class', elClasses.activityStaticText);\n    staticText.innerText = text.static;\n\n    // Create activity container and append children\n    activityContainer = document.createElement('div');\n    activityContainer.setAttribute('class', elClasses.activityContainer);\n\n    activityContainer.appendChild(staticText);\n    activityContainer.appendChild(activityAnimationContainer);\n\n    return activityContainer;\n  };\n\n  /**\n   * Gets activity overlay texts and shuffles the animated array\n   * No purpose really other than to add some uniqueness to overlay animations and prevent looking\n   * like one language was preferred by me over another.\n   *\n   * Fisher-Yates algorithm, for the curious\n   * @return {Array} Randomized array of the activity animation texts for this instance\n   * @access Private\n   */\n  this.getActivityTexts = () => {\n    let uiTexts = FtConfig.getUiTextFor('activityOverlay')[activityType];\n    let animationTexts = uiTexts.animated;\n\n    for (let i = animationTexts.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = animationTexts[i];\n\n      animationTexts[i] = animationTexts[j];\n      animationTexts[j] = temp;\n    }\n\n    uiTexts.animated = animationTexts;\n\n    return uiTexts;\n  };\n\n  /**\n   * Builds the element that will hold messages in the overlay\n   * @return {Element}\n   * @access Private\n   */\n  this.buildMessageEl = () => {\n    messageContainer = document.createElement('div');\n    messageContainer.setAttribute('class', elClasses.messageContainer);\n\n    return messageContainer;\n  };\n\n  (() => {\n    const targetContainerContainer = targetContainer.getSelf();\n\n    activityOverlay = this.create();\n\n    targetContainerContainer.classList.add(elClasses.parent);\n    targetContainerContainer.appendChild(activityOverlay);\n  })();\n};\n\nexport default FtActivityOverlay;\n","import FtStandaloneTranslatorFieldset from './components/FtStandaloneTranslatorFieldset';\nimport FtConfig from './global/FtConfig';\n\nwindow.addEventListener('load', e => {\n  if (FtConfig.moduleShouldInitialize()) {\n    FtStandaloneTranslatorFieldset.init();\n  }\n});\n","import Fluency from '../global/Fluency';\nimport FtConfig from '../global/FtConfig';\nimport FtActivityOverlay from '../ui/FtActivityOverlay';\n\nconst FtStandaloneTranslatorFieldset = (function () {\n  /**\n   * Attribute added to table after initialization\n   * @type {String}\n   */\n  const initializedAttr = 'data-ft-initialized';\n\n  /**\n   * Initialize all fieldsets\n   * @return {void}\n   */\n  const init = () => {\n    const standaloneTranslatorFieldsets = document.querySelectorAll(\n      `.ft-standalone-translator-fieldset:not([${initializedAttr}])`,\n    );\n\n    [...standaloneTranslatorFieldsets].forEach(translatorFieldset => {\n      new standaloneTranslatorFieldset(translatorFieldset);\n    });\n  };\n\n  return {\n    initializedAttr,\n    init,\n  };\n})();\n\n/**\n * Creates all behavior for a given standalone translator\n * @param  {Element} fieldset\n * @return {void}\n */\nconst standaloneTranslatorFieldset = function (fieldset) {\n  /**\n   * Contains the activityOverlay object\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /**\n   * Provides set/get methods for the type of Inputfields present for source/translated content\n   */\n  let sourceContentController;\n  let translatedContentController;\n\n  /**\n   * Provides interfaces for language select Inputfields\n   */\n  let sourceLanguageSelectController;\n  let targetLanguageSelectController;\n\n  /**\n   * Standalone translator localized text\n   *\n   * @type {object}\n   */\n  let uiText = FtConfig.getUiTextFor('standaloneTranslator');\n\n  /**\n   * The classes assigned to the fields within the translator\n   * Values will be replaced with their corresponding HTML Elements on initialization\n   * @type {Object}\n   */\n  const translatorEls = {\n    sourceLanguageSelect: 'ft-source-language',\n    targetLanguageSelect: 'ft-target-language',\n    sourceContentInputfield: 'ft-source-content',\n    translatedContentInputfield: 'ft-translated-content',\n    translateButton: 'js-ft-translate',\n    copyButton: 'ft-click-to-copy',\n    clearButton: 'ft-click-to-clear',\n    swapButton: 'js-ft-swap-languages',\n  };\n\n  /**\n   * Finds the elements corresponding to their classes, or elements derived from\n   *\n   * @return {void}\n   */\n  this.cacheElements = () => {\n    translatorEls.translateButton = fieldset.querySelector(`.${translatorEls.translateButton}`);\n    translatorEls.swapButton = document.querySelector(`.${translatorEls.swapButton}`);\n\n    translatorEls.sourceLanguageSelect = fieldset\n      .querySelector(`.${translatorEls.sourceLanguageSelect}`)\n      .closest('li.Inputfield');\n\n    translatorEls.targetLanguageSelect = fieldset\n      .querySelector(`.${translatorEls.targetLanguageSelect}`)\n      .closest('li.Inputfield');\n\n    translatorEls.sourceContentInputfield = fieldset\n      .querySelector(`.${translatorEls.sourceContentInputfield}`)\n      .closest('li.Inputfield');\n\n    translatorEls.translatedContentInputfield = fieldset\n      .querySelector(`.${translatorEls.translatedContentInputfield}`)\n      .closest('li.Inputfield');\n  };\n\n  /**\n   * Returns this inputfield instance\n   * @return {Element}\n   */\n  this.getSelf = () => fieldset;\n\n  /**\n   * Binds behavior to translate button\n   *\n   * @return {void}\n   */\n  this.bindTranslateButton = () => {\n    translatorEls.translateButton.addEventListener('click', e => {\n      e.preventDefault();\n\n      const sourceLanguage = sourceLanguageSelectController.getValue();\n      const targetLanguage = targetLanguageSelectController.getValue();\n      const sourceContent = sourceContentController.getContent();\n\n      if (!sourceLanguage) {\n        sourceLanguageSelectController.indicateError();\n      }\n\n      if (!targetLanguage) {\n        targetLanguageSelectController.indicateError();\n      }\n\n      if (!sourceContent) {\n        sourceContentController.indicateError();\n      }\n\n      if (!sourceLanguage || !targetLanguage || !sourceContent) {\n        return;\n      }\n\n      activityOverlay.showActivity();\n\n      Fluency.getTranslation(sourceLanguage, targetLanguage, sourceContent).then(result => {\n        if (result.error) {\n          activityOverlay.showError(result.message);\n        }\n\n        translatedContentController.setContent(result.translations[0]);\n\n        activityOverlay.hide();\n      });\n    });\n  };\n\n  /**\n   * Holds the currently selected languages for swapping\n   * @type {Object}\n   */\n  this.selectedLanguages = {\n    source: null,\n    target: null,\n  };\n\n  /**\n   * Binds behavior to language swap button\n   *\n   * @return {void}\n   */\n  this.bindLanguageSwapButton = () => {\n    translatorEls.swapButton.addEventListener('click', e => {\n      e.preventDefault();\n\n      this.swapLanguageSelectValues();\n      this.swapTranslationContent();\n    });\n  };\n\n  /**\n   * Swaps the contents of the original/translated fields\n   * @return {void}\n   */\n  this.swapTranslationContent = () => {\n    const sourceContent = sourceContentController.getContent();\n    const targetContent = translatedContentController.getContent();\n\n    sourceContentController.setContent(targetContent);\n    translatedContentController.setContent(sourceContent);\n  };\n\n  /**\n   * Swaps the source/target language select values\n   * @return {[type]}\n   */\n  this.swapLanguageSelectValues = () => {\n    let sourceLanguage = this.selectedLanguages.source;\n    let targetLanguage = this.selectedLanguages.target;\n\n    const sourceOptions = sourceLanguageSelectController.getOptions();\n    const targetOptions = targetLanguageSelectController.getOptions();\n\n    const newSourceLanguage = this.getLanguageSwapValue('target', sourceOptions);\n    const newTargetLanguage = this.getLanguageSwapValue('source', targetOptions);\n\n    sourceLanguageSelectController.setValue(newSourceLanguage);\n    targetLanguageSelectController.setValue(newTargetLanguage);\n\n    this.selectedLanguages.source = targetLanguage;\n    this.selectedLanguages.target = sourceLanguage;\n  };\n\n  /**\n   * Find a language if it exists in a given language select options array\n   * If it is not found with a direct match, converts the value of language to a simplified language\n   * code and returns a potential match\n   *\n   * @param  {String} type   Language select value\n   * @param  {Array} options Language select option values\n   * @return {String|null}   Language code if found, null if doesn't exist\n   */\n  this.getLanguageSwapValue = (type, options) => {\n    let language = this.selectedLanguages[type];\n\n    if (options.includes(language)) {\n      return language;\n    }\n\n    const simplifiedLanguage = language.split('-')[0];\n    const simplifiedOptions = options.map(opt => opt.split('-')[0]);\n    const simplifiedIndex = simplifiedOptions.indexOf(simplifiedLanguage);\n\n    if (simplifiedIndex) {\n      return options[simplifiedIndex];\n    }\n  };\n\n  /**\n   * Sets the initial swap button state on instantiation\n   *\n   * @return {void}\n   */\n  this.initLanguageSwapButtonState = () => {\n    const sourceLanguage = sourceLanguageSelectController.getValue();\n    const targetLanguage = targetLanguageSelectController.getValue();\n\n    this.selectedLanguages.source = sourceLanguage;\n    this.selectedLanguages.target = targetLanguage;\n\n    if (!sourceLanguage || !targetLanguage) {\n      this.setSwapButtonState.disabled();\n\n      return;\n    }\n\n    this.setSwapButtonState.enabled();\n  };\n\n  /**\n   * Sets enabled/disabled for swap button\n   * @type {Object}\n   */\n  this.setSwapButtonState = {\n    enabled: () => (translatorEls.swapButton.disabled = false),\n    disabled: () => (translatorEls.swapButton.disabled = true),\n  };\n\n  /**\n   * Adds the clear content button to the original textarea\n   * @return {void}\n   */\n  this.addClearContentButton = () => {\n    const buttonClass = translatorEls.clearButton;\n\n    translatorEls.clearButton = document.createElement('a');\n    translatorEls.clearButton.setAttribute('class', buttonClass);\n\n    const clearIcon = document.createElement('i');\n    clearIcon.setAttribute('class', 'ft-clear-icon fa fa-fw fa-trash-o');\n\n    const clearText = document.createElement('span');\n    clearText.innerText = uiText.clickToClear;\n    clearText.setAttribute('class', 'ft-clear-text');\n\n    translatorEls.clearButton.append(clearText, clearIcon);\n\n    const inputfieldHeader =\n      translatorEls.sourceContentInputfield.querySelector('.InputfieldHeader');\n\n    inputfieldHeader.classList.add(`${buttonClass}-container`);\n    inputfieldHeader.appendChild(translatorEls.clearButton);\n\n    this.bindClearContentButton();\n  };\n\n  /**\n   * Binds the event listener for the button copy action\n   * @return {void}\n   */\n  this.bindClearContentButton = () => {\n    translatorEls.clearButton.addEventListener('click', e => {\n      e.preventDefault();\n\n      sourceContentController.clearContent();\n      translatedContentController.clearContent();\n    });\n  };\n\n  /**\n   * Adds and binds the copy content button\n   * @return {void}\n   */\n  this.addCopyContentButton = () => {\n    const buttonClass = translatorEls.copyButton;\n\n    translatorEls.copyButton = document.createElement('a');\n    translatorEls.copyButton.setAttribute('class', buttonClass);\n\n    const copyIcon = document.createElement('i');\n    copyIcon.setAttribute('class', 'ft-copy-icon fa fa-fw fa-clone');\n\n    const copyText = document.createElement('span');\n    copyText.innerText = uiText.clickToCopy;\n    copyText.setAttribute('class', 'ft-copy-text');\n\n    translatorEls.copyButton.append(copyText, copyIcon);\n\n    const inputfieldHeader =\n      translatorEls.translatedContentInputfield.querySelector('.InputfieldHeader');\n\n    inputfieldHeader.classList.add(`${buttonClass}-container`);\n    inputfieldHeader.appendChild(translatorEls.copyButton);\n\n    this.bindCopyContentButton();\n  };\n\n  /**\n   * Binds the event listener for the button copy action\n   * @return {void}\n   */\n  this.bindCopyContentButton = () => {\n    translatorEls.copyButton.addEventListener('click', e => {\n      e.preventDefault();\n\n      const content = translatedContentController.getContent();\n\n      if (content) {\n        navigator.clipboard.writeText(content).then(() => {\n          translatedContentController.indicateSuccess(uiText.copied);\n        });\n      }\n    });\n  };\n\n  /**\n   * Shows/hides content copy button\n   * @param  {Bool} contentPresent Determines if button is shown or not\n   * @return {void}\n   */\n  this.toggleCopyContentButton = contentPresent => {\n    if (contentPresent) {\n      translatorEls.copyButton.classList.add('enabled');\n      return;\n    }\n\n    translatorEls.copyButton.classList.remove('enabled');\n  };\n\n  this.createInputControllers = () => {\n    sourceLanguageSelectController = new languageSelectController(\n      'source',\n      translatorEls.sourceLanguageSelect,\n      this.languageSelectCallback,\n    );\n\n    targetLanguageSelectController = new languageSelectController(\n      'target',\n      translatorEls.targetLanguageSelect,\n      this.languageSelectCallback,\n    );\n\n    sourceContentController = new translationContentController(\n      translatorEls.sourceContentInputfield,\n    );\n\n    translatedContentController = new translationContentController(\n      translatorEls.translatedContentInputfield,\n      this.toggleCopyContentButton,\n    );\n  };\n\n  /**\n   * Passed to the languageSelectController on creation, is called when 'change' event fires\n   *\n   * @param  {Object}  selectEl Instance of the calling languageSelectController\n   * @param  {Event  } event    addEventListener event object\n   * @return {void}\n   */\n  this.languageSelectCallback = (languageSelectController, event) => {\n    const selectType = languageSelectController.getType();\n    const value = languageSelectController.getValue();\n\n    this.selectedLanguages[selectType] = value || null;\n\n    !!value ? this.setSwapButtonState.enabled() : this.setSwapButtonState.disabled();\n  };\n\n  /**\n   * Inits on object creation\n   */\n  (() => {\n    this.cacheElements();\n    this.createInputControllers();\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    this.addCopyContentButton();\n    this.addClearContentButton();\n    this.bindTranslateButton();\n    this.initLanguageSwapButtonState();\n    this.bindLanguageSwapButton();\n  })();\n};\n\n/**\n * Stat management for language select Inputfields\n */\nconst languageSelectController = function (type, inputfield, onChangeCallback) {\n  let activityOverlay;\n\n  let selectEl;\n\n  this.getType = () => type;\n\n  this.getSelf = () => inputfield;\n\n  this.getValue = () => selectEl.value || '';\n\n  this.setValue = value => (selectEl.value = value);\n\n  this.getOptions = () => [...selectEl.options].map(opt => opt.value).filter(opt => !!opt);\n\n  this.indicateError = () => activityOverlay.flashError('', 300);\n\n  (() => {\n    selectEl = inputfield.querySelector('select');\n\n    selectEl.addEventListener('change', e => onChangeCallback(this, e));\n\n    activityOverlay = new FtActivityOverlay(this);\n  })();\n};\n\n/**\n * Content IO for translation content Inputfields\n */\nconst translationContentController = function (inputfield, contentPresenceChangeCallback = null) {\n  /**\n   * Standalone translator localized text\n   *\n   * @type {object}\n   */\n  let uiText = FtConfig.getUiTextFor('standaloneTranslator');\n\n  /**\n   * Holds the textarea that will have content managed\n   */\n  let inputfieldContent;\n\n  /**\n   * Holds state of field contents\n   */\n  let hasContent = false;\n\n  /**\n   * Activity Overlay instance\n   */\n  let activityOverlay;\n\n  this.getSelf = () => inputfield;\n\n  /**\n   * Retrieves content from this Inputfield\n   * @return {String}\n   */\n  this.getContent = () => inputfieldContent.get();\n\n  /**\n   * Sets content for this Inputfield\n   * @param  {String} content Content to set\n   * @return {void}\n   */\n  this.setContent = content => inputfieldContent.set(content);\n\n  /**\n   * Removes all content from this Inputfield\n   * @return {void}\n   */\n  this.clearContent = () => this.setContent('');\n\n  /**\n   * Flash an error overlay to draw attention\n   * @return {void}\n   */\n  this.indicateError = () => activityOverlay.flashError('', 300);\n\n  /**\n   * Flash a success message overlay\n   * @param  {String} message Content of message\n   * @return {void}\n   */\n  this.indicateSuccess = message => activityOverlay.flashSuccess(message);\n\n  /**\n   * Inits on object creation\n   */\n  (() => {\n    inputfieldContent = new textareaInputfieldContent(inputfield, contentPresenceChangeCallback);\n    activityOverlay = new FtActivityOverlay(this);\n  })();\n};\n\n/**\n * textarea I/O\n */\nconst textareaInputfieldContent = function (inputfield, stateChangeCallback = null) {\n  let textarea;\n\n  let hasContent = false;\n\n  this.set = content => {\n    textarea.value = content;\n\n    textarea.dispatchEvent(new Event('input'));\n  };\n\n  this.get = () => textarea.value;\n\n  this.bindContentChangeListener = () => {\n    textarea.addEventListener('input', e => {\n      const currentContent = e.target.value;\n\n      if (currentContent && !hasContent) {\n        hasContent = true;\n\n        stateChangeCallback(true);\n      }\n\n      if (!currentContent && hasContent) {\n        hasContent = false;\n\n        stateChangeCallback(false);\n      }\n    });\n  };\n\n  (() => {\n    textarea = inputfield.querySelector('textarea');\n\n    if (stateChangeCallback) {\n      this.bindContentChangeListener();\n    }\n  })();\n};\n\nexport default FtStandaloneTranslatorFieldset;\n"],"names":["initializedAttr","$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","errors","requestHeaders","postRequest","getRequest","deleteRequest","parseResponse","handleFetchError","$7f11ec91dd11e761$export$2e2bcd8739ae039","$iN3hH","default","getUiTextFor","requestType","endpoint","data","responseHandler","fetch","method","cache","headers","body","JSON","stringify","then","catch","response","status","ok","json","error","console","message","returnObject","split","deleteTranslatableLanguagesCache","getApiEndpointFor","deleteTranslationCache","getAvailableLanguages","getTranslation","sourceLanguage","targetLanguage","content","options","caching","getUsage","config","localizedStrings","elementClasses","strings","endpoints","configuredLanguages","unconfiguredLanguages","getConfiguredLanguages","getUnconfiguredLanguages","getEngineInfo","$dadf59d3bc71d322$export$2e2bcd8739ae039","ProcessWire","fluency","localization","translateButton","container","button","languageTranslator","sourceLanguageSelect","sourceLanguageSelectLabel","statusPlaceholder","label","icon","activityOverlay","languageSelect","inputfieldTranslateButtons","standaloneTranslator","usage","languages","apiEndpoints","translatableLanguagesCache","test","translation","translationCache","fieldInitializedAttr","key","getDefaultLanguage","reduce","defaultLang","lang","getElementClassesFor","element","engine","getEngineProvidesUsageData","providesUsageData","getLanguageCount","length","getLanguageForId","pwLanguageId","parseInt","match","language","getTranslationAction","interface","inputfieldTranslationAction","getTranslationDisabledFieldAttribute","translationDisabledFieldAttr","languageIsTranslatable","languageId","includes","moduleShouldInitialize","translationActionTypes","each","all","both","$c03f2159e353ef94$export$2e2bcd8739ae039","targetContainer","activityType","messageContainer","activityContainer","targetContainerContainer","elClasses","parent","overlay","flash","activity","visible","activityStaticText","activityAnimationContainer","activityAnimationItem","showActivity","setActivityActive","setOverlayVisible","showMessage","displayTime","setMessageContent","setActivityInactive","setMessageActive","hide","flashSuccess","setSuccessActive","setFlashActive","flashError","setErrorActive","showError","delay","setTimeout","setOverlayInvisible","setMessageInactive","setErrorInactive","setFlashInactive","classList","add","remove","innerText","success","setSuccessInactive","create","buildOverlayEl","buildActivityEl","buildMessageEl","appendChild","document","createElement","setAttribute","text","getActivityTexts","animated","el","string","activityText","innerHTML","staticText","static","uiTexts","animationTexts","i","j","Math","floor","random","temp","getSelf","$aUodT","$gvk63","$ade68a98378ff5dc$var$FtStandaloneTranslatorFieldset","querySelectorAll","forEach","translatorFieldset","$ade68a98378ff5dc$var$standaloneTranslatorFieldset","fieldset","sourceContentController","translatedContentController","sourceLanguageSelectController","targetLanguageSelectController","uiText","translatorEls","targetLanguageSelect","sourceContentInputfield","translatedContentInputfield","copyButton","clearButton","swapButton","cacheElements","querySelector","closest","bindTranslateButton","addEventListener","preventDefault","getValue","sourceContent","getContent","indicateError","result","setContent","translations","selectedLanguages","source","target","bindLanguageSwapButton","swapLanguageSelectValues","swapTranslationContent","targetContent","sourceOptions","getOptions","targetOptions","newSourceLanguage","getLanguageSwapValue","newTargetLanguage","setValue","type","simplifiedLanguage","simplifiedIndex","simplifiedOptions","map","opt","indexOf","initLanguageSwapButtonState","setSwapButtonState","enabled","disabled","addClearContentButton","buttonClass","clearIcon","clearText","clickToClear","append","inputfieldHeader","bindClearContentButton","clearContent","addCopyContentButton","copyIcon","copyText","clickToCopy","bindCopyContentButton","navigator","clipboard","writeText","indicateSuccess","copied","toggleCopyContentButton","contentPresent","createInputControllers","$ade68a98378ff5dc$var$languageSelectController","languageSelectCallback","$ade68a98378ff5dc$var$translationContentController","languageSelectController","event","selectType","getType","value","inputfield","onChangeCallback","selectEl","filter","contentPresenceChangeCallback","inputfieldContent","$ade68a98378ff5dc$var$textareaInputfieldContent","stateChangeCallback","textarea","hasContent","dispatchEvent","Event","bindContentChangeListener","currentContent"],"version":3,"file":"fluency_standalone_translator.js.map"}