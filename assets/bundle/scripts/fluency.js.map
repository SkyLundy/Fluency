{"mappings":"C,A,eO0BQ,EAMA,EAsBA,EAeA,EAQA,EAwBA,EAWA,EA0CA,EAwBA,EAoBA,EASA,E,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,I,O,W,W,A,I,O,K,K,A,I,O,O,O,A,I,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,MNzLA,EAMA,EAMA,EA6BA,EAcA,EAaA,EAMA,EAiBA,EAwBA,EAiDA,E,E,E,O,C,U,W,O,C,GAgDR,IAAA,GA9MQ,EAAmB,CANnB,EAAS,YAAY,MAAM,CAAC,OAAO,EAMT,YAAY,CAMtC,EAAiB,CACrB,gBAAiB,CACf,UAAW,gCACX,OAAQ,qBACV,EACA,mBAAoB,CAClB,UAAW,oCACX,QAAS,0DACT,gBAAiB,0BACjB,qBAAsB,sCACtB,0BAA2B,iCAC7B,EACA,kBAAmB,CACjB,UAAW,kCACX,MAAO,uBACT,EACA,KAAM,SACR,EAYM,EAAU,CACd,gBAAiB,EAAiB,eAAe,CACjD,eAAgB,EAAiB,cAAc,CAC/C,2BAA4B,EAAiB,0BAA0B,CACvE,qBAAsB,EAAiB,oBAAoB,CAC3D,MAAO,EAAiB,KAAK,CAC7B,OAAQ,EAAiB,MAAM,CAC/B,mBAAoB,EAAiB,kBAAkB,AACzD,EAMM,EAAY,CAChB,UAAW,EAAO,YAAY,CAAC,SAAS,CACxC,2BAA4B,EAAO,YAAY,CAAC,0BAA0B,CAC1E,KAAM,EAAO,YAAY,CAAC,IAAI,CAC9B,YAAa,EAAO,YAAY,CAAC,WAAW,CAC5C,iBAAkB,EAAO,YAAY,CAAC,gBAAgB,CACtD,MAAO,EAAO,YAAY,CAAC,KAAK,AAClC,EAMM,EAAsB,EAAO,mBAAmB,CAMhD,EAAwB,EAAO,qBAAqB,CAiBpD,EAAyB,IAAM,EAwB/B,EAA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","sources":["<anon>","resources/scripts/global/FtConfig.js","resources/scripts/ui/FtActivityOverlay.js","resources/scripts/global/Fluency.js","resources/scripts/ui/FtUiElements.js","resources/scripts/ui/FtAdminMenu.js","resources/scripts/fluency.js","resources/scripts/inputfields/FtInputfields.js","resources/scripts/inputfields/FtInputfieldCKEditor.js","resources/scripts/ui/FtInputfieldTranslateButton.js","resources/scripts/ui/FtLanguageTab.js","resources/scripts/inputfields/FtInputfieldCKEditorInline.js","resources/scripts/inputfields/FtInputfieldTable.js","resources/scripts/inputfields/FtInputfieldText.js","resources/scripts/inputfields/FtInputfieldTextarea.js","resources/scripts/inputfields/FtInputfieldTinyMCE.js","resources/scripts/inputfields/FtInputfieldTinyMCEInline.js","resources/scripts/inputfields/FtInputfieldPageName.js"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiree003\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiree003\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"iN3hH\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $dadf59d3bc71d322$export$2e2bcd8739ae039; });\n/**\n * This provides access methods to get module configuration values\n * @return {Object}  Public methods\n */ const $dadf59d3bc71d322$var$FtConfig = function() {\n    // Public properties\n    const fieldInitializedAttr = 'data-ft-initialized';\n    const translationActionTypes = {\n        each: 'translate_each_language',\n        all: 'translate_to_all_languages',\n        both: 'both'\n    };\n    // Private properties\n    /**\n   * Holds the data passed from the Fluency module\n   * @access Private\n   * @type {Object}\n   */ const config = ProcessWire.config.fluency;\n    /**\n   * All UI strings\n   * @type {Object}\n   */ const localizedStrings = config.localization;\n    /**\n   * Classes for elements created in UI\n   * @type {Object}\n   */ const elementClasses = {\n        translateButton: {\n            container: 'ft-translate-button-container',\n            button: 'ft-translate-button'\n        },\n        languageTranslator: {\n            container: 'Inputfield InputfieldHeaderHidden',\n            content: 'InputfieldContent ft-language-translator-button-content',\n            translateButton: 'ft-translate-all-button',\n            sourceLanguageSelect: 'uk-select ft-source-language-select',\n            sourceLanguageSelectLabel: 'ft-source-language-select-label'\n        },\n        statusPlaceholder: {\n            container: 'ft-translation-status-container',\n            label: 'ft-translation-status'\n        },\n        icon: 'ft-icon'\n    };\n    /**\n   * Objects interface with the Fluency config object so that changes to the object\n   * structure from the back end do not break the UI. Use the public methods below\n   * to access ProcessWire.config.fluency properties and data\n   */ /**\n   * Localized strings keyed sets\n   * @type {Object}\n   */ const strings = {\n        activityOverlay: localizedStrings.activityOverlay,\n        languageSelect: localizedStrings.languageSelect,\n        inputfieldTranslateButtons: localizedStrings.inputfieldTranslateButtons,\n        standaloneTranslator: localizedStrings.standaloneTranslator,\n        usage: localizedStrings.usage,\n        errors: localizedStrings.errors,\n        languageTranslator: localizedStrings.languageTranslator\n    };\n    /**\n   * Fluency API keyed URLs\n   * @type {Object}\n   */ const endpoints = {\n        languages: config.apiEndpoints.languages,\n        translatableLanguagesCache: config.apiEndpoints.translatableLanguagesCache,\n        test: config.apiEndpoints.test,\n        translation: config.apiEndpoints.translation,\n        translationCache: config.apiEndpoints.translationCache,\n        usage: config.apiEndpoints.usage\n    };\n    /**\n   * Contains all of the Fluency configured langauges from the module\n   * @type {Array}\n   */ const configuredLanguages = config.configuredLanguages;\n    /**\n   * Contains an array of ProcessWire language IDs not configured in Fluency\n   * @type {Array}\n   */ const unconfiguredLanguages = config.unconfiguredLanguages;\n    // Public methods\n    /**\n   * Fluency REST API\n   */ const getApiEndpointFor = (key)=>endpoints[key];\n    /**\n   * Languages\n   */ /**\n   * Get all configured languages\n   * @return {object}\n   */ const getConfiguredLanguages = ()=>configuredLanguages;\n    /**\n   * Returns ProcessWire's default language\n   * @return {object}\n   */ const getDefaultLanguage = ()=>getConfiguredLanguages().reduce((defaultLang, lang)=>lang.default ? lang : defaultLang, null);\n    /**\n   * Determines if the language with a given ProcessWire ID can be translated\n   * @param  {int|string} languageId ProcessWire language ID\n   * @return {bool}\n   */ const languageIsTranslatable = (languageId)=>!getUnconfiguredLanguages().includes(parseInt(languageId, 10));\n    /**\n   * Get all languages not configured in Fluency\n   * @return {object}\n   */ const getUnconfiguredLanguages = ()=>unconfiguredLanguages;\n    /**\n   * Gets total count of configured and unconfigured languages\n   * @return {int}\n   */ const getLanguageCount = ()=>getConfiguredLanguages().length + getUnconfiguredLanguages().length;\n    /**\n   * Get a configured language by it's ProcessWire ID\n   * @param  {string|int} pwLanguageId ProcessWire language ID\n   * @return {object}\n   */ const getLanguageForId = (pwLanguageId)=>{\n        pwLanguageId = parseInt(pwLanguageId, 10);\n        return getConfiguredLanguages().reduce((match, language)=>language.id === pwLanguageId ? language : match, null);\n    };\n    /**\n   * Localization\n   */ /**\n   * Accessor method for localized UI strings\n   * @param  {string} key Object key\n   * @return {string}\n   */ const getUiTextFor = (key)=>strings[key];\n    /**\n   * Module Configuration/State\n   */ /**\n   * Determines if Fluency JS should initialize based on whether languages have\n   * been configured\n   * @return {bool}\n   */ const moduleShouldInitialize = ()=>getConfiguredLanguages().length > 1;\n    /**\n   * Returns the translation engine config object for the engine configured in Fluency\n   * @return {object|null}\n   */ const getEngineInfo = ()=>config.engine;\n    /**\n   * Does this engine provide usage data?\n   * @return {bool}\n   */ const getEngineProvidesUsageData = ()=>getEngineInfo().providesUsageData;\n    /**\n   * Gets the type of translation action chosen in the Flunecy module config\n   * @return {string}\n   */ const getTranslationAction = ()=>config.interface.inputfieldTranslationAction;\n    /**\n   * The attribute added to individual field elements where translation has been disabled\n   * @return {string}\n   */ const getTranslationDisabledFieldAttribute = ()=>`[${config.interface.translationDisabledFieldAttr}]`;\n    /**\n   * Class names added to UI components\n   * @param  {string} element The type of component\n   * @return {string}\n   */ const getElementClassesFor = (element)=>elementClasses[element];\n    return {\n        fieldInitializedAttr: fieldInitializedAttr,\n        getApiEndpointFor: getApiEndpointFor,\n        getConfiguredLanguages: getConfiguredLanguages,\n        getDefaultLanguage: getDefaultLanguage,\n        getElementClassesFor: getElementClassesFor,\n        getEngineInfo: getEngineInfo,\n        getEngineProvidesUsageData: getEngineProvidesUsageData,\n        getLanguageCount: getLanguageCount,\n        getLanguageForId: getLanguageForId,\n        getTranslationAction: getTranslationAction,\n        getTranslationDisabledFieldAttribute: getTranslationDisabledFieldAttribute,\n        getUiTextFor: getUiTextFor,\n        getUnconfiguredLanguages: getUnconfiguredLanguages,\n        languageIsTranslatable: languageIsTranslatable,\n        moduleShouldInitialize: moduleShouldInitialize,\n        translationActionTypes: translationActionTypes\n    };\n}();\nvar $dadf59d3bc71d322$export$2e2bcd8739ae039 = $dadf59d3bc71d322$var$FtConfig;\n\n});\n\nparcelRegister(\"gvk63\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $c03f2159e353ef94$export$2e2bcd8739ae039; });\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n/**\n * Creates, inserts, and controls the actions the activity overlay for the provided\n * targetContainer\n * @param {object} targetContainer An instantiated object for an inputfield or fieldset\n * @param {string} type       The type of activity for this overlay. 'translate' or 'update'\n */ const $c03f2159e353ef94$var$FtActivityOverlay = function(targetContainer, activityType = 'translating') {\n    const elClasses = {\n        parent: 'ft-activity-overlay-container',\n        overlay: 'ft-activity-overlay',\n        error: 'error',\n        message: 'message',\n        flash: 'flash',\n        activity: 'activity',\n        visible: 'visible',\n        activityContainer: 'ft-activity',\n        activityStaticText: 'ft-activity-text',\n        activityAnimationContainer: 'ft-activity-animation-container',\n        activityAnimationItem: 'ft-activity-animation-item',\n        messageContainer: 'ft-activity-message'\n    };\n    /**\n   * Will contain the activityOverlay Element for this targetContainer\n   * @type {Element}\n   */ let activityOverlay;\n    /**\n   * Will contain the message Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */ let messageContainer;\n    /**\n   * Will contain the animation container Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */ let activityContainer;\n    /**\n   * Show the overlay's activity animation that was created at instantiation\n   * @return {void}\n   */ this.showActivity = ()=>{\n        this.setActivityActive();\n        this.setOverlayVisible();\n    };\n    /**\n   * Shows a message in the overlay (neutral background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.showMessage = (message, displayTime = 5000)=>{\n        this.setMessageContent(message);\n        this.setActivityInactive();\n        this.setMessageActive();\n        this.setOverlayVisible();\n        this.hide(displayTime);\n    };\n    /**\n   * Shows a success message (success color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.flashSuccess = (message, displayTime = 500)=>{\n        this.setSuccessActive();\n        this.setFlashActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Shows an error message (error color background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.flashError = (message, displayTime = 500)=>{\n        this.setFlashActive();\n        this.setErrorActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Shows an error message in a visible overlay (error background)\n   * @param  {String} message     Message to show in overlay error\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */ this.showError = (message, displayTime = 5000)=>{\n        this.setErrorActive();\n        this.showMessage(message, displayTime);\n    };\n    /**\n   * Hide an overlay immediately or after a preset amount of time\n   * @param {Number} delay Length of time in ms before hiding overlay\n   */ this.hide = (delay = 0)=>{\n        setTimeout(()=>{\n            this.setOverlayInvisible();\n        }, delay);\n        // Ensures the animation is finished before modifying content\n        setTimeout(()=>{\n            this.setActivityInactive();\n            this.setMessageInactive();\n            this.setErrorInactive();\n            this.setFlashInactive();\n            this.setMessageContent('');\n        }, delay + 500);\n    };\n    /**\n   * Shows the activity element\n   * @access Private\n   */ this.setActivityActive = ()=>activityOverlay.classList.add(elClasses.activity);\n    /**\n   * Hides the activity element\n   * @access Private\n   */ this.setActivityInactive = ()=>activityOverlay.classList.remove(elClasses.activity);\n    /**\n   * Shows the message element\n   * @access Private\n   */ this.setMessageActive = ()=>activityOverlay.classList.add(elClasses.message);\n    /**\n   * Hides the activity element\n   * @access Private\n   */ this.setMessageInactive = ()=>activityOverlay.classList.remove(elClasses.message);\n    /**\n   * Sets the content of the overlay message\n   * @access Private\n   */ this.setMessageContent = (content)=>messageContainer.innerText = content;\n    /**\n   * Adds flashing overlay behavior\n   * @access Private\n   */ this.setFlashActive = ()=>activityOverlay.classList.add(elClasses.flash);\n    /**\n   * removes flashing overlay behavior\n   * @access Private\n   */ this.setFlashInactive = ()=>activityOverlay.classList.remove(elClasses.flash);\n    /**\n   * Sets message to success\n   * @access Private\n   */ this.setSuccessActive = ()=>activityOverlay.classList.add(elClasses.success);\n    /**\n   * Unsets success message\n   * @access Private\n   */ this.setSuccessInactive = ()=>activityOverlay.classList.remove(elClasses.success);\n    /**\n   * Sets message to error\n   * @access Private\n   */ this.setErrorActive = ()=>activityOverlay.classList.add(elClasses.error);\n    /**\n   * Unsets message error\n   * @access Private\n   */ this.setErrorInactive = ()=>activityOverlay.classList.remove(elClasses.error);\n    /**\n   * Shows this activity overlay\n   * @access Private\n   */ this.setOverlayVisible = ()=>activityOverlay.classList.add(elClasses.visible);\n    /**\n   * Hides this activity overlay\n   * @access Private\n   */ this.setOverlayInvisible = ()=>activityOverlay.classList.remove(elClasses.visible);\n    /**\n   * Creates and returns an activity overlay element\n   * @return {HTMLElement}\n   */ this.create = ()=>{\n        activityOverlay = this.buildOverlayEl();\n        activityContainer = this.buildActivityEl();\n        messageContainer = this.buildMessageEl();\n        activityOverlay.appendChild(activityContainer);\n        activityOverlay.appendChild(messageContainer);\n        return activityOverlay;\n    };\n    /**\n   * Creates the parent overlay element\n   * @return {Element}\n   * @access Private\n   */ this.buildOverlayEl = ()=>{\n        const overlay = document.createElement('div');\n        overlay.setAttribute('class', elClasses.overlay);\n        return overlay;\n    };\n    /**\n   * Creates container for animation and contents of animation\n   * @return {Element}\n   * @access Private\n   */ this.buildActivityEl = ()=>{\n        let text = this.getActivityTexts();\n        let activityAnimationContainer = document.createElement('div');\n        activityAnimationContainer.setAttribute('class', elClasses.activityAnimationContainer);\n        // Add all animation items to the animation container\n        activityAnimationContainer = text.animated.reduce((el, string)=>{\n            let activityText = document.createElement('span');\n            // Add text items\n            activityText.setAttribute('class', elClasses.activityAnimationItem);\n            activityText.innerHTML = string;\n            el.appendChild(activityText);\n            return el;\n        }, activityAnimationContainer);\n        // Create static text element\n        let staticText = document.createElement('div');\n        staticText.setAttribute('class', elClasses.activityStaticText);\n        staticText.innerText = text.static;\n        // Create activity container and append children\n        activityContainer = document.createElement('div');\n        activityContainer.setAttribute('class', elClasses.activityContainer);\n        activityContainer.appendChild(staticText);\n        activityContainer.appendChild(activityAnimationContainer);\n        return activityContainer;\n    };\n    /**\n   * Gets activity overlay texts and shuffles the animated array\n   * No purpose really other than to add some uniqueness to overlay animations and prevent looking\n   * like one language was preferred by me over another.\n   *\n   * Fisher-Yates algorithm, for the curious\n   * @return {Array} Randomized array of the activity animation texts for this instance\n   * @access Private\n   */ this.getActivityTexts = ()=>{\n        let uiTexts = (0, $iN3hH.default).getUiTextFor('activityOverlay')[activityType];\n        let animationTexts = uiTexts.animated;\n        for(let i = animationTexts.length - 1; i > 0; i--){\n            let j = Math.floor(Math.random() * (i + 1));\n            let temp = animationTexts[i];\n            animationTexts[i] = animationTexts[j];\n            animationTexts[j] = temp;\n        }\n        uiTexts.animated = animationTexts;\n        return uiTexts;\n    };\n    /**\n   * Builds the element that will hold messages in the overlay\n   * @return {Element}\n   * @access Private\n   */ this.buildMessageEl = ()=>{\n        messageContainer = document.createElement('div');\n        messageContainer.setAttribute('class', elClasses.messageContainer);\n        return messageContainer;\n    };\n    (()=>{\n        const targetContainerContainer = targetContainer.getSelf();\n        activityOverlay = this.create();\n        targetContainerContainer.classList.add(elClasses.parent);\n        targetContainerContainer.appendChild(activityOverlay);\n    })();\n};\nvar $c03f2159e353ef94$export$2e2bcd8739ae039 = $c03f2159e353ef94$var$FtActivityOverlay;\n\n});\n\nparcelRegister(\"aUodT\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $7f11ec91dd11e761$export$2e2bcd8739ae039; });\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n/**\n * Core module interface\n * Handles all interaction with the ProcessWire module backend\n * @return {object} Public interfaces\n */ const $7f11ec91dd11e761$var$Fluency = function() {\n    /**\n   * Localized error strings\n   * @type {Object}\n   */ const errors = (0, $iN3hH.default).getUiTextFor('errors');\n    /**\n   * Data Request Methods\n   */ /**\n   * Gets a translation from the Fluency module\n   * @param  {String}       sourceLanguage ISO language code\n   * @param  {String}       targetLanguage ISO langauge code\n   * @param  {String|Array} content        Content to translate\n   * @param  {Array}        options        Additional options\n   * @param  {Bool|null}         caching        Enable/disable caching\n   * @return {Promise}\n   */ const getTranslation = (sourceLanguage, targetLanguage, content, options = [], caching = null)=>{\n        return postRequest((0, $iN3hH.default).getApiEndpointFor('translation'), {\n            sourceLanguage: sourceLanguage,\n            targetLanguage: targetLanguage,\n            content: content,\n            options: options,\n            caching: caching\n        }, (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Gets the current translation service API usage\n   * @return {Promise}\n   */ const getUsage = ()=>{\n        return getRequest((0, $iN3hH.default).getApiEndpointFor('usage'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Get all language available for translation. Provides source/target lists from the translation\n   * service API\n   * @return {Promise}\n   */ const getAvailableLanguages = ()=>{\n        return getRequest((0, $iN3hH.default).getApiEndpointFor('languages'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Clear all cached translations\n   * @return {Promise}\n   */ const deleteTranslationCache = ()=>{\n        return deleteRequest((0, $iN3hH.default).getApiEndpointFor('translationCache'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * Clear cached list of translatable languages\n   * @return {Promise}\n   */ const deleteTranslatableLanguagesCache = ()=>{\n        return deleteRequest((0, $iN3hH.default).getApiEndpointFor('translatableLanguagesCache'), (response)=>{\n            return response;\n        });\n    };\n    /**\n   * HTTP Requests\n   */ /**\n   * Create headers for AJAX requests\n   * @return {Object}\n   */ const requestHeaders = (requestType)=>{\n        const requestHeaders = {\n            'X-Requested-With': 'XMLHttpRequest'\n        };\n        if (requestType === 'GET') requestHeaders['Accept'] = 'application/json';\n        if (requestType === 'POST') requestHeaders['Content-Type'] = 'application/json';\n        return requestHeaders;\n    };\n    /**\n   * Executes a POST request to a given endpoint\n   * @param  {String}    endpoint URL for AJAX request\n   * @param  {Object}    data     Data for request\n   * @param  {Callable}  data     Function to handle response body\n   * @return {Promise}\n   */ const postRequest = (endpoint, data, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'POST',\n            cache: 'no-store',\n            headers: requestHeaders,\n            body: JSON.stringify(data)\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Executes a GET request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */ const getRequest = (endpoint, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'GET',\n            cache: 'no-store',\n            headers: requestHeaders('GET')\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Executes a DELETE request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */ const deleteRequest = (endpoint, responseHandler)=>{\n        return fetch(endpoint, {\n            method: 'DELETE',\n            headers: requestHeaders('GET')\n        }).then(parseResponse).then(responseHandler).catch(handleFetchError);\n    };\n    /**\n   * Parses response\n   * @param  {Object} response Fluency API response\n   * @return {Object|Void}\n   * @throws Error\n   */ const parseResponse = (response)=>{\n        if (response.status === 204) return response;\n        if (response.ok) return response.json();\n        throw new Error();\n    };\n    /**\n   * Parses and returns results for a fetch error\n   * These are network level errors that occur between ProcessWire and the hosting server\n   * Any translation or service errors will be located within the response body itself\n   * @param  {Error} error Fetch API error object\n   * @return {Object}\n   */ const handleFetchError = (error)=>{\n        console.error('[Fluency module API failure]', error.message);\n        const returnObject = {\n            error: null,\n            message: null\n        };\n        switch(error.message.split(' ')[0]){\n            case 'NetworkError':\n                returnObject.error = 'FLUENCY_CLIENT_DISCONNECTED';\n                returnObject.message = errors['FLUENCY_CLIENT_DISCONNECTED'];\n                break;\n            default:\n                returnObject.error = 'UNKNOWN_ERROR';\n                returnObject.message = errors['UNKNOWN_ERROR'];\n                break;\n        }\n        return returnObject;\n    };\n    return {\n        deleteTranslatableLanguagesCache: deleteTranslatableLanguagesCache,\n        deleteTranslationCache: deleteTranslationCache,\n        getAvailableLanguages: getAvailableLanguages,\n        getTranslation: getTranslation,\n        getUsage: getUsage\n    };\n}();\nvar $7f11ec91dd11e761$export$2e2bcd8739ae039 = $7f11ec91dd11e761$var$Fluency;\n\n});\n\nparcelRegister(\"75OpQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $52a01b96aace9c18$export$2e2bcd8739ae039; });\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\nparcelRequire(\"aUodT\");\n/**\n * Creates common HTML elements\n *\n * @return {Object} Public methods\n */ const $52a01b96aace9c18$var$FtUiElements = function() {\n    /**\n   * @type {Object}\n   */ const elementClasses = (0, $iN3hH.default).elementClasses;\n    /**\n   * Gets all localized strings from the FluencyConfig object\n   * These do nothing on their own and must be bound with any behavior after creation\n   * @type {object}\n   */ const uiText = (0, $iN3hH.default).getUiTextFor('inputfieldTranslateButtons');\n    /**\n   * Creates a language fontawesome icon element\n   * @return {Element}\n   */ const createIcon = ()=>{\n        const iconLink = document.createElement('a');\n        iconLink.setAttribute('href', `${ProcessWire.config.urls.admin}fluency/?modal=1`);\n        iconLink.setAttribute('class', 'pw-modal pw-modal-large');\n        const icon = document.createElement('i');\n        icon.setAttribute('class', `${(0, $iN3hH.default).getElementClassesFor('icon')} fa fa-language`);\n        icon.setAttribute('uk-tooltip', uiText.showTranslator);\n        iconLink.appendChild(icon);\n        return iconLink;\n    };\n    /**\n   * Creates a status placeholder\n   * @param  {string} text Button text\n   * @return {Element}\n   */ const createStatusElement = (text)=>{\n        const elClasses = (0, $iN3hH.default).getElementClassesFor('statusPlaceholder');\n        const label = document.createElement('span');\n        label.setAttribute('class', elClasses.label);\n        label.innerText = text;\n        const container = document.createElement('div');\n        container.setAttribute('class', elClasses.container);\n        container.appendChild(createIcon());\n        container.appendChild(label);\n        return container;\n    };\n    /**\n   * Creates a translate button element\n   * @return {Object} Container element and Button element\n   */ const createTranslateButton = (text)=>{\n        const elClasses = (0, $iN3hH.default).getElementClassesFor('translateButton');\n        const button = document.createElement('a');\n        button.innerText = text;\n        button.setAttribute('class', elClasses.button);\n        button.setAttribute('href', '');\n        const container = document.createElement('div');\n        container.setAttribute('class', elClasses.container);\n        container.appendChild(createIcon());\n        container.appendChild(button);\n        return {\n            button: button,\n            container: container\n        };\n    };\n    /**\n   * Creates the translate to all for the language translator pages\n   * @param  {string} text Button label\n   * @return {Element}\n   */ const createLanguageTranslatorInputs = ()=>{\n        const elClasses = (0, $iN3hH.default).getElementClassesFor('languageTranslator');\n        const texts = (0, $iN3hH.default).getUiTextFor('languageTranslator');\n        // Translate All button\n        const translateAllButton = document.createElement('a');\n        translateAllButton.innerText = texts.translateAllButton;\n        translateAllButton.setAttribute('class', elClasses.translateButton);\n        translateAllButton.setAttribute('href', '');\n        // Source language select\n        const sourceLanguageSelect = document.createElement('select');\n        sourceLanguageSelect.setAttribute('class', elClasses.sourceLanguageSelect);\n        // Source language select options\n        (0, $iN3hH.default).getConfiguredLanguages().forEach(function(language) {\n            const option = document.createElement('option');\n            option.textContent = language.title;\n            option.value = language.engineLanguage.sourceCode;\n            if (language.default) {\n                option.selected = 'selected';\n                sourceLanguageSelect.prepend(option);\n                return;\n            }\n            sourceLanguageSelect.appendChild(option);\n        });\n        // Source language select label text\n        const selectLabelText = document.createElement('span');\n        selectLabelText.innerText = texts.sourceLanguageSelectLabel;\n        // Source language select label\n        const sourceLanguageSelectLabel = document.createElement('label');\n        sourceLanguageSelectLabel.setAttribute('class', elClasses.sourceLanguageSelectLabel);\n        sourceLanguageSelectLabel.appendChild(selectLabelText);\n        sourceLanguageSelectLabel.appendChild(sourceLanguageSelect);\n        // Container that holds all UI elements\n        const content = document.createElement('div');\n        content.setAttribute('class', elClasses.content);\n        content.appendChild(translateAllButton);\n        content.appendChild(sourceLanguageSelectLabel);\n        // ProcessWire UI fields container\n        const container = document.createElement('li');\n        container.setAttribute('class', elClasses.container);\n        container.appendChild(content);\n        return {\n            translateAllButton: translateAllButton,\n            sourceLanguageSelect: sourceLanguageSelect,\n            container: container\n        };\n    };\n    return {\n        createStatusElement: createStatusElement,\n        createTranslateButton: createTranslateButton,\n        createLanguageTranslatorInputs: createLanguageTranslatorInputs,\n        createIcon: createIcon,\n        elementClasses: elementClasses\n    };\n}();\nvar $52a01b96aace9c18$export$2e2bcd8739ae039 = $52a01b96aace9c18$var$FtUiElements;\n\n});\n\nparcelRegister(\"7mhep\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $55b7f44426956e16$export$2e2bcd8739ae039; });\n/**\n * Handles modifying the Fluency menu item\n * @return {object} Public methods\n */ const $55b7f44426956e16$var$FtAdminMenu = function() {\n    /**\n   * Initializes module\n   * @return {void}\n   */ const init = ()=>{\n        convertFtAdminMenuToModal();\n    };\n    /**\n   * Finds and converts the Translation admin menu item to open in a modal\n   * rather than navigating to the page.\n   * @return {void}\n   */ const convertFtAdminMenuToModal = ()=>{\n        const adminNavItems = document.querySelectorAll('.pw-masthead .pw-primary-nav > li > a'), urlParams = new URLSearchParams(window.location.search);\n        // We don't want to modify this menu item if we are on the Fluency config page\n        // because the modal behavior is not available\n        if (urlParams.get('name') === 'Fluency') return false;\n        adminNavItems.forEach((el, i)=>{\n            let hrefSegments = el.href.split('/').filter(Boolean);\n            if (hrefSegments[hrefSegments.length - 1].includes('fluency')) {\n                el.href = el.href + '?modal=1';\n                el.classList.add('pw-modal-large');\n                el.classList.add('pw-modal');\n            }\n        });\n    };\n    return {\n        init: init\n    };\n}();\nvar $55b7f44426956e16$export$2e2bcd8739ae039 = $55b7f44426956e16$var$FtAdminMenu;\n\n});\n\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\nvar $aUodT = parcelRequire(\"aUodT\");\n\nvar $75OpQ = parcelRequire(\"75OpQ\");\n/**\n * The translate button establishes the UI element used to trigger translations\n * by the user. It manages the translation process by displaying/hiding the\n * activity overlay, showing messages and errors, getting translations from\n * the Fluency API, and modifying content. This is done by manipulating the\n * inputfield and activityOverlay objects passed.\n */ /**\n * @param {Element}  inputfield\n * @param {NodeList}  inputContainers\n * @param {Boolean} forceEachTranslationAction Force a single field translation trigger\n */ const $670d51ed85c16ea8$var$FtInputfieldTranslateButton = function(inputfield, inputContainers, forceEachTranslationAction = false) {\n    /**\n   * Gets all localized strings from the FluencyConfig object\n   * @type {object}\n   */ const uiText = (0, $iN3hH.default).getUiTextFor('inputfieldTranslateButtons');\n    /**\n   * Adds translate elements to inputfield containers\n   * @param  {string|int} languageId     ProcessWire language ID\n   * @param  {Element}    inputContainer Inputcontainer for this language\n   * @return {void}\n   */ this.addTranslateFromDefaultButton = (languageId, inputContainer)=>{\n        const isTranslatable = (0, $iN3hH.default).languageIsTranslatable(languageId);\n        const isDefaultLanguage = languageId == (0, $iN3hH.default).getDefaultLanguage().id;\n        if (!isTranslatable) {\n            inputContainer.appendChild((0, $75OpQ.default).createStatusElement(uiText.languageNotAvailable));\n            return;\n        }\n        if (isDefaultLanguage) {\n            inputContainer.appendChild((0, $75OpQ.default).createStatusElement(uiText.translationAvailable));\n            return;\n        }\n        const { button: button, container: container } = (0, $75OpQ.default).createTranslateButton(uiText.translateButton);\n        this.bindButton(button, (0, $iN3hH.default).getLanguageForId(languageId));\n        inputContainer.appendChild(container);\n    };\n    /**\n   * Binds a button for translation\n   * @param  {Element} buttonElement Element to bind translation action to\n   * @param  {Object} languageConfig Fluency language configuration object\n   * @return {Void}\n   */ this.bindButton = (buttonElement, languageConfig)=>{\n        buttonElement.addEventListener('click', (e)=>{\n            e.preventDefault();\n            const translationSourceContent = inputfield.getValueForDefaultLanguage();\n            if (!translationSourceContent) return;\n            // Try to get the inputfield activity overlay, fall back to retrieving by language ID where\n            // the inputfield element can delegate to a specific activity overlay located within it\n            const activityOverlay = inputfield.getActivityOverlay() ?? inputfield.getActivityOverlay(languageConfig.id);\n            activityOverlay.showActivity();\n            (0, $aUodT.default).getTranslation((0, $iN3hH.default).getDefaultLanguage().engineLanguage.sourceCode, languageConfig.engineLanguage.targetCode, translationSourceContent).then((result)=>{\n                if (result.error) {\n                    inputfield.getActivityOverlay().showError(result.message);\n                    return;\n                }\n                inputfield.setValueForLanguage(languageConfig.id, result.translations[0]);\n                activityOverlay.hide();\n            });\n        });\n    };\n    /**\n   * Creates the \"Translate to all\" button and adds it to the inputfield\n   * @param  {int}          sourceLanguageId     ProcessWire language ID\n   * @param  {HTMLElements} inputContainers      All language input containers for this inputfield\n   * @return {void}\n   */ this.addTranslateToAllButton = (sourceLanguageId, inputContainers)=>{\n        const isTranslatable = (0, $iN3hH.default).languageIsTranslatable(sourceLanguageId);\n        const sourceInputContainer = inputContainers[sourceLanguageId];\n        if (!isTranslatable) {\n            sourceInputContainer.appendChild((0, $75OpQ.default).createStatusElement(uiText.languageNotAvailable));\n            return;\n        }\n        const { button: button, container: container } = (0, $75OpQ.default).createTranslateButton(uiText.translateToAllButton);\n        this.bindTranslateToAllButton(button, (0, $iN3hH.default).getLanguageForId(sourceLanguageId), inputContainers);\n        sourceInputContainer.appendChild(container);\n    };\n    /**\n   * Binds translation action to button that translates to all other languages\n   * @param  {Element}  buttonElement        Button to bind\n   * @param  {object}   sourceLanguageConfig The FtConfig object for the source language\n   * @param  {HTMLElements} inputContainers   All language input containers for this inputfield\n   * @return {void}\n   */ this.bindTranslateToAllButton = (buttonElement, sourceLanguageConfig, inputContainers)=>{\n        buttonElement.addEventListener('click', (e)=>{\n            e.preventDefault();\n            const translationSourceContent = inputfield.getValueForLanguage(sourceLanguageConfig.id);\n            // Do not translate if there's no source content or risk content in other languages to\n            // be removed\n            if (!translationSourceContent) return;\n            // Used to count the number of languages left when translating to all\n            let translationLanguageCount = Object.keys(inputContainers).length;\n            let errorOccurred = false;\n            let activityOverlay = inputfield.getActivityOverlay();\n            activityOverlay.showActivity();\n            for(let targetLanguageId in inputContainers){\n                targetLanguageId = parseInt(targetLanguageId, 10);\n                let targetLanguageConfig = (0, $iN3hH.default).getLanguageForId(targetLanguageId);\n                // No need to translate source if present\n                // Skip if source or target languages are not configured in Fluency\n                if (targetLanguageId === sourceLanguageConfig.id || !sourceLanguageConfig || !targetLanguageConfig) {\n                    translationLanguageCount--;\n                    continue;\n                }\n                (0, $aUodT.default).getTranslation(sourceLanguageConfig.engineLanguage.sourceCode, targetLanguageConfig.engineLanguage.targetCode, translationSourceContent).then((result)=>{\n                    if (result.error) {\n                        // Only show the error overlay if an error has not already occurred\n                        if (!errorOccurred) inputfield.getActivityOverlay().showError(result.message);\n                        errorOccurred = true;\n                        return;\n                    }\n                    inputfield.setValueForLanguage(targetLanguageConfig.id, result.translations[0]);\n                }).then((result)=>{\n                    translationLanguageCount--;\n                    // If an error occurred, messaging/overlay will be handled by the error process\n                    if (translationLanguageCount === 0 && !errorOccurred) activityOverlay.hide();\n                });\n            }\n        });\n    };\n    this.addBothTranslationButtonTypes = (languageId, inputContainers)=>{\n        this.addTranslateToAllButton(languageId, inputContainers);\n        this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n    };\n    /**\n   * Init on object instantiation\n   */ (()=>{\n        const actionTypes = (0, $iN3hH.default).translationActionTypes;\n        const translationAction = (0, $iN3hH.default).getTranslationAction();\n        for(let languageId in inputContainers){\n            if (translationAction === actionTypes.all && !forceEachTranslationAction) this.addTranslateToAllButton(languageId, inputContainers);\n            if (translationAction === actionTypes.each || forceEachTranslationAction) this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n            if (translationAction === actionTypes.both && !forceEachTranslationAction) {\n                this.addTranslateToAllButton(languageId, inputContainers);\n                this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n            }\n        }\n    })();\n};\nvar $670d51ed85c16ea8$export$2e2bcd8739ae039 = $670d51ed85c16ea8$var$FtInputfieldTranslateButton;\n\n\n/**\n * A stateful function handling  behaviors for a language tab associated with a input container\n * contained within an Inputfield. An \"input container\" is the div that contains the label and\n * input/textarea/element (depending on Inputfield type) for a language\n * @param {Element} inputContainer Language\n */ const $83a476e05cf7d458$var$FtLanguageTab = function(inputContainer) {\n    /**\n   * Note\n   * @type {String}\n   */ const contentModifiedClass = 'ft-content-changed';\n    /**\n   * Cached associated tab for this input container\n   * @type {Element}\n   */ let languageTab = null;\n    this.getContentModifiedClass = ()=>contentModifiedClass;\n    /**\n   * Sets state of tab\n   * @param  {bool} modified Determines state of tab display\n   * @return {void}\n   */ this.setModifiedState = (modified)=>modified ? this.setTabModified() : this.setTabUnmodified();\n    this.setTabModified = ()=>this.getLanguageTab().classList.add(contentModifiedClass);\n    this.setTabUnmodified = ()=>this.getLanguageTab().classList.remove(contentModifiedClass);\n    this.getLanguageTab = ()=>{\n        return languageTab ?? inputContainer.closest('.langTabs').querySelector(`.langTabLink[data-lang=\"${inputContainer.dataset.language}\"`);\n    };\n    /**\n   * Init method executed on object instantiation\n   * @return {void}\n   */ (()=>{\n        if (!inputContainer) return false;\n        languageTab = this.getLanguageTab();\n    })();\n};\nvar $83a476e05cf7d458$export$2e2bcd8739ae039 = $83a476e05cf7d458$var$FtLanguageTab;\n\n\n/**\n * Determines if a given inputfield contains a regular CKEditor instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */ const $7569d6f3f3f503f6$export$28b3dffaf076bd12 = (inputfield)=>!!inputfield.querySelector('.InputfieldCKEditorNormal');\n/**\n * Handles translations for CKEditor Inputfields\n * @return {object}  Public methods\n */ const $7569d6f3f3f503f6$export$4deab606ac761bb8 = function(inputfield) {\n    /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   *\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */ const inputContainers = {};\n    /**\n   * Will contain all CKEditor instances\n   * @property {String} ProcessWire Language ID\n   * @value    {CKEditor|null}\n   * @type     {Object}\n   */ const editorInstances = {};\n    /**\n   * Will contain the base CKEditor instance ID that can be used to get the default CKEditor instance\n   * using the CKEditor API, or another instance by modifying this one.\n   * Set on FtInputfieldCKEditor instantiation\n   * @type {?String}\n   */ let defaultLanguageInstanceId = null;\n    /**\n   * This is the base inputfield ID that does not have a language ID appended\n   * ex. Inputfield_example vs Inputfield_example__1028\n   * @type {?String}\n   */ let inputfieldBaseId = null;\n    /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /**\n   * Gets existing or instantiates a new activity overlay\n   *\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>this.getEditorInstanceForLanguage(languageId).getData();\n    /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const instance = this.getEditorInstanceForLanguage(languageId);\n        instance.setData(value);\n        instance.fire('change');\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(instance).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * Attempts to get the CKEditor instance for a given language ID. This method should\n   * be used exclusively to get instances as it also sets event listeners for content\n   * changes if they have been instantiated after FtInputfieldCKEditor has loaded\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?CKEditor}\n   */ this.getEditorInstanceForLanguage = (languageId)=>{\n        if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) return editorInstances[languageId];\n        const editorSelectorByLanguageId = [\n            inputfieldBaseId,\n            languageId\n        ].filter((val)=>!!val).join('__');\n        let editor = CKEDITOR.instances[editorSelectorByLanguageId];\n        // If ther was no editor found with this ID then a different default language has been set\n        // and the CKEditor instance will be found without an ID appended\n        if (!editor) editor = CKEDITOR.instances[inputfieldBaseId];\n        editorInstances[languageId] = editor;\n        return editorInstances[languageId];\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        this.getSelf().querySelectorAll('[data-language]').forEach((el)=>{\n            inputContainers[el.dataset.language] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Registers the event listener that watches for content changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getEditorInstanceForLanguage(languageId).on('change', (e)=>{\n            changedValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Initialized the uninitialized\n   * @access private\n   * @return {void}\n   */ this.initContainers = ()=>{\n        const allInputContainers = this.getInputContainers();\n        // The first input container will have an inputfield ID without any language ID appended\n        inputfieldBaseId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n        const defaultLanguageProcessWireId = (0, $iN3hH.default).getDefaultLanguage().id.toString();\n        const containerElements = Object.values(allInputContainers);\n        for(var i = containerElements.length - 1; i >= 0; i--){\n            let containerId = containerElements[i].id;\n            if (containerId.endsWith(defaultLanguageProcessWireId)) {\n                defaultLanguageInstanceId = containerId.replace('langTab_', '');\n                break;\n            }\n        }\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            editorInstances[languageId] = this.getEditorInstanceForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            this.registerInputEventListener(languageId);\n        }\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    };\n    /**\n   * Init on object instantiation\n   * @access private\n   * @return {Void}\n   */ (()=>{\n        if (CKEDITOR === undefined) {\n            console.error('CKEditor was not found by Fluency, translation unavailable');\n            return;\n        }\n        // CKEditor experiences a delay between being added to the DOM and a ready state in some\n        // situations, notably after AJAX insertion. This was a lot easier than attempting to use the\n        // CKEditor events API which fired off more events than editors\n        setTimeout(this.initContainers, 50);\n    })();\n};\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Determines if a given inputfield contains an inline CKEditor instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */ const $707d87c1c39f0b4a$export$3801d2f0557385e5 = (inputfield)=>!!inputfield.querySelector('.InputfieldCKEditorInline');\n/**\n * Handles translations for CKEditor Inputfields\n * @return {object}  Public methods\n */ const $707d87c1c39f0b4a$export$273c4562c2c365c0 = function(inputfield) {\n    /**\n   * Contains values for all fields/languages\n   * Populated on FtInputfieldCKEditorInline instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */ const inputContainers = {};\n    /**\n   * Will contain all CKEditor instances\n   * @property {String} ProcessWire Language ID\n   * @value    {CKEditor|null}\n   * @type     {Object}\n   */ const editorInstances = {};\n    /**\n   * Will contain all elements that the inline editor uses for content\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const contentElements = {};\n    /**\n   * Will contain the base CKEditor instance ID that can be used to get the default CKEditor instance\n   * using the CKEditor API, or another instance by modifying this one.\n   * Set on FtInputfieldCKEditor instantiation\n   * @type {?String}\n   */ let defaultLanguageInstanceId = null;\n    /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /**\n   * Gets existing or instantiates a new activity overlay\n   *\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * Attempts to get the value for a language via the CKEditor API, falls back to directly getting\n   * the content of the content element\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>{\n        const ckeditorInstance = this.getEditorInstanceForLanguage(languageId);\n        if (ckeditorInstance) return ckeditorInstance.getData();\n        return this.getContentElementForLanguage(languageId).innerHTML;\n    };\n    /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const instance = this.getEditorInstanceForLanguage(languageId);\n        const contentElement = this.getContentElementForLanguage(languageId);\n        instance ? instance.setValue(value) : contentElement.innerHTML = value;\n        contentElement.dispatchEvent(new Event('input'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(contentElement).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * Attempts to get the CKEditor instance for a given language ID. This method should\n   * be used exclusively to get instances as it also sets event listeners for content\n   * changes if they have been instantiated after FtInputfieldCKEditor has loaded\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?CKEditor}\n   */ this.getEditorInstanceForLanguage = (languageId)=>{\n        if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) return editorInstances[languageId];\n        editorInstances[languageId] = CKEDITOR.instances[this.createCKEditorSelector(languageId)];\n        return editorInstances[languageId];\n    };\n    /**\n   * Gets the content element that CKEditor uses to store the field content\n   * Ensures memoization\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getContentElementForLanguage = (languageId)=>{\n        if (Object.hasOwn(contentElements, languageId)) return contentElements[languageId];\n        contentElements[languageId] = this.getInputContainerForLanguage(languageId).querySelector('.InputfieldCKEditorInlineEditor');\n        return contentElements[languageId];\n    };\n    /**\n   * Creates a CKEditor ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */ this.createCKEditorSelector = (languageId)=>{\n        if (languageId == (0, $iN3hH.default).getDefaultLanguage().id) return defaultLanguageInstanceId;\n        return `${defaultLanguageInstanceId}__${languageId}`;\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        if (Object.keys(inputContainers).length === (0, $iN3hH.default).getLanguageCount()) return inputContainers;\n        this.getSelf().querySelectorAll('[data-language]').forEach((el)=>{\n            inputContainers[el.dataset.language] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getInputContainerForLanguage = (languageId)=>{\n        if (Object.hasOwn(inputContainers, languageId)) return inputContainers[languageId];\n        inputContainers[languageId] = inputfield.querySelector(`[data-language=\"${languageId}\"]`);\n        return inputContainers[languageId];\n    };\n    /**\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Creates a MutationObserver that will detect when the content has changed for a given content\n   * element. When content is changed, is will mock an 'input' even that an eventListener will\n   * respond to\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerUpdateEvent = (languageId)=>{\n        const contentElement = this.getContentElementForLanguage(languageId);\n        new MutationObserver((mutations, observer)=>{\n            for (let mutation of mutations)mutation.target.dispatchEvent(new Event('input'));\n        }).observe(contentElement, {\n            childList: true\n        });\n    };\n    /**\n   * Registers an event listener that will respond to any 'input' changes in a\n   * content element\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getContentElementForLanguage(languageId).addEventListener('input', (e)=>{\n            changedValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Init on object instantiation\n   * @access private\n   * @return {Void}\n   */ (()=>{\n        if (CKEDITOR === undefined) {\n            console.error('CKEditor was not found by Fluency, translation unavailable');\n            return null;\n        }\n        const allInputContainers = this.getInputContainers();\n        defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            editorInstances[languageId] = this.getEditorInstanceForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            this.registerInputEventListener(languageId);\n        }\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    })();\n};\n\n\n/**\n * Determines if a given inputfield contains a Table instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */ const $1bed82ff5d1302bc$export$11020e8984ef213f = (inputfield)=>$1bed82ff5d1302bc$var$isInputfieldTable(inputfield) || $1bed82ff5d1302bc$var$isInputfieldTableRow(inputfield);\n/**\n * Handles table inputfields on load\n * @param  {Element} inputfield\n * @return {Bool}\n */ const $1bed82ff5d1302bc$var$isInputfieldTable = (inputfield)=>!!inputfield.classList.contains('InputfieldTable');\nconst $1bed82ff5d1302bc$var$isInputfieldTableRow = (inputfield)=>(inputfield.tagName, false);\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Determines if the current inputfield is an InputfieldText\n * @param  {Element} inputfield Element containing the multilanguage fields\n * @return {Bool}\n */ const $f0fdde508e29bda0$export$28a184b89072f132 = (inputfield)=>!!inputfield.querySelector(\"input[type='text']\");\n/**\n * Handles IO operations for a multilanguage InputfieldText element\n * Language IDs are always converted to int to accept values from all sources since some may be\n * retrieved from various sources as a string\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */ const $f0fdde508e29bda0$export$68cadcc1eefc8b28 = function(inputfield) {\n    /**\n   * Page-load values for all fields/languages\n   * Populated on object instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when content is modified\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * FtLanguageTab objects for each language\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all elements containing language inputs\n   * @property {String} ProcessWire Language ID\n   * @type {NodeList}\n   */ const inputContainers = {};\n    /**\n   * Text input fields\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const languageFields = {};\n    /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /*\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @access public\n   * @param  {String|Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>this.getFieldForLanguage(languageId).value;\n    /**\n   * @access public\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @param  {Mixed}      value      Value to insert into field\n   * @return {Bool}                  Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const field = this.getFieldForLanguage(languageId);\n        (0, $7af38d5c3490259f$export$2e2bcd8739ae039).updateValue(field, value);\n        // Required to programmatically trigger the event listener for this field\n        field.dispatchEvent(new Event('keyup'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(field).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * @access private\n   * @param  {String|Int}  languageId ProcessWire language ID\n   * @return {Element}                Text field\n   */ this.getFieldForLanguage = (languageId)=>{\n        if (Object.hasOwn(languageFields, languageId) && !!languageFields[languageId]) return languageFields[languageId];\n        languageFields[languageId] = this.getInputContainerForLanguage(languageId).querySelector('input');\n        return languageFields[languageId];\n    };\n    /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getInputContainerForLanguage = (languageId)=>{\n        if (Object.hasOwn(inputContainers, languageId) && !!inputContainers[languageId]) return inputContainers[languageId];\n        inputContainers[languageId] = inputfield.querySelector(`[data-language=\"${languageId}\"]`);\n        return inputContainers[languageId];\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        inputfield.querySelectorAll('[data-language]').forEach((el)=>inputContainers[el.dataset.language] = el);\n        return inputContainers;\n    };\n    /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getFieldForLanguage(languageId).addEventListener('keyup', (e)=>{\n            changedValues[languageId] = e.target.value;\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */ (()=>{\n        const allInputContainers = this.getInputContainers();\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            initValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            this.registerInputEventListener(languageId);\n        }\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    })();\n};\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Determines if the current inputfield is an InputfieldText\n * @param  {Element} inputfield Element containing the multilanguage fields\n * @return {Bool}\n */ const $609e1ed96b5dd6cd$export$89f4580543bd7b22 = (inputfield)=>!!inputfield.querySelector('textarea:not(.InputfieldCKEditorNormal,.InputfieldTinyMCEEditor)');\n/**\n * Handles IO operations for a multilanguage InputfieldText element\n * Language IDs are always converted to int to accept values from all sources since some may be\n * retrieved from various sources as a string\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */ const $609e1ed96b5dd6cd$export$7ce4bfce558adefb = function(inputfield) {\n    /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * Language ID keys are integers\n   * @type {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all language input containers keyed by language ID\n   * Language ID keys are integers\n   * @type {NodeList}\n   */ const inputContainers = {};\n    /**\n   * Will contain all language input text fields keyed by language ID\n   * @type {Object}\n   */ const languageFields = {};\n    /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /*\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>this.getFieldForLanguage(languageId).value;\n    /**\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const field = this.getFieldForLanguage(languageId);\n        (0, $7af38d5c3490259f$export$2e2bcd8739ae039).updateValue(field, value);\n        // Required to programmatically trigger the event listener for this field\n        field.dispatchEvent(new Event('keyup'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and admin JS listeners work\n        $(field).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * @param  {Int}    languageId ProcessWire language ID\n   * @return {Element}           Text field\n   */ this.getFieldForLanguage = (languageId)=>{\n        if (Object.hasOwn(languageFields, languageId)) return languageFields[languageId];\n        languageFields[languageId] = inputfield.querySelector(`[data-language=\"${languageId}\"] textarea`);\n        return languageFields[languageId];\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        inputfield.querySelectorAll('[data-language]').forEach((el)=>{\n            inputContainers[el.dataset.language] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getFieldForLanguage(languageId).addEventListener('keyup', (e)=>{\n            changedValues[languageId] = e.target.value;\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */ (()=>{\n        const allInputContainers = this.getInputContainers();\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            initValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            this.registerInputEventListener(languageId);\n        }\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    })();\n};\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Determines if a given inputfield contains a regular TinyMCE instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */ const $e5519732ab49dd46$export$250c084540886f18 = (inputfield)=>!!inputfield.querySelector('.InputfieldTinyMCENormal');\n/**\n * Handles IO operations for a multilanguage InputfieldTinyMCE elements\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */ const $e5519732ab49dd46$export$5563baf27412d925 = function(inputfield) {\n    /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   *\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */ const inputContainers = {};\n    /**\n   * Will contain all language input textarea fields that hold Inputfield data before TinyMCE\n   * instances are initialized.\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */ const textareas = {};\n    /**\n   * Will contain all TinyMCE instances as they become available (are initialized). Most TinyMCE\n   * instances are lazy loaded or loaded on demand. Keyed by language ID\n   * This is populated on FtInputfieldTinyMCE on instantiation and language ID properties will either\n   * have a TinyMCE object or null\n   * @property {String} ProcessWire Language ID\n   * @value    {TinyMCE|null}\n   * @type     {Object}\n   */ const editorInstances = {};\n    /**\n   * Will contain the base TinyMCE instance ID that can be used to get the default TinyMCE instance\n   * using the TinyMCE API, or another instance by modifying this one.\n   * Set on FtInputfieldTinyMCE instantiation\n   * @type {?String}\n   */ let defaultLanguageInstanceId = null;\n    /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /*\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>{\n        const tinymceInstance = this.getTinymceInstanceForLanguage(languageId);\n        if (tinymceInstance) return tinymceInstance.getContent();\n        return this.getTextareaForLanguage(languageId).value;\n    };\n    /**\n   * Sets content for a language, will set the value for TinyMCE if it exists, and always set the\n   * value for the textarea\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const tinymceInstance = this.getTinymceInstanceForLanguage(languageId);\n        if (tinymceInstance) {\n            tinymceInstance.setContent(value);\n            tinymceInstance.fire('input');\n        }\n        const field = this.getTextareaForLanguage(languageId);\n        (0, $7af38d5c3490259f$export$2e2bcd8739ae039).updateValue(field, value);\n        field.dispatchEvent(new Event('input'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(field).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * Attempts to get the TinyMCE instance for a given language ID if it exists\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?TinyMCE}\n   */ this.getTinymceInstanceForLanguage = (languageId)=>{\n        if (Object.hasOwn(editorInstances, languageId) && editorInstances[languageId]) return editorInstances[languageId];\n        const tinymceSelector = this.createTinymceSelector(languageId);\n        editorInstances[languageId] = tinymce.get(tinymceSelector);\n        return editorInstances[languageId];\n    };\n    /**\n   * @access private\n   * @param  {Int}    languageId ProcessWire language ID\n   * @return {Element}           Text field\n   */ this.getTextareaForLanguage = (languageId)=>{\n        if (Object.hasOwn(textareas, languageId) && !!textareas[languageId]) return textareas[languageId];\n        textareas[languageId] = this.getSelf().querySelector(`[data-language=\"${languageId}\"] textarea`);\n        return textareas[languageId];\n    };\n    /**\n   * Get all input containers holding TinyMCE instances, memoizes. Keyed by ID\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        this.getSelf().querySelectorAll('[data-language]').forEach((el)=>{\n            inputContainers[el.dataset.language] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Creates a TinyMCE ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */ this.createTinymceSelector = (languageId)=>{\n        if (languageId == (0, $iN3hH.default).getDefaultLanguage().id) return defaultLanguageInstanceId;\n        return `${defaultLanguageInstanceId}__${languageId}`;\n    };\n    /**\n   * Bind Inputfield required events to a TinyMCE instance\n   * @access private\n   * @param  {String|Int} languageId      ProcessWire language ID\n   * @param  {Object}     tinymceInstance TinyMCE object\n   * @return {Void}\n   */ this.bindTinymceEvents = (languageId, tinymceInstance)=>{\n        tinymceInstance.on('keyup', (e)=>this.getTextareaForLanguage(languageId).dispatchEvent(new Event('input')));\n    };\n    /**\n   * Creates an observer that looks for new TinyMCE instances within this Inputfield\n   * @access private\n   * @return {void}\n   */ this.initTinymceInstanceOnCreation = (languageId, inputContainer)=>{\n        new MutationObserver((mutations, observer)=>{\n            for (let mutation of mutations){\n                let targetEl = mutation.target;\n                if (targetEl.dataset.language == languageId) {\n                    editorInstances[languageId] = this.getTinymceInstanceForLanguage(languageId);\n                    this.bindTinymceEvents(languageId, editorInstances[languageId]);\n                    if (editorInstances[languageId]) observer.disconnect();\n                }\n            }\n        }).observe(inputContainer, {\n            childList: true\n        });\n    };\n    /**\n   * Registers the event listener that watches for content changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {void}\n   */ this.registerInputEventListener = (languageId)=>{\n        textareas[languageId].addEventListener('input', (e)=>{\n            changedValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Initializes FtInputfieldTinyMCE Inputfield\n   * @access private\n   * @param  {Array<Element>} allInputContainers All elements containing TinyMCE fields\n   * @return {Void}\n   */ this.initAll = (allInputContainers)=>{\n        // TinyMCE instances are initialzied using a field ID. The default language element contains\n        // an ID substring that can be modified to create a TinyMCE ID string that can be used to get\n        // TinyMCE instances\n        defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n        // At runtime/initialization only the TinyMCE instance will load for the default language, others\n        // will be loaded when switched to the tab. Still attempt to get all TinyMCE instances for all\n        // tabs in case they are available\n        for(let languageId in allInputContainers){\n            const inputContainer = allInputContainers[languageId];\n            // Get initial content on page load\n            // Call this first to ensure getValueForLanguage() pulls from the textarea element rather than\n            // attempting to use the TinyMCE API on object instantiation\n            initValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            editorInstances[languageId] = this.getTinymceInstanceForLanguage(languageId);\n            textareas[languageId] = this.getTextareaForLanguage(languageId);\n            this.registerInputEventListener(languageId);\n            // If there was no editor found at initialization, register when created\n            if (!editorInstances[languageId]) this.initTinymceInstanceOnCreation(languageId, inputContainer);\n        }\n        // Bind TinyMCE event listeners to any TinyMCE input fields found on initialization\n        for(let languageId in editorInstances)if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) this.bindTinymceEvents(languageId, editorInstances[languageId]);\n    };\n    /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */ (()=>{\n        const allInputContainers = this.getInputContainers();\n        // Set a micro timeout to allow TinyMCE instances to instantiate.\n        // This is especially important when new fields are dynamically added after page load\n        setTimeout(()=>{\n            this.initAll(allInputContainers);\n        }, 50);\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    })();\n};\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Determines if a given inputfield contains an inline TinyMCE instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */ const $c3c87423e58728e5$export$2d5f0f04f419093f = (inputfield)=>!!inputfield.querySelector('.InputfieldTinyMCEInline');\n/**\n * Handles translations for TinyMCE Inputfields\n * @return {object}  Public methods\n */ const $c3c87423e58728e5$export$829018d7250909c4 = function(inputfield) {\n    /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * Language ID keys are integers\n   * @type {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all language input containers keyed by language ID\n   * Language ID keys are integers\n   * @type {NodeList}\n   */ const inputContainers = {};\n    /**\n   * Will contain all the HTML elements that the inline TinyMCE editor stores/modifies content\n   * keyed by language ID\n   * @type {Object}\n   */ const contentElements = {};\n    /**\n   * Will contain all TinyMCE instances as they become available\n   * @type {Object}\n   */ const editorInstances = {};\n    /**\n   * Will contain the TinyMCE instance name for the default language.\n   * Used to get the TinyMCE instance\n   * @type {?String}\n   */ let defaultLanguageInstanceId = null;\n    /**\n   * @access public\n   * @type {Object}\n   */ let activityOverlay;\n    /*\n   * @access public\n   * @return {Object}\n   */ this.getActivityOverlay = ()=>activityOverlay;\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>{\n        const tinymceInstance = this.getEditorInstanceForLanguage(languageId);\n        if (tinymceInstance) return tinymceInstance.getContent();\n        return this.getContentElementForLanguage(languageId).innerHTML;\n    };\n    /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const contentElement = this.getContentElementForLanguage(languageId);\n        // Click event ensures that TinyMCE has been initialized before inserting content\n        contentElement.click();\n        contentElement.innerHTML = value;\n        // Required to programmatically trigger the event listener for this field\n        contentElement.dispatchEvent(new Event('input'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(contentElement).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * Attempts to get the TinyMCE instance for a given language ID if it exists\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?TinyMCE}\n   */ this.getEditorInstanceForLanguage = (languageId)=>{\n        if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) return editorInstances[languageId];\n        const tinymceSelector = this.createTinymceSelector(languageId);\n        editorInstances[languageId] = tinymce.get(tinymceSelector);\n        return editorInstances[languageId];\n    };\n    /**\n   * Gets the content element that TinyMCE uses to store the field content\n   * Ensures memoization\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getContentElementForLanguage = (languageId)=>{\n        if (Object.hasOwn(contentElements, languageId)) return contentElements[languageId];\n        contentElements[languageId] = this.getInputContainerForLanguage(languageId).querySelector('.mce-content-body');\n        return contentElements[languageId];\n    };\n    /**\n   * Gets a specific input container. Memoizes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getInputContainerForLanguage = (languageId)=>{\n        if (Object.hasOwn(inputContainers, languageId) && !!inputContainers[languageId]) return inputContainers[languageId];\n        inputContainers[languageId] = this.getSelf().querySelector(`[data-language=\"${languageId}\"]`);\n        return inputContainers[languageId];\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        this.getSelf().querySelectorAll('[data-language]').forEach((el)=>{\n            inputContainers[el.dataset.language] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * Determines if the content for a given langauge has changed. In some instances TinyMCE\n   * inserts unwanted elements into empty fields that will always register content as having been\n   * changed. This includes adding elements to fields that may be returned to their original content\n   * matching content at page load. These \"phantom elements\" must be checked for.\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    /**\n   * Creates a TinyMCE ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */ this.createTinymceSelector = (languageId)=>{\n        if (languageId == (0, $iN3hH.default).getDefaultLanguage().id) return defaultLanguageInstanceId;\n        return `${defaultLanguageInstanceId}__${languageId}`;\n    };\n    /**\n   * Creates a MutationObserver that will detect when the innerHTML content has changed for a given\n   * content element. When content is changed, it will mock an 'input' event that an eventListener\n   * can respond to\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerUpdateEvent = (languageId)=>{\n        const contentElement = this.getContentElementForLanguage(languageId);\n        new MutationObserver((mutations, observer)=>{\n            for (let mutation of mutations)mutation.target.dispatchEvent(new Event('input'));\n        }).observe(contentElement, {\n            childList: true\n        });\n    };\n    /**\n   * Register an input observer\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getContentElementForLanguage(languageId).addEventListener('input', (e)=>{\n            changedValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */ (()=>{\n        if (tinymce === undefined) {\n            console.error('TinyMCE was not found by Fluency, translation unavailable');\n            return null;\n        }\n        const allInputContainers = this.getInputContainers();\n        // TinyMCE instances are initialzied using a field ID. The default language element contains\n        // an ID substring that can be modified to create a TinyMCE ID string that can be used to get\n        // TinyMCE instances\n        defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            initValues[languageId] = this.getValueForLanguage(languageId);\n            languageTabs[languageId] = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)(inputContainer);\n            this.registerUpdateEvent(languageId);\n            this.registerInputEventListener(languageId);\n        }\n        activityOverlay = new (0, $gvk63.default)(this);\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers);\n    })();\n};\n\n\n\nvar $gvk63 = parcelRequire(\"gvk63\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n\n\n\n/**\n * Handles IO operations for a multilanguage InputfieldPageName element\n * The InputfieldPageName element has special considerations compared to other fields as they do not\n * have the same markup structure.\n * Some actions are internalized here, such as\n * @param {Element} inputfield The Inputfield .InputfieldPageName container\n */ const $56e7aec25d397945$var$FtInputfieldPageName = function(inputfield) {\n    /**\n   * Page-load values for all fields/languages\n   * Populated on object instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const initValues = {};\n    /**\n   * Will contain new values for fields/languages when content is modified\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const changedValues = {};\n    /**\n   * FtLanguageTab objects for each language\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const languageTabs = {};\n    /**\n   * Will contain all elements containing language inputs\n   * @property {String} ProcessWire Language ID\n   * @type {NodeList}\n   */ const inputContainers = {};\n    /**\n   * Text input fields\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */ const languageFields = {};\n    let contentModifiedClass = new (0, $83a476e05cf7d458$export$2e2bcd8739ae039)().getContentModifiedClass();\n    /**\n   * Activity overlays by language IDs\n   * @access public\n   * @type {Object}\n   */ let activityOverlays = {};\n    /*\n   * Return null to signal that the overlay should be by language ID\n   *\n   * @access public\n   * @return {Object|Null}\n   */ this.getActivityOverlay = (languageId)=>{\n        if (!languageId) return null;\n        return activityOverlays[languageId].getActivityOverlay();\n    };\n    /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */ this.getSelf = ()=>inputfield;\n    /**\n   * @access public\n   * @return {Mixed}\n   */ this.getValueForDefaultLanguage = ()=>this.getValueForLanguage((0, $iN3hH.default).getDefaultLanguage().id);\n    /**\n   * @access public\n   * @param  {String|Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */ this.getValueForLanguage = (languageId)=>this.getFieldForLanguage(languageId).value;\n    /**\n   * @access public\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @param  {Mixed}      value      Value to insert into field\n   * @return {Bool}                  Content is different from page load value\n   */ this.setValueForLanguage = (languageId, value)=>{\n        const field = this.getFieldForLanguage(languageId);\n        (0, $7af38d5c3490259f$export$2e2bcd8739ae039).updateValue(field, value);\n        // Required to programmatically trigger the event listener for this field\n        field.dispatchEvent(new Event('keyup'));\n        // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n        // modules and Admin listeners work\n        $(field).trigger('change');\n        return this.contentHasChanged(languageId);\n    };\n    /**\n   * @access private\n   * @param  {String|Int}  languageId ProcessWire language ID\n   * @return {Element}                Text field\n   */ this.getFieldForLanguage = (languageId)=>{\n        if (Object.hasOwn(languageFields, languageId) && !!languageFields[languageId]) return languageFields[languageId];\n        languageFields[languageId] = this.getInputContainerForLanguage(languageId).querySelector('input');\n        return languageFields[languageId];\n    };\n    /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */ this.getInputContainerForLanguage = (languageId)=>{\n        if (!Object.hasOwn(inputContainers, languageId) && !inputContainers[languageId]) this.getInputContainers();\n        return inputContainers[languageId];\n    };\n    /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */ this.getInputContainers = ()=>{\n        // Page name fields require querying the child input and determining the language by analyzing\n        // the name attribute of the text input itself\n        this.getSelf().querySelectorAll('.LanguageSupport').forEach((el)=>{\n            // The default language input has no language ID, it's the default language, so fallback\n            const languageId = el.querySelector('input[type=text]').name.replace('_pw_page_name', '') || (0, $iN3hH.default).getDefaultLanguage().id;\n            inputContainers[languageId] = el;\n        });\n        return inputContainers;\n    };\n    /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */ this.contentHasChanged = (languageId)=>Object.hasOwn(changedValues, languageId) && changedValues[languageId] !== initValues[languageId];\n    this.setModifiedState = (languageId, contentHasChanged)=>{\n        const inputContainer = this.getInputContainerForLanguage(languageId);\n        if (contentHasChanged) inputContainer.classList.add(contentModifiedClass);\n        if (!contentHasChanged) inputContainer.classList.remove(contentModifiedClass);\n    };\n    /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */ this.registerInputEventListener = (languageId)=>{\n        this.getFieldForLanguage(languageId).addEventListener('keyup', (e)=>{\n            changedValues[languageId] = e.target.value;\n            this.setModifiedState(languageId, this.contentHasChanged(languageId));\n        });\n    };\n    /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */ (()=>{\n        const allInputContainers = this.getInputContainers();\n        for(let languageId in allInputContainers){\n            let inputContainer = allInputContainers[languageId];\n            initValues[languageId] = this.getValueForLanguage(languageId);\n            activityOverlays[languageId] = new $56e7aec25d397945$var$createActivityOverlay(inputContainer);\n            this.registerInputEventListener(languageId);\n        }\n        new (0, $670d51ed85c16ea8$export$2e2bcd8739ae039)(this, allInputContainers, true);\n    })();\n};\nconst $56e7aec25d397945$var$createActivityOverlay = function(languageInput) {\n    let activityOverlay;\n    this.getSelf = ()=>languageInput;\n    this.getActivityOverlay = ()=>activityOverlay;\n    (()=>{\n        activityOverlay = new (0, $gvk63.default)(this);\n    })();\n};\nvar $56e7aec25d397945$export$2e2bcd8739ae039 = $56e7aec25d397945$var$FtInputfieldPageName;\n\n\n/**\n * Orchestration for initializing all multilanguage inputfields on a page\n * @return {Object}   Public interface methods\n */ const $7af38d5c3490259f$var$FtInputfields = function() {\n    /**\n   * Selector used to find translatable Inputfields\n   * All inputfield containers on the page that are multilanguage have this class\n   * @type {String}\n   */ const langInputfieldClass = \"[class*='hasLangTabs']\";\n    /**\n   * Attribute present where per-field translation is disabled\n   * @type {String}\n   */ const disableTranslationAttr = (0, $iN3hH.default).getTranslationDisabledFieldAttribute();\n    /**\n   * Initializes multilanguage fields if present on page\n   * @return {void}\n   */ const init = function() {\n        const langInputfieldContainers = document.querySelectorAll(langInputfieldClass);\n        // Only init if there are multi-language Inputfields on the page\n        if (langInputfieldContainers.length) {\n            initInputfields(langInputfieldContainers);\n            initInputfieldsOnInsertion();\n            initPageNameInputfields();\n        }\n    };\n    /**\n   * Initializes multiple multilanguage fields in a collection of elelents\n   * @param  {NodeList} langInputfieldContainers\n   * @return {Void}\n   */ const initInputfields = (langInputfieldContainers)=>{\n        for (let langInputfieldContainer of langInputfieldContainers){\n            if (translationIsDisabled(langInputfieldContainer)) continue;\n            initInputfield(langInputfieldContainer);\n        }\n    };\n    /**\n   * Determines if a provided language inputfield has had Fluency translation disabled\n   * @param  {HTMLElement} langInputfieldContainer\n   * @return {Bool}\n   */ const translationIsDisabled = (langInputfieldContainer)=>!!langInputfieldContainer.querySelectorAll(disableTranslationAttr).length;\n    /**\n   * Initializes the field within a container\n   * @param  {Element} langInputfieldContainer Element containing inputfield\n   * @return {void}\n   */ const initInputfield = (langInputfieldContainer)=>{\n        // Do not initialize fields that have already been initialized\n        // Do not initialized fields that are a list element and not an Inputfield themselves\n        if (!fieldIsInitialized(langInputfieldContainer) && !langInputfieldContainer.classList.contains('InputfieldItemList') && !isInputfieldTemplate(langInputfieldContainer)) {\n            let inputfield = getFtInputfieldObject(langInputfieldContainer);\n            setFieldIsInitialized(langInputfieldContainer);\n            if (!inputfield) return;\n        }\n    };\n    /**\n   * Detect if Inputfield container is a hidden template element used to dynamically create new\n   * Inputfields on demand\n   * @param  {Element} langInputfieldContainer\n   * @return {Bool}\n   */ const isInputfieldTemplate = (langInputfieldContainer)=>!!langInputfieldContainer.closest(\"[class*='Template']\");\n    /**\n   * Initializes a FtInputfield object instance by type\n   * Order of checks is important Complex fields should be cased higher\n   * Fields with lower complexity should be cased last to prevent catching simple elements in\n   * complex fields that use simple inputs\n   * @param  {Element} langInputfieldContainers\n   * @return {?Object}\n   */ const getFtInputfieldObject = (langInputfieldContainer)=>{\n        switch(true){\n            case (0, $1bed82ff5d1302bc$export$11020e8984ef213f)(langInputfieldContainer):\n                // Initialize all new fields which have a different class than top-level fields\n                initInputfields(langInputfieldContainer.querySelectorAll('.langTabs'));\n                break;\n            case (0, $7569d6f3f3f503f6$export$28b3dffaf076bd12)(langInputfieldContainer):\n                return new (0, $7569d6f3f3f503f6$export$4deab606ac761bb8)(langInputfieldContainer);\n            case (0, $707d87c1c39f0b4a$export$3801d2f0557385e5)(langInputfieldContainer):\n                return new (0, $707d87c1c39f0b4a$export$273c4562c2c365c0)(langInputfieldContainer);\n            case (0, $e5519732ab49dd46$export$250c084540886f18)(langInputfieldContainer):\n                return new (0, $e5519732ab49dd46$export$5563baf27412d925)(langInputfieldContainer);\n            case (0, $c3c87423e58728e5$export$2d5f0f04f419093f)(langInputfieldContainer):\n                return new (0, $c3c87423e58728e5$export$829018d7250909c4)(langInputfieldContainer);\n            case (0, $609e1ed96b5dd6cd$export$89f4580543bd7b22)(langInputfieldContainer):\n                return new (0, $609e1ed96b5dd6cd$export$7ce4bfce558adefb)(langInputfieldContainer);\n            case (0, $f0fdde508e29bda0$export$28a184b89072f132)(langInputfieldContainer):\n                return new (0, $f0fdde508e29bda0$export$68cadcc1eefc8b28)(langInputfieldContainer);\n            default:\n                if (ProcessWire.config.debug) console.warn('Fluency does not recognize this inputfield, translation is not available', langInputfieldContainer);\n                return null;\n        }\n    };\n    /**\n   * This sets a mutation observer on the main content area of the edit page that will initialize\n   * new fields that may be added on focus or triggered by AJAX actions\n   *\n   * @return {void}\n   */ const initInputfieldsOnInsertion = ()=>{\n        const parentNode = document.getElementById('pw-content-body');\n        new MutationObserver((mutations, observer)=>{\n            for (let mutation of mutations){\n                let targetEl = mutation.target;\n                const foundEls = targetEl.querySelectorAll(langInputfieldClass);\n                if (foundEls.length) initInputfields(foundEls);\n            }\n        }).observe(parentNode, {\n            childList: true,\n            subtree: true\n        });\n    };\n    /**\n   * Initializes page name fields. Must be initialized separately since they do not\n   * follow the structure of other inputfields\n   * @return {void}\n   */ const initPageNameInputfields = ()=>{\n        const pageNameInputfields = document.querySelectorAll('.InputfieldPageName');\n        [\n            ...pageNameInputfields\n        ].forEach((pageNameInputfield)=>{\n            if (pageNameInputfield && !fieldIsInitialized(pageNameInputfield)) {\n                let inputfield = new (0, $56e7aec25d397945$export$2e2bcd8739ae039)(pageNameInputfield);\n                setFieldIsInitialized(pageNameInputfield);\n                if (!inputfield) return;\n            }\n        });\n    };\n    /**\n   * Checks if a given field has been initialized\n   * @param  {DOMNode} langInputfieldContainer Container element for multi-language field\n   * @return {bool}\n   */ const fieldIsInitialized = (langTabContainer)=>langTabContainer.hasAttribute((0, $iN3hH.default).fieldInitializedAttr) || !!langTabContainer.querySelector('.ft-translate-button');\n    /**\n   * Marks a field as initialized by adding a data attribute to the container\n   * @param  {DOMNode} langTabContainer Container element for multi-language field\n   * @return {void}\n   */ const setFieldIsInitialized = (langTabContainer)=>langTabContainer.setAttribute((0, $iN3hH.default).fieldInitializedAttr, '');\n    /**\n   * This updates the value of an input element such as text or textarea\n   * When a field is updated it must be blurred so that it is recognized as having been changed and\n   * the \"unsaved changes\" alert will be shown if navigating away from a page without saving\n   * @param  {HTMLElement} inputEl Element\n   * @param  {string}      value\n   * @return {void}\n   */ const updateValue = (inputEl, value)=>{\n        inputEl.focus();\n        inputEl.value = value;\n        inputEl.blur();\n    };\n    return {\n        init: init,\n        updateValue: updateValue,\n        fieldIsInitialized: fieldIsInitialized\n    };\n}();\nvar $7af38d5c3490259f$export$2e2bcd8739ae039 = $7af38d5c3490259f$var$FtInputfields;\n\n\n\nvar $7mhep = parcelRequire(\"7mhep\");\n\nvar $iN3hH = parcelRequire(\"iN3hH\");\n// Each module has its own checks to determine if they should initialize\nwindow.addEventListener('load', (e)=>{\n    if ((0, $iN3hH.default).moduleShouldInitialize()) {\n        (0, $7mhep.default).init();\n        (0, $7af38d5c3490259f$export$2e2bcd8739ae039).init();\n    }\n});\n\n})();\n//# sourceMappingURL=fluency.js.map\n","/**\n * This provides access methods to get module configuration values\n * @return {Object}  Public methods\n */\nconst FtConfig = (function () {\n  // Public properties\n\n  const fieldInitializedAttr = 'data-ft-initialized';\n\n  const translationActionTypes = {\n    each: 'translate_each_language',\n    all: 'translate_to_all_languages',\n    both: 'both',\n  };\n\n  // Private properties\n\n  /**\n   * Holds the data passed from the Fluency module\n   * @access Private\n   * @type {Object}\n   */\n  const config = ProcessWire.config.fluency;\n\n  /**\n   * All UI strings\n   * @type {Object}\n   */\n  const localizedStrings = config.localization;\n\n  /**\n   * Classes for elements created in UI\n   * @type {Object}\n   */\n  const elementClasses = {\n    translateButton: {\n      container: 'ft-translate-button-container',\n      button: 'ft-translate-button',\n    },\n    languageTranslator: {\n      container: 'Inputfield InputfieldHeaderHidden',\n      content: 'InputfieldContent ft-language-translator-button-content',\n      translateButton: 'ft-translate-all-button',\n      sourceLanguageSelect: 'uk-select ft-source-language-select',\n      sourceLanguageSelectLabel: 'ft-source-language-select-label',\n    },\n    statusPlaceholder: {\n      container: 'ft-translation-status-container',\n      label: 'ft-translation-status',\n    },\n    icon: 'ft-icon',\n  };\n\n  /**\n   * Objects interface with the Fluency config object so that changes to the object\n   * structure from the back end do not break the UI. Use the public methods below\n   * to access ProcessWire.config.fluency properties and data\n   */\n\n  /**\n   * Localized strings keyed sets\n   * @type {Object}\n   */\n  const strings = {\n    activityOverlay: localizedStrings.activityOverlay,\n    languageSelect: localizedStrings.languageSelect,\n    inputfieldTranslateButtons: localizedStrings.inputfieldTranslateButtons,\n    standaloneTranslator: localizedStrings.standaloneTranslator,\n    usage: localizedStrings.usage,\n    errors: localizedStrings.errors,\n    languageTranslator: localizedStrings.languageTranslator,\n  };\n\n  /**\n   * Fluency API keyed URLs\n   * @type {Object}\n   */\n  const endpoints = {\n    languages: config.apiEndpoints.languages,\n    translatableLanguagesCache: config.apiEndpoints.translatableLanguagesCache,\n    test: config.apiEndpoints.test,\n    translation: config.apiEndpoints.translation,\n    translationCache: config.apiEndpoints.translationCache,\n    usage: config.apiEndpoints.usage,\n  };\n\n  /**\n   * Contains all of the Fluency configured langauges from the module\n   * @type {Array}\n   */\n  const configuredLanguages = config.configuredLanguages;\n\n  /**\n   * Contains an array of ProcessWire language IDs not configured in Fluency\n   * @type {Array}\n   */\n  const unconfiguredLanguages = config.unconfiguredLanguages;\n\n  // Public methods\n\n  /**\n   * Fluency REST API\n   */\n  const getApiEndpointFor = key => endpoints[key];\n\n  /**\n   * Languages\n   */\n\n  /**\n   * Get all configured languages\n   * @return {object}\n   */\n  const getConfiguredLanguages = () => configuredLanguages;\n\n  /**\n   * Returns ProcessWire's default language\n   * @return {object}\n   */\n  const getDefaultLanguage = () =>\n    getConfiguredLanguages().reduce(\n      (defaultLang, lang) => (lang.default ? lang : defaultLang),\n      null,\n    );\n\n  /**\n   * Determines if the language with a given ProcessWire ID can be translated\n   * @param  {int|string} languageId ProcessWire language ID\n   * @return {bool}\n   */\n  const languageIsTranslatable = languageId =>\n    !getUnconfiguredLanguages().includes(parseInt(languageId, 10));\n\n  /**\n   * Get all languages not configured in Fluency\n   * @return {object}\n   */\n  const getUnconfiguredLanguages = () => unconfiguredLanguages;\n\n  /**\n   * Gets total count of configured and unconfigured languages\n   * @return {int}\n   */\n  const getLanguageCount = () =>\n    getConfiguredLanguages().length + getUnconfiguredLanguages().length;\n\n  /**\n   * Get a configured language by it's ProcessWire ID\n   * @param  {string|int} pwLanguageId ProcessWire language ID\n   * @return {object}\n   */\n  const getLanguageForId = pwLanguageId => {\n    pwLanguageId = parseInt(pwLanguageId, 10);\n\n    return getConfiguredLanguages().reduce(\n      (match, language) => (language.id === pwLanguageId ? language : match),\n      null,\n    );\n  };\n\n  /**\n   * Localization\n   */\n\n  /**\n   * Accessor method for localized UI strings\n   * @param  {string} key Object key\n   * @return {string}\n   */\n  const getUiTextFor = key => strings[key];\n\n  /**\n   * Module Configuration/State\n   */\n\n  /**\n   * Determines if Fluency JS should initialize based on whether languages have\n   * been configured\n   * @return {bool}\n   */\n  const moduleShouldInitialize = () => getConfiguredLanguages().length > 1;\n\n  /**\n   * Returns the translation engine config object for the engine configured in Fluency\n   * @return {object|null}\n   */\n  const getEngineInfo = () => config.engine;\n\n  /**\n   * Does this engine provide usage data?\n   * @return {bool}\n   */\n  const getEngineProvidesUsageData = () => getEngineInfo().providesUsageData;\n\n  /**\n   * Gets the type of translation action chosen in the Flunecy module config\n   * @return {string}\n   */\n  const getTranslationAction = () => config.interface.inputfieldTranslationAction;\n\n  /**\n   * The attribute added to individual field elements where translation has been disabled\n   * @return {string}\n   */\n  const getTranslationDisabledFieldAttribute = () =>\n    `[${config.interface.translationDisabledFieldAttr}]`;\n\n  /**\n   * Class names added to UI components\n   * @param  {string} element The type of component\n   * @return {string}\n   */\n  const getElementClassesFor = element => elementClasses[element];\n\n  return {\n    fieldInitializedAttr,\n    getApiEndpointFor,\n    getConfiguredLanguages,\n    getDefaultLanguage,\n    getElementClassesFor,\n    getEngineInfo,\n    getEngineProvidesUsageData,\n    getLanguageCount,\n    getLanguageForId,\n    getTranslationAction,\n    getTranslationDisabledFieldAttribute,\n    getUiTextFor,\n    getUnconfiguredLanguages,\n    languageIsTranslatable,\n    moduleShouldInitialize,\n    translationActionTypes,\n  };\n})();\n\nexport default FtConfig;\n","import FtConfig from '../global/FtConfig';\n\n/**\n * Creates, inserts, and controls the actions the activity overlay for the provided\n * targetContainer\n * @param {object} targetContainer An instantiated object for an inputfield or fieldset\n * @param {string} type       The type of activity for this overlay. 'translate' or 'update'\n */\nconst FtActivityOverlay = function (targetContainer, activityType = 'translating') {\n  const elClasses = {\n    parent: 'ft-activity-overlay-container',\n    overlay: 'ft-activity-overlay',\n    error: 'error',\n    message: 'message',\n    flash: 'flash',\n    activity: 'activity',\n    visible: 'visible',\n    activityContainer: 'ft-activity',\n    activityStaticText: 'ft-activity-text',\n    activityAnimationContainer: 'ft-activity-animation-container',\n    activityAnimationItem: 'ft-activity-animation-item',\n    messageContainer: 'ft-activity-message',\n  };\n\n  /**\n   * Will contain the activityOverlay Element for this targetContainer\n   * @type {Element}\n   */\n  let activityOverlay;\n\n  /**\n   * Will contain the message Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let messageContainer;\n\n  /**\n   * Will contain the animation container Element for this targetContainer's activityOverlay\n   * @type {Element}\n   */\n  let activityContainer;\n\n  /**\n   * Show the overlay's activity animation that was created at instantiation\n   * @return {void}\n   */\n  this.showActivity = () => {\n    this.setActivityActive();\n    this.setOverlayVisible();\n  };\n\n  /**\n   * Shows a message in the overlay (neutral background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showMessage = (message, displayTime = 5000) => {\n    this.setMessageContent(message);\n    this.setActivityInactive();\n    this.setMessageActive();\n    this.setOverlayVisible();\n    this.hide(displayTime);\n  };\n\n  /**\n   * Shows a success message (success color background)\n   *\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.flashSuccess = (message, displayTime = 500) => {\n    this.setSuccessActive();\n    this.setFlashActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows an error message (error color background)\n   * @param  {String} message     Text to display\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.flashError = (message, displayTime = 500) => {\n    this.setFlashActive();\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Shows an error message in a visible overlay (error background)\n   * @param  {String} message     Message to show in overlay error\n   * @param  {Number} displayTime Length of time in ms before hiding overlay after shown\n   * @return {void}\n   */\n  this.showError = (message, displayTime = 5000) => {\n    this.setErrorActive();\n    this.showMessage(message, displayTime);\n  };\n\n  /**\n   * Hide an overlay immediately or after a preset amount of time\n   * @param {Number} delay Length of time in ms before hiding overlay\n   */\n  this.hide = (delay = 0) => {\n    setTimeout(() => {\n      this.setOverlayInvisible();\n    }, delay);\n\n    // Ensures the animation is finished before modifying content\n    setTimeout(() => {\n      this.setActivityInactive();\n      this.setMessageInactive();\n      this.setErrorInactive();\n      this.setFlashInactive();\n      this.setMessageContent('');\n    }, delay + 500);\n  };\n\n  /**\n   * Shows the activity element\n   * @access Private\n   */\n  this.setActivityActive = () => activityOverlay.classList.add(elClasses.activity);\n\n  /**\n   * Hides the activity element\n   * @access Private\n   */\n  this.setActivityInactive = () => activityOverlay.classList.remove(elClasses.activity);\n\n  /**\n   * Shows the message element\n   * @access Private\n   */\n  this.setMessageActive = () => activityOverlay.classList.add(elClasses.message);\n\n  /**\n   * Hides the activity element\n   * @access Private\n   */\n  this.setMessageInactive = () => activityOverlay.classList.remove(elClasses.message);\n\n  /**\n   * Sets the content of the overlay message\n   * @access Private\n   */\n  this.setMessageContent = content => (messageContainer.innerText = content);\n\n  /**\n   * Adds flashing overlay behavior\n   * @access Private\n   */\n  this.setFlashActive = () => activityOverlay.classList.add(elClasses.flash);\n\n  /**\n   * removes flashing overlay behavior\n   * @access Private\n   */\n  this.setFlashInactive = () => activityOverlay.classList.remove(elClasses.flash);\n\n  /**\n   * Sets message to success\n   * @access Private\n   */\n  this.setSuccessActive = () => activityOverlay.classList.add(elClasses.success);\n\n  /**\n   * Unsets success message\n   * @access Private\n   */\n  this.setSuccessInactive = () => activityOverlay.classList.remove(elClasses.success);\n\n  /**\n   * Sets message to error\n   * @access Private\n   */\n  this.setErrorActive = () => activityOverlay.classList.add(elClasses.error);\n\n  /**\n   * Unsets message error\n   * @access Private\n   */\n  this.setErrorInactive = () => activityOverlay.classList.remove(elClasses.error);\n\n  /**\n   * Shows this activity overlay\n   * @access Private\n   */\n  this.setOverlayVisible = () => activityOverlay.classList.add(elClasses.visible);\n\n  /**\n   * Hides this activity overlay\n   * @access Private\n   */\n  this.setOverlayInvisible = () => activityOverlay.classList.remove(elClasses.visible);\n\n  /**\n   * Creates and returns an activity overlay element\n   * @return {HTMLElement}\n   */\n  this.create = () => {\n    activityOverlay = this.buildOverlayEl();\n    activityContainer = this.buildActivityEl();\n    messageContainer = this.buildMessageEl();\n\n    activityOverlay.appendChild(activityContainer);\n    activityOverlay.appendChild(messageContainer);\n\n    return activityOverlay;\n  };\n\n  /**\n   * Creates the parent overlay element\n   * @return {Element}\n   * @access Private\n   */\n  this.buildOverlayEl = () => {\n    const overlay = document.createElement('div');\n\n    overlay.setAttribute('class', elClasses.overlay);\n\n    return overlay;\n  };\n\n  /**\n   * Creates container for animation and contents of animation\n   * @return {Element}\n   * @access Private\n   */\n  this.buildActivityEl = () => {\n    let text = this.getActivityTexts();\n\n    let activityAnimationContainer = document.createElement('div');\n    activityAnimationContainer.setAttribute('class', elClasses.activityAnimationContainer);\n\n    // Add all animation items to the animation container\n    activityAnimationContainer = text.animated.reduce((el, string) => {\n      let activityText = document.createElement('span');\n\n      // Add text items\n      activityText.setAttribute('class', elClasses.activityAnimationItem);\n      activityText.innerHTML = string;\n\n      el.appendChild(activityText);\n\n      return el;\n    }, activityAnimationContainer);\n\n    // Create static text element\n    let staticText = document.createElement('div');\n    staticText.setAttribute('class', elClasses.activityStaticText);\n    staticText.innerText = text.static;\n\n    // Create activity container and append children\n    activityContainer = document.createElement('div');\n    activityContainer.setAttribute('class', elClasses.activityContainer);\n\n    activityContainer.appendChild(staticText);\n    activityContainer.appendChild(activityAnimationContainer);\n\n    return activityContainer;\n  };\n\n  /**\n   * Gets activity overlay texts and shuffles the animated array\n   * No purpose really other than to add some uniqueness to overlay animations and prevent looking\n   * like one language was preferred by me over another.\n   *\n   * Fisher-Yates algorithm, for the curious\n   * @return {Array} Randomized array of the activity animation texts for this instance\n   * @access Private\n   */\n  this.getActivityTexts = () => {\n    let uiTexts = FtConfig.getUiTextFor('activityOverlay')[activityType];\n    let animationTexts = uiTexts.animated;\n\n    for (let i = animationTexts.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = animationTexts[i];\n\n      animationTexts[i] = animationTexts[j];\n      animationTexts[j] = temp;\n    }\n\n    uiTexts.animated = animationTexts;\n\n    return uiTexts;\n  };\n\n  /**\n   * Builds the element that will hold messages in the overlay\n   * @return {Element}\n   * @access Private\n   */\n  this.buildMessageEl = () => {\n    messageContainer = document.createElement('div');\n    messageContainer.setAttribute('class', elClasses.messageContainer);\n\n    return messageContainer;\n  };\n\n  (() => {\n    const targetContainerContainer = targetContainer.getSelf();\n\n    activityOverlay = this.create();\n\n    targetContainerContainer.classList.add(elClasses.parent);\n    targetContainerContainer.appendChild(activityOverlay);\n  })();\n};\n\nexport default FtActivityOverlay;\n","import FtConfig from './FtConfig';\n\n/**\n * Core module interface\n * Handles all interaction with the ProcessWire module backend\n * @return {object} Public interfaces\n */\n\nconst Fluency = (function () {\n  /**\n   * Localized error strings\n   * @type {Object}\n   */\n  const errors = FtConfig.getUiTextFor('errors');\n\n  /**\n   * Data Request Methods\n   */\n\n  /**\n   * Gets a translation from the Fluency module\n   * @param  {String}       sourceLanguage ISO language code\n   * @param  {String}       targetLanguage ISO langauge code\n   * @param  {String|Array} content        Content to translate\n   * @param  {Array}        options        Additional options\n   * @param  {Bool|null}         caching        Enable/disable caching\n   * @return {Promise}\n   */\n  const getTranslation = (\n    sourceLanguage,\n    targetLanguage,\n    content,\n    options = [],\n    caching = null\n  ) => {\n    return postRequest(\n      FtConfig.getApiEndpointFor('translation'),\n      {\n        sourceLanguage: sourceLanguage,\n        targetLanguage: targetLanguage,\n        content: content,\n        options: options,\n        caching: caching,\n      },\n      response => {\n        return response;\n      }\n    );\n  };\n\n  /**\n   * Gets the current translation service API usage\n   * @return {Promise}\n   */\n  const getUsage = () => {\n    return getRequest(FtConfig.getApiEndpointFor('usage'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Get all language available for translation. Provides source/target lists from the translation\n   * service API\n   * @return {Promise}\n   */\n  const getAvailableLanguages = () => {\n    return getRequest(FtConfig.getApiEndpointFor('languages'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear all cached translations\n   * @return {Promise}\n   */\n  const deleteTranslationCache = () => {\n    return deleteRequest(FtConfig.getApiEndpointFor('translationCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * Clear cached list of translatable languages\n   * @return {Promise}\n   */\n  const deleteTranslatableLanguagesCache = () => {\n    return deleteRequest(FtConfig.getApiEndpointFor('translatableLanguagesCache'), response => {\n      return response;\n    });\n  };\n\n  /**\n   * HTTP Requests\n   */\n\n  /**\n   * Create headers for AJAX requests\n   * @return {Object}\n   */\n  const requestHeaders = requestType => {\n    const requestHeaders = {\n      'X-Requested-With': 'XMLHttpRequest',\n    };\n\n    if (requestType === 'GET') {\n      requestHeaders['Accept'] = 'application/json';\n    }\n\n    if (requestType === 'POST') {\n      requestHeaders['Content-Type'] = 'application/json';\n    }\n\n    return requestHeaders;\n  };\n\n  /**\n   * Executes a POST request to a given endpoint\n   * @param  {String}    endpoint URL for AJAX request\n   * @param  {Object}    data     Data for request\n   * @param  {Callable}  data     Function to handle response body\n   * @return {Promise}\n   */\n  const postRequest = (endpoint, data, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'POST',\n      cache: 'no-store',\n      headers: requestHeaders,\n      body: JSON.stringify(data),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Executes a GET request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const getRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'GET',\n      cache: 'no-store',\n      headers: requestHeaders('GET'),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Executes a DELETE request to a given endpoint\n   * @param  {String}   endpoint        URL for AJAX request\n   * @param  {Callable} responseHandler Function to handle response body\n   * @return {Promise}\n   */\n  const deleteRequest = (endpoint, responseHandler) => {\n    return fetch(endpoint, {\n      method: 'DELETE',\n      headers: requestHeaders('GET'),\n    })\n      .then(parseResponse)\n      .then(responseHandler)\n      .catch(handleFetchError);\n  };\n\n  /**\n   * Parses response\n   * @param  {Object} response Fluency API response\n   * @return {Object|Void}\n   * @throws Error\n   */\n  const parseResponse = response => {\n    if (response.status === 204) {\n      return response;\n    }\n\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error();\n  };\n\n  /**\n   * Parses and returns results for a fetch error\n   * These are network level errors that occur between ProcessWire and the hosting server\n   * Any translation or service errors will be located within the response body itself\n   * @param  {Error} error Fetch API error object\n   * @return {Object}\n   */\n  const handleFetchError = error => {\n    console.error('[Fluency module API failure]', error.message);\n\n    const returnObject = {\n      error: null,\n      message: null,\n    };\n\n    switch (error.message.split(' ')[0]) {\n      case 'NetworkError':\n        returnObject.error = 'FLUENCY_CLIENT_DISCONNECTED';\n        returnObject.message = errors['FLUENCY_CLIENT_DISCONNECTED'];\n        break;\n      default:\n        returnObject.error = 'UNKNOWN_ERROR';\n        returnObject.message = errors['UNKNOWN_ERROR'];\n        break;\n    }\n\n    return returnObject;\n  };\n\n  return {\n    deleteTranslatableLanguagesCache,\n    deleteTranslationCache,\n    getAvailableLanguages,\n    getTranslation,\n    getUsage,\n  };\n})();\n\nexport default Fluency;\n","import FtConfig from '../global/FtConfig';\nimport Fluency from '../global/Fluency';\n\n/**\n * Creates common HTML elements\n *\n * @return {Object} Public methods\n */\nconst FtUiElements = (function () {\n  /**\n   * @type {Object}\n   */\n  const elementClasses = FtConfig.elementClasses;\n\n  /**\n   * Gets all localized strings from the FluencyConfig object\n   * These do nothing on their own and must be bound with any behavior after creation\n   * @type {object}\n   */\n  const uiText = FtConfig.getUiTextFor('inputfieldTranslateButtons');\n\n  /**\n   * Creates a language fontawesome icon element\n   * @return {Element}\n   */\n  const createIcon = () => {\n    const iconLink = document.createElement('a');\n    iconLink.setAttribute('href', `${ProcessWire.config.urls.admin}fluency/?modal=1`);\n    iconLink.setAttribute('class', 'pw-modal pw-modal-large');\n\n    const icon = document.createElement('i');\n    icon.setAttribute('class', `${FtConfig.getElementClassesFor('icon')} fa fa-language`);\n    icon.setAttribute('uk-tooltip', uiText.showTranslator);\n\n    iconLink.appendChild(icon);\n\n    return iconLink;\n  };\n\n  /**\n   * Creates a status placeholder\n   * @param  {string} text Button text\n   * @return {Element}\n   */\n  const createStatusElement = text => {\n    const elClasses = FtConfig.getElementClassesFor('statusPlaceholder');\n\n    const label = document.createElement('span');\n    label.setAttribute('class', elClasses.label);\n    label.innerText = text;\n\n    const container = document.createElement('div');\n    container.setAttribute('class', elClasses.container);\n\n    container.appendChild(createIcon());\n    container.appendChild(label);\n\n    return container;\n  };\n\n  /**\n   * Creates a translate button element\n   * @return {Object} Container element and Button element\n   */\n  const createTranslateButton = text => {\n    const elClasses = FtConfig.getElementClassesFor('translateButton');\n\n    const button = document.createElement('a');\n    button.innerText = text;\n    button.setAttribute('class', elClasses.button);\n    button.setAttribute('href', '');\n\n    const container = document.createElement('div');\n    container.setAttribute('class', elClasses.container);\n\n    container.appendChild(createIcon());\n    container.appendChild(button);\n\n    return {\n      button,\n      container,\n    };\n  };\n\n  /**\n   * Creates the translate to all for the language translator pages\n   * @param  {string} text Button label\n   * @return {Element}\n   */\n  const createLanguageTranslatorInputs = () => {\n    const elClasses = FtConfig.getElementClassesFor('languageTranslator');\n    const texts = FtConfig.getUiTextFor('languageTranslator');\n\n    // Translate All button\n    const translateAllButton = document.createElement('a');\n    translateAllButton.innerText = texts.translateAllButton;\n    translateAllButton.setAttribute('class', elClasses.translateButton);\n    translateAllButton.setAttribute('href', '');\n\n    // Source language select\n    const sourceLanguageSelect = document.createElement('select');\n    sourceLanguageSelect.setAttribute('class', elClasses.sourceLanguageSelect);\n\n    // Source language select options\n    FtConfig.getConfiguredLanguages().forEach(function (language) {\n      const option = document.createElement('option');\n      option.textContent = language.title;\n      option.value = language.engineLanguage.sourceCode;\n\n      if (language.default) {\n        option.selected = 'selected';\n        sourceLanguageSelect.prepend(option);\n\n        return;\n      }\n\n      sourceLanguageSelect.appendChild(option);\n    });\n\n    // Source language select label text\n    const selectLabelText = document.createElement('span');\n    selectLabelText.innerText = texts.sourceLanguageSelectLabel;\n\n    // Source language select label\n    const sourceLanguageSelectLabel = document.createElement('label');\n    sourceLanguageSelectLabel.setAttribute('class', elClasses.sourceLanguageSelectLabel);\n    sourceLanguageSelectLabel.appendChild(selectLabelText);\n    sourceLanguageSelectLabel.appendChild(sourceLanguageSelect);\n\n    // Container that holds all UI elements\n    const content = document.createElement('div');\n    content.setAttribute('class', elClasses.content);\n    content.appendChild(translateAllButton);\n    content.appendChild(sourceLanguageSelectLabel);\n\n    // ProcessWire UI fields container\n    const container = document.createElement('li');\n    container.setAttribute('class', elClasses.container);\n    container.appendChild(content);\n\n    return {\n      translateAllButton,\n      sourceLanguageSelect,\n      container,\n    };\n  };\n\n  return {\n    createStatusElement,\n    createTranslateButton,\n    createLanguageTranslatorInputs,\n    createIcon,\n    elementClasses,\n  };\n})();\n\nexport default FtUiElements;\n","/**\n * Handles modifying the Fluency menu item\n * @return {object} Public methods\n */\nconst FtAdminMenu = (function () {\n  /**\n   * Initializes module\n   * @return {void}\n   */\n  const init = () => {\n    convertFtAdminMenuToModal();\n  };\n\n  /**\n   * Finds and converts the Translation admin menu item to open in a modal\n   * rather than navigating to the page.\n   * @return {void}\n   */\n  const convertFtAdminMenuToModal = () => {\n    const adminNavItems = document.querySelectorAll('.pw-masthead .pw-primary-nav > li > a'),\n      urlParams = new URLSearchParams(window.location.search);\n\n    // We don't want to modify this menu item if we are on the Fluency config page\n    // because the modal behavior is not available\n    if (urlParams.get('name') === 'Fluency') {\n      return false;\n    }\n\n    adminNavItems.forEach((el, i) => {\n      let hrefSegments = el.href.split('/').filter(Boolean);\n\n      if (hrefSegments[hrefSegments.length - 1].includes('fluency')) {\n        el.href = el.href + '?modal=1';\n        el.classList.add('pw-modal-large');\n        el.classList.add('pw-modal');\n      }\n    });\n  };\n\n  return {\n    init: init,\n  };\n})();\n\nexport default FtAdminMenu;\n","import FtInputfields from './inputfields/FtInputfields';\nimport FtAdminMenu from './ui/FtAdminMenu';\nimport FtConfig from './global/FtConfig';\n\n// Each module has its own checks to determine if they should initialize\nwindow.addEventListener('load', e => {\n  if (FtConfig.moduleShouldInitialize()) {\n    FtAdminMenu.init();\n    FtInputfields.init();\n  }\n});\n","import FtConfig from '../global/FtConfig';\nimport { FtIsInputfieldCKEditor, FtInputfieldCKEditor } from './FtInputfieldCKEditor';\nimport {\n  FtIsInputfieldCKEditorInline,\n  FtInputfieldCKEditorInline,\n} from './FtInputfieldCKEditorInline';\nimport { FtIsInputfieldTable } from './FtInputfieldTable';\nimport { FtIsInputfieldText, FtInputfieldText } from './FtInputfieldText';\nimport { FtIsInputfieldTextarea, FtInputfieldTextarea } from './FtInputfieldTextarea';\nimport { FtIsInputfieldTinyMCE, FtInputfieldTinyMCE } from './FtInputfieldTinyMCE';\nimport {\n  FtIsInputfieldTinyMCEInline,\n  FtInputfieldTinyMCEInline,\n} from './FtInputfieldTinyMCEInline';\nimport FtInputfieldPageName from './FtInputfieldPageName';\n\n/**\n * Orchestration for initializing all multilanguage inputfields on a page\n * @return {Object}   Public interface methods\n */\nconst FtInputfields = (function () {\n  /**\n   * Selector used to find translatable Inputfields\n   * All inputfield containers on the page that are multilanguage have this class\n   * @type {String}\n   */\n  const langInputfieldClass = \"[class*='hasLangTabs']\";\n\n  /**\n   * Attribute present where per-field translation is disabled\n   * @type {String}\n   */\n  const disableTranslationAttr = FtConfig.getTranslationDisabledFieldAttribute();\n\n  /**\n   * Initializes multilanguage fields if present on page\n   * @return {void}\n   */\n  const init = function () {\n    const langInputfieldContainers = document.querySelectorAll(langInputfieldClass);\n\n    // Only init if there are multi-language Inputfields on the page\n    if (langInputfieldContainers.length) {\n      initInputfields(langInputfieldContainers);\n      initInputfieldsOnInsertion();\n      initPageNameInputfields();\n    }\n  };\n\n  /**\n   * Initializes multiple multilanguage fields in a collection of elelents\n   * @param  {NodeList} langInputfieldContainers\n   * @return {Void}\n   */\n  const initInputfields = langInputfieldContainers => {\n    for (let langInputfieldContainer of langInputfieldContainers) {\n      if (translationIsDisabled(langInputfieldContainer)) {\n        continue;\n      }\n\n      initInputfield(langInputfieldContainer);\n    }\n  };\n\n  /**\n   * Determines if a provided language inputfield has had Fluency translation disabled\n   * @param  {HTMLElement} langInputfieldContainer\n   * @return {Bool}\n   */\n  const translationIsDisabled = langInputfieldContainer =>\n    !!langInputfieldContainer.querySelectorAll(disableTranslationAttr).length;\n\n  /**\n   * Initializes the field within a container\n   * @param  {Element} langInputfieldContainer Element containing inputfield\n   * @return {void}\n   */\n  const initInputfield = langInputfieldContainer => {\n    // Do not initialize fields that have already been initialized\n    // Do not initialized fields that are a list element and not an Inputfield themselves\n    if (\n      !fieldIsInitialized(langInputfieldContainer) &&\n      !langInputfieldContainer.classList.contains('InputfieldItemList') &&\n      !isInputfieldTemplate(langInputfieldContainer)\n    ) {\n      let inputfield = getFtInputfieldObject(langInputfieldContainer);\n\n      setFieldIsInitialized(langInputfieldContainer);\n\n      if (!inputfield) {\n        return;\n      }\n    }\n  };\n\n  /**\n   * Detect if Inputfield container is a hidden template element used to dynamically create new\n   * Inputfields on demand\n   * @param  {Element} langInputfieldContainer\n   * @return {Bool}\n   */\n  const isInputfieldTemplate = langInputfieldContainer =>\n    !!langInputfieldContainer.closest(\"[class*='Template']\");\n\n  /**\n   * Initializes a FtInputfield object instance by type\n   * Order of checks is important Complex fields should be cased higher\n   * Fields with lower complexity should be cased last to prevent catching simple elements in\n   * complex fields that use simple inputs\n   * @param  {Element} langInputfieldContainers\n   * @return {?Object}\n   */\n  const getFtInputfieldObject = langInputfieldContainer => {\n    switch (true) {\n      case FtIsInputfieldTable(langInputfieldContainer):\n        // Initialize all new fields which have a different class than top-level fields\n        initInputfields(langInputfieldContainer.querySelectorAll('.langTabs'));\n        break;\n      case FtIsInputfieldCKEditor(langInputfieldContainer):\n        return new FtInputfieldCKEditor(langInputfieldContainer);\n\n      case FtIsInputfieldCKEditorInline(langInputfieldContainer):\n        return new FtInputfieldCKEditorInline(langInputfieldContainer);\n\n      case FtIsInputfieldTinyMCE(langInputfieldContainer):\n        return new FtInputfieldTinyMCE(langInputfieldContainer);\n\n      case FtIsInputfieldTinyMCEInline(langInputfieldContainer):\n        return new FtInputfieldTinyMCEInline(langInputfieldContainer);\n\n      case FtIsInputfieldTextarea(langInputfieldContainer):\n        return new FtInputfieldTextarea(langInputfieldContainer);\n\n      case FtIsInputfieldText(langInputfieldContainer):\n        return new FtInputfieldText(langInputfieldContainer);\n\n      default:\n        if (ProcessWire.config.debug) {\n          console.warn(\n            'Fluency does not recognize this inputfield, translation is not available',\n            langInputfieldContainer,\n          );\n        }\n\n        return null;\n    }\n  };\n\n  /**\n   * This sets a mutation observer on the main content area of the edit page that will initialize\n   * new fields that may be added on focus or triggered by AJAX actions\n   *\n   * @return {void}\n   */\n  const initInputfieldsOnInsertion = () => {\n    const parentNode = document.getElementById('pw-content-body');\n\n    new MutationObserver((mutations, observer) => {\n      for (let mutation of mutations) {\n        let targetEl = mutation.target;\n\n        const foundEls = targetEl.querySelectorAll(langInputfieldClass);\n\n        if (foundEls.length) {\n          initInputfields(foundEls);\n        }\n      }\n    }).observe(parentNode, {\n      childList: true,\n      subtree: true,\n    });\n  };\n\n  /**\n   * Initializes page name fields. Must be initialized separately since they do not\n   * follow the structure of other inputfields\n   * @return {void}\n   */\n  const initPageNameInputfields = () => {\n    const pageNameInputfields = document.querySelectorAll('.InputfieldPageName');\n    [...pageNameInputfields].forEach(pageNameInputfield => {\n      if (pageNameInputfield && !fieldIsInitialized(pageNameInputfield)) {\n        let inputfield = new FtInputfieldPageName(pageNameInputfield);\n\n        setFieldIsInitialized(pageNameInputfield);\n\n        if (!inputfield) {\n          return;\n        }\n      }\n    });\n  };\n\n  /**\n   * Checks if a given field has been initialized\n   * @param  {DOMNode} langInputfieldContainer Container element for multi-language field\n   * @return {bool}\n   */\n  const fieldIsInitialized = langTabContainer =>\n    langTabContainer.hasAttribute(FtConfig.fieldInitializedAttr) ||\n    !!langTabContainer.querySelector('.ft-translate-button');\n\n  /**\n   * Marks a field as initialized by adding a data attribute to the container\n   * @param  {DOMNode} langTabContainer Container element for multi-language field\n   * @return {void}\n   */\n  const setFieldIsInitialized = langTabContainer =>\n    langTabContainer.setAttribute(FtConfig.fieldInitializedAttr, '');\n\n  /**\n   * This updates the value of an input element such as text or textarea\n   * When a field is updated it must be blurred so that it is recognized as having been changed and\n   * the \"unsaved changes\" alert will be shown if navigating away from a page without saving\n   * @param  {HTMLElement} inputEl Element\n   * @param  {string}      value\n   * @return {void}\n   */\n  const updateValue = (inputEl, value) => {\n    inputEl.focus();\n    inputEl.value = value;\n    inputEl.blur();\n  };\n\n  return {\n    init,\n    updateValue,\n    fieldIsInitialized,\n  };\n})();\n\nexport default FtInputfields;\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if a given inputfield contains a regular CKEditor instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */\nconst FtIsInputfieldCKEditor = inputfield =>\n  !!inputfield.querySelector('.InputfieldCKEditorNormal');\n\n/**\n * Handles translations for CKEditor Inputfields\n * @return {object}  Public methods\n */\nconst FtInputfieldCKEditor = function (inputfield) {\n  /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   *\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */\n  const inputContainers = {};\n\n  /**\n   * Will contain all CKEditor instances\n   * @property {String} ProcessWire Language ID\n   * @value    {CKEditor|null}\n   * @type     {Object}\n   */\n  const editorInstances = {};\n\n  /**\n   * Will contain the base CKEditor instance ID that can be used to get the default CKEditor instance\n   * using the CKEditor API, or another instance by modifying this one.\n   * Set on FtInputfieldCKEditor instantiation\n   * @type {?String}\n   */\n  let defaultLanguageInstanceId = null;\n\n  /**\n   * This is the base inputfield ID that does not have a language ID appended\n   * ex. Inputfield_example vs Inputfield_example__1028\n   * @type {?String}\n   */\n  let inputfieldBaseId = null;\n\n  /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /**\n   * Gets existing or instantiates a new activity overlay\n   *\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => this.getEditorInstanceForLanguage(languageId).getData();\n\n  /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const instance = this.getEditorInstanceForLanguage(languageId);\n\n    instance.setData(value);\n    instance.fire('change');\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(instance).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * Attempts to get the CKEditor instance for a given language ID. This method should\n   * be used exclusively to get instances as it also sets event listeners for content\n   * changes if they have been instantiated after FtInputfieldCKEditor has loaded\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?CKEditor}\n   */\n  this.getEditorInstanceForLanguage = languageId => {\n    if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) {\n      return editorInstances[languageId];\n    }\n\n    const editorSelectorByLanguageId = [inputfieldBaseId, languageId]\n      .filter(val => !!val)\n      .join('__');\n\n    let editor = CKEDITOR.instances[editorSelectorByLanguageId];\n\n    // If ther was no editor found with this ID then a different default language has been set\n    // and the CKEditor instance will be found without an ID appended\n    if (!editor) {\n      editor = CKEDITOR.instances[inputfieldBaseId];\n    }\n\n    editorInstances[languageId] = editor;\n\n    return editorInstances[languageId];\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    this.getSelf()\n      .querySelectorAll('[data-language]')\n      .forEach(el => {\n        inputContainers[el.dataset.language] = el;\n      });\n\n    return inputContainers;\n  };\n\n  /**\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Registers the event listener that watches for content changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getEditorInstanceForLanguage(languageId).on('change', e => {\n      changedValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Initialized the uninitialized\n   * @access private\n   * @return {void}\n   */\n  this.initContainers = () => {\n    const allInputContainers = this.getInputContainers();\n\n    // The first input container will have an inputfield ID without any language ID appended\n    inputfieldBaseId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n\n    const defaultLanguageProcessWireId = FtConfig.getDefaultLanguage().id.toString();\n\n    const containerElements = Object.values(allInputContainers);\n\n    for (var i = containerElements.length - 1; i >= 0; i--) {\n      let containerId = containerElements[i].id;\n\n      if (containerId.endsWith(defaultLanguageProcessWireId)) {\n        defaultLanguageInstanceId = containerId.replace('langTab_', '');\n\n        break;\n      }\n    }\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      editorInstances[languageId] = this.getEditorInstanceForLanguage(languageId);\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n      this.registerInputEventListener(languageId);\n    }\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  };\n\n  /**\n   * Init on object instantiation\n   * @access private\n   * @return {Void}\n   */\n  (() => {\n    if (CKEDITOR === undefined) {\n      console.error('CKEditor was not found by Fluency, translation unavailable');\n\n      return;\n    }\n\n    // CKEditor experiences a delay between being added to the DOM and a ready state in some\n    // situations, notably after AJAX insertion. This was a lot easier than attempting to use the\n    // CKEditor events API which fired off more events than editors\n    setTimeout(this.initContainers, 50);\n  })();\n};\n\nexport { FtIsInputfieldCKEditor, FtInputfieldCKEditor };\n","import FtConfig from '../global/FtConfig';\nimport Fluency from '../global/Fluency';\nimport FtUiElements from './FtUiElements';\n\n/**\n * The translate button establishes the UI element used to trigger translations\n * by the user. It manages the translation process by displaying/hiding the\n * activity overlay, showing messages and errors, getting translations from\n * the Fluency API, and modifying content. This is done by manipulating the\n * inputfield and activityOverlay objects passed.\n */\n\n/**\n * @param {Element}  inputfield\n * @param {NodeList}  inputContainers\n * @param {Boolean} forceEachTranslationAction Force a single field translation trigger\n */\nconst FtInputfieldTranslateButton = function (\n  inputfield,\n  inputContainers,\n  forceEachTranslationAction = false,\n) {\n  /**\n   * Gets all localized strings from the FluencyConfig object\n   * @type {object}\n   */\n  const uiText = FtConfig.getUiTextFor('inputfieldTranslateButtons');\n\n  /**\n   * Adds translate elements to inputfield containers\n   * @param  {string|int} languageId     ProcessWire language ID\n   * @param  {Element}    inputContainer Inputcontainer for this language\n   * @return {void}\n   */\n  this.addTranslateFromDefaultButton = (languageId, inputContainer) => {\n    const isTranslatable = FtConfig.languageIsTranslatable(languageId);\n    const isDefaultLanguage = languageId == FtConfig.getDefaultLanguage().id;\n\n    if (!isTranslatable) {\n      inputContainer.appendChild(FtUiElements.createStatusElement(uiText.languageNotAvailable));\n\n      return;\n    }\n\n    if (isDefaultLanguage) {\n      inputContainer.appendChild(FtUiElements.createStatusElement(uiText.translationAvailable));\n\n      return;\n    }\n\n    const { button, container } = FtUiElements.createTranslateButton(uiText.translateButton);\n\n    this.bindButton(button, FtConfig.getLanguageForId(languageId));\n\n    inputContainer.appendChild(container);\n  };\n\n  /**\n   * Binds a button for translation\n   * @param  {Element} buttonElement Element to bind translation action to\n   * @param  {Object} languageConfig Fluency language configuration object\n   * @return {Void}\n   */\n  this.bindButton = (buttonElement, languageConfig) => {\n    buttonElement.addEventListener('click', e => {\n      e.preventDefault();\n\n      const translationSourceContent = inputfield.getValueForDefaultLanguage();\n\n      if (!translationSourceContent) {\n        return;\n      }\n\n      // Try to get the inputfield activity overlay, fall back to retrieving by language ID where\n      // the inputfield element can delegate to a specific activity overlay located within it\n      const activityOverlay =\n        inputfield.getActivityOverlay() ?? inputfield.getActivityOverlay(languageConfig.id);\n\n      activityOverlay.showActivity();\n\n      Fluency.getTranslation(\n        FtConfig.getDefaultLanguage().engineLanguage.sourceCode,\n        languageConfig.engineLanguage.targetCode,\n        translationSourceContent,\n      ).then(result => {\n        if (result.error) {\n          inputfield.getActivityOverlay().showError(result.message);\n\n          return;\n        }\n\n        inputfield.setValueForLanguage(languageConfig.id, result.translations[0]);\n\n        activityOverlay.hide();\n      });\n    });\n  };\n\n  /**\n   * Creates the \"Translate to all\" button and adds it to the inputfield\n   * @param  {int}          sourceLanguageId     ProcessWire language ID\n   * @param  {HTMLElements} inputContainers      All language input containers for this inputfield\n   * @return {void}\n   */\n  this.addTranslateToAllButton = (sourceLanguageId, inputContainers) => {\n    const isTranslatable = FtConfig.languageIsTranslatable(sourceLanguageId);\n    const sourceInputContainer = inputContainers[sourceLanguageId];\n\n    if (!isTranslatable) {\n      sourceInputContainer.appendChild(\n        FtUiElements.createStatusElement(uiText.languageNotAvailable),\n      );\n\n      return;\n    }\n\n    const { button, container } = FtUiElements.createTranslateButton(uiText.translateToAllButton);\n\n    this.bindTranslateToAllButton(\n      button,\n      FtConfig.getLanguageForId(sourceLanguageId),\n      inputContainers,\n    );\n\n    sourceInputContainer.appendChild(container);\n  };\n\n  /**\n   * Binds translation action to button that translates to all other languages\n   * @param  {Element}  buttonElement        Button to bind\n   * @param  {object}   sourceLanguageConfig The FtConfig object for the source language\n   * @param  {HTMLElements} inputContainers   All language input containers for this inputfield\n   * @return {void}\n   */\n  this.bindTranslateToAllButton = (buttonElement, sourceLanguageConfig, inputContainers) => {\n    buttonElement.addEventListener('click', e => {\n      e.preventDefault();\n\n      const translationSourceContent = inputfield.getValueForLanguage(sourceLanguageConfig.id);\n\n      // Do not translate if there's no source content or risk content in other languages to\n      // be removed\n      if (!translationSourceContent) {\n        return;\n      }\n\n      // Used to count the number of languages left when translating to all\n      let translationLanguageCount = Object.keys(inputContainers).length;\n      let errorOccurred = false;\n      let activityOverlay = inputfield.getActivityOverlay();\n\n      activityOverlay.showActivity();\n\n      for (let targetLanguageId in inputContainers) {\n        targetLanguageId = parseInt(targetLanguageId, 10);\n\n        let targetLanguageConfig = FtConfig.getLanguageForId(targetLanguageId);\n\n        // No need to translate source if present\n        // Skip if source or target languages are not configured in Fluency\n        if (\n          targetLanguageId === sourceLanguageConfig.id ||\n          !sourceLanguageConfig ||\n          !targetLanguageConfig\n        ) {\n          translationLanguageCount--;\n\n          continue;\n        }\n\n        Fluency.getTranslation(\n          sourceLanguageConfig.engineLanguage.sourceCode,\n          targetLanguageConfig.engineLanguage.targetCode,\n          translationSourceContent,\n        )\n          .then(result => {\n            if (result.error) {\n              // Only show the error overlay if an error has not already occurred\n              if (!errorOccurred) {\n                inputfield.getActivityOverlay().showError(result.message);\n              }\n\n              errorOccurred = true;\n\n              return;\n            }\n\n            inputfield.setValueForLanguage(targetLanguageConfig.id, result.translations[0]);\n          })\n          .then(result => {\n            translationLanguageCount--;\n\n            // If an error occurred, messaging/overlay will be handled by the error process\n            if (translationLanguageCount === 0 && !errorOccurred) {\n              activityOverlay.hide();\n            }\n          });\n      }\n    });\n  };\n\n  this.addBothTranslationButtonTypes = (languageId, inputContainers) => {\n    this.addTranslateToAllButton(languageId, inputContainers);\n    this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n  };\n\n  /**\n   * Init on object instantiation\n   */\n  (() => {\n    const actionTypes = FtConfig.translationActionTypes;\n    const translationAction = FtConfig.getTranslationAction();\n\n    for (let languageId in inputContainers) {\n      if (translationAction === actionTypes.all && !forceEachTranslationAction) {\n        this.addTranslateToAllButton(languageId, inputContainers);\n      }\n\n      if (translationAction === actionTypes.each || forceEachTranslationAction) {\n        this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n      }\n\n      if (translationAction === actionTypes.both && !forceEachTranslationAction) {\n        this.addTranslateToAllButton(languageId, inputContainers);\n        this.addTranslateFromDefaultButton(languageId, inputContainers[languageId]);\n      }\n    }\n  })();\n};\n\nexport default FtInputfieldTranslateButton;\n","/**\n * A stateful function handling  behaviors for a language tab associated with a input container\n * contained within an Inputfield. An \"input container\" is the div that contains the label and\n * input/textarea/element (depending on Inputfield type) for a language\n * @param {Element} inputContainer Language\n */\nconst FtLanguageTab = function (inputContainer) {\n  /**\n   * Note\n   * @type {String}\n   */\n  const contentModifiedClass = 'ft-content-changed';\n\n  /**\n   * Cached associated tab for this input container\n   * @type {Element}\n   */\n  let languageTab = null;\n\n  this.getContentModifiedClass = () => contentModifiedClass;\n\n  /**\n   * Sets state of tab\n   * @param  {bool} modified Determines state of tab display\n   * @return {void}\n   */\n  this.setModifiedState = modified => (modified ? this.setTabModified() : this.setTabUnmodified());\n\n  this.setTabModified = () => this.getLanguageTab().classList.add(contentModifiedClass);\n\n  this.setTabUnmodified = () => this.getLanguageTab().classList.remove(contentModifiedClass);\n\n  this.getLanguageTab = () => {\n    return (\n      languageTab ??\n      inputContainer\n        .closest('.langTabs')\n        .querySelector(`.langTabLink[data-lang=\"${inputContainer.dataset.language}\"`)\n    );\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * @return {void}\n   */\n  (() => {\n    if (!inputContainer) {\n      return false;\n    }\n\n    languageTab = this.getLanguageTab();\n  })();\n};\n\nexport default FtLanguageTab;\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if a given inputfield contains an inline CKEditor instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */\nconst FtIsInputfieldCKEditorInline = inputfield =>\n  !!inputfield.querySelector('.InputfieldCKEditorInline');\n\n/**\n * Handles translations for CKEditor Inputfields\n * @return {object}  Public methods\n */\nconst FtInputfieldCKEditorInline = function (inputfield) {\n  /**\n   * Contains values for all fields/languages\n   * Populated on FtInputfieldCKEditorInline instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */\n  const inputContainers = {};\n\n  /**\n   * Will contain all CKEditor instances\n   * @property {String} ProcessWire Language ID\n   * @value    {CKEditor|null}\n   * @type     {Object}\n   */\n  const editorInstances = {};\n\n  /**\n   * Will contain all elements that the inline editor uses for content\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const contentElements = {};\n\n  /**\n   * Will contain the base CKEditor instance ID that can be used to get the default CKEditor instance\n   * using the CKEditor API, or another instance by modifying this one.\n   * Set on FtInputfieldCKEditor instantiation\n   * @type {?String}\n   */\n  let defaultLanguageInstanceId = null;\n\n  /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /**\n   * Gets existing or instantiates a new activity overlay\n   *\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * Attempts to get the value for a language via the CKEditor API, falls back to directly getting\n   * the content of the content element\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => {\n    const ckeditorInstance = this.getEditorInstanceForLanguage(languageId);\n\n    if (ckeditorInstance) {\n      return ckeditorInstance.getData();\n    }\n\n    return this.getContentElementForLanguage(languageId).innerHTML;\n  };\n\n  /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const instance = this.getEditorInstanceForLanguage(languageId);\n    const contentElement = this.getContentElementForLanguage(languageId);\n\n    instance ? instance.setValue(value) : (contentElement.innerHTML = value);\n\n    contentElement.dispatchEvent(new Event('input'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(contentElement).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * Attempts to get the CKEditor instance for a given language ID. This method should\n   * be used exclusively to get instances as it also sets event listeners for content\n   * changes if they have been instantiated after FtInputfieldCKEditor has loaded\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?CKEditor}\n   */\n  this.getEditorInstanceForLanguage = languageId => {\n    if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) {\n      return editorInstances[languageId];\n    }\n\n    editorInstances[languageId] = CKEDITOR.instances[this.createCKEditorSelector(languageId)];\n\n    return editorInstances[languageId];\n  };\n\n  /**\n   * Gets the content element that CKEditor uses to store the field content\n   * Ensures memoization\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getContentElementForLanguage = languageId => {\n    if (Object.hasOwn(contentElements, languageId)) {\n      return contentElements[languageId];\n    }\n\n    contentElements[languageId] = this.getInputContainerForLanguage(languageId).querySelector(\n      '.InputfieldCKEditorInlineEditor',\n    );\n\n    return contentElements[languageId];\n  };\n\n  /**\n   * Creates a CKEditor ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */\n  this.createCKEditorSelector = languageId => {\n    if (languageId == FtConfig.getDefaultLanguage().id) {\n      return defaultLanguageInstanceId;\n    }\n\n    return `${defaultLanguageInstanceId}__${languageId}`;\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    if (Object.keys(inputContainers).length === FtConfig.getLanguageCount()) {\n      return inputContainers;\n    }\n\n    this.getSelf()\n      .querySelectorAll('[data-language]')\n      .forEach(el => {\n        inputContainers[el.dataset.language] = el;\n      });\n\n    return inputContainers;\n  };\n\n  /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getInputContainerForLanguage = languageId => {\n    if (Object.hasOwn(inputContainers, languageId)) {\n      return inputContainers[languageId];\n    }\n\n    inputContainers[languageId] = inputfield.querySelector(`[data-language=\"${languageId}\"]`);\n\n    return inputContainers[languageId];\n  };\n\n  /**\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Creates a MutationObserver that will detect when the content has changed for a given content\n   * element. When content is changed, is will mock an 'input' even that an eventListener will\n   * respond to\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerUpdateEvent = languageId => {\n    const contentElement = this.getContentElementForLanguage(languageId);\n\n    new MutationObserver((mutations, observer) => {\n      for (let mutation of mutations) {\n        mutation.target.dispatchEvent(new Event('input'));\n      }\n    }).observe(contentElement, {\n      childList: true,\n    });\n  };\n\n  /**\n   * Registers an event listener that will respond to any 'input' changes in a\n   * content element\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getContentElementForLanguage(languageId).addEventListener('input', e => {\n      changedValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Init on object instantiation\n   * @access private\n   * @return {Void}\n   */\n  (() => {\n    if (CKEDITOR === undefined) {\n      console.error('CKEditor was not found by Fluency, translation unavailable');\n\n      return null;\n    }\n\n    const allInputContainers = this.getInputContainers();\n\n    defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      editorInstances[languageId] = this.getEditorInstanceForLanguage(languageId);\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n\n      this.registerInputEventListener(languageId);\n    }\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  })();\n};\n\nexport { FtIsInputfieldCKEditorInline, FtInputfieldCKEditorInline };\n","/**\n * Determines if a given inputfield contains a Table instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */\nconst FtIsInputfieldTable = inputfield =>\n  isInputfieldTable(inputfield) || isInputfieldTableRow(inputfield);\n\n/**\n * Handles table inputfields on load\n * @param  {Element} inputfield\n * @return {Bool}\n */\nconst isInputfieldTable = inputfield => !!inputfield.classList.contains('InputfieldTable');\n\nconst isInputfieldTableRow = inputfield =>\n  !!inputfield.tagName === 'TBODY' &&\n  inputfield.querySelectorAll('.InputfieldTable_hasLangTabs').length;\n\nexport { FtIsInputfieldTable };\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if the current inputfield is an InputfieldText\n * @param  {Element} inputfield Element containing the multilanguage fields\n * @return {Bool}\n */\nconst FtIsInputfieldText = inputfield => !!inputfield.querySelector(\"input[type='text']\");\n\n/**\n * Handles IO operations for a multilanguage InputfieldText element\n * Language IDs are always converted to int to accept values from all sources since some may be\n * retrieved from various sources as a string\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */\nconst FtInputfieldText = function (inputfield) {\n  /**\n   * Page-load values for all fields/languages\n   * Populated on object instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when content is modified\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * FtLanguageTab objects for each language\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all elements containing language inputs\n   * @property {String} ProcessWire Language ID\n   * @type {NodeList}\n   */\n  const inputContainers = {};\n\n  /**\n   * Text input fields\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const languageFields = {};\n\n  /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /*\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @access public\n   * @param  {String|Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => this.getFieldForLanguage(languageId).value;\n\n  /**\n   * @access public\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @param  {Mixed}      value      Value to insert into field\n   * @return {Bool}                  Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const field = this.getFieldForLanguage(languageId);\n\n    FtInputfields.updateValue(field, value);\n\n    // Required to programmatically trigger the event listener for this field\n    field.dispatchEvent(new Event('keyup'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(field).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * @access private\n   * @param  {String|Int}  languageId ProcessWire language ID\n   * @return {Element}                Text field\n   */\n  this.getFieldForLanguage = languageId => {\n    if (Object.hasOwn(languageFields, languageId) && !!languageFields[languageId]) {\n      return languageFields[languageId];\n    }\n\n    languageFields[languageId] =\n      this.getInputContainerForLanguage(languageId).querySelector('input');\n\n    return languageFields[languageId];\n  };\n\n  /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getInputContainerForLanguage = languageId => {\n    if (Object.hasOwn(inputContainers, languageId) && !!inputContainers[languageId]) {\n      return inputContainers[languageId];\n    }\n\n    inputContainers[languageId] = inputfield.querySelector(`[data-language=\"${languageId}\"]`);\n\n    return inputContainers[languageId];\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    inputfield\n      .querySelectorAll('[data-language]')\n      .forEach(el => (inputContainers[el.dataset.language] = el));\n\n    return inputContainers;\n  };\n\n  /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getFieldForLanguage(languageId).addEventListener('keyup', e => {\n      changedValues[languageId] = e.target.value;\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */\n  (() => {\n    const allInputContainers = this.getInputContainers();\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      initValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n\n      this.registerInputEventListener(languageId);\n    }\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  })();\n};\n\nexport { FtIsInputfieldText, FtInputfieldText };\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if the current inputfield is an InputfieldText\n * @param  {Element} inputfield Element containing the multilanguage fields\n * @return {Bool}\n */\nconst FtIsInputfieldTextarea = inputfield =>\n  !!inputfield.querySelector('textarea:not(.InputfieldCKEditorNormal,.InputfieldTinyMCEEditor)');\n\n/**\n * Handles IO operations for a multilanguage InputfieldText element\n * Language IDs are always converted to int to accept values from all sources since some may be\n * retrieved from various sources as a string\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */\nconst FtInputfieldTextarea = function (inputfield) {\n  /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * Language ID keys are integers\n   * @type {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all language input containers keyed by language ID\n   * Language ID keys are integers\n   * @type {NodeList}\n   */\n  const inputContainers = {};\n\n  /**\n   * Will contain all language input text fields keyed by language ID\n   * @type {Object}\n   */\n  const languageFields = {};\n\n  /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /*\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => this.getFieldForLanguage(languageId).value;\n\n  /**\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const field = this.getFieldForLanguage(languageId);\n\n    FtInputfields.updateValue(field, value);\n\n    // Required to programmatically trigger the event listener for this field\n    field.dispatchEvent(new Event('keyup'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and admin JS listeners work\n    $(field).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * @param  {Int}    languageId ProcessWire language ID\n   * @return {Element}           Text field\n   */\n  this.getFieldForLanguage = languageId => {\n    if (Object.hasOwn(languageFields, languageId)) {\n      return languageFields[languageId];\n    }\n\n    languageFields[languageId] = inputfield.querySelector(\n      `[data-language=\"${languageId}\"] textarea`,\n    );\n\n    return languageFields[languageId];\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    inputfield.querySelectorAll('[data-language]').forEach(el => {\n      inputContainers[el.dataset.language] = el;\n    });\n\n    return inputContainers;\n  };\n\n  /**\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getFieldForLanguage(languageId).addEventListener('keyup', e => {\n      changedValues[languageId] = e.target.value;\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */\n  (() => {\n    const allInputContainers = this.getInputContainers();\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      initValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n\n      this.registerInputEventListener(languageId);\n    }\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  })();\n};\n\nexport { FtIsInputfieldTextarea, FtInputfieldTextarea };\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if a given inputfield contains a regular TinyMCE instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */\nconst FtIsInputfieldTinyMCE = inputfield => !!inputfield.querySelector('.InputfieldTinyMCENormal');\n\n/**\n * Handles IO operations for a multilanguage InputfieldTinyMCE elements\n * @param {Element} inputfield The Inputfield .hasLangTabs container\n */\nconst FtInputfieldTinyMCE = function (inputfield) {\n  /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   *\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {String} Inputfield content\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all language input containers keyed by language ID\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type {Object}\n   */\n  const inputContainers = {};\n\n  /**\n   * Will contain all language input textarea fields that hold Inputfield data before TinyMCE\n   * instances are initialized.\n   * @property {String} ProcessWire Language ID\n   * @value    {Element}\n   * @type     {Object}\n   */\n  const textareas = {};\n\n  /**\n   * Will contain all TinyMCE instances as they become available (are initialized). Most TinyMCE\n   * instances are lazy loaded or loaded on demand. Keyed by language ID\n   * This is populated on FtInputfieldTinyMCE on instantiation and language ID properties will either\n   * have a TinyMCE object or null\n   * @property {String} ProcessWire Language ID\n   * @value    {TinyMCE|null}\n   * @type     {Object}\n   */\n  const editorInstances = {};\n\n  /**\n   * Will contain the base TinyMCE instance ID that can be used to get the default TinyMCE instance\n   * using the TinyMCE API, or another instance by modifying this one.\n   * Set on FtInputfieldTinyMCE instantiation\n   * @type {?String}\n   */\n  let defaultLanguageInstanceId = null;\n\n  /**\n   * Activity overlay object, set on instantiation\n   *\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /*\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => {\n    const tinymceInstance = this.getTinymceInstanceForLanguage(languageId);\n\n    if (tinymceInstance) {\n      return tinymceInstance.getContent();\n    }\n\n    return this.getTextareaForLanguage(languageId).value;\n  };\n\n  /**\n   * Sets content for a language, will set the value for TinyMCE if it exists, and always set the\n   * value for the textarea\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const tinymceInstance = this.getTinymceInstanceForLanguage(languageId);\n\n    if (tinymceInstance) {\n      tinymceInstance.setContent(value);\n\n      tinymceInstance.fire('input');\n    }\n\n    const field = this.getTextareaForLanguage(languageId);\n\n    FtInputfields.updateValue(field, value);\n\n    field.dispatchEvent(new Event('input'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(field).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * Attempts to get the TinyMCE instance for a given language ID if it exists\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?TinyMCE}\n   */\n  this.getTinymceInstanceForLanguage = languageId => {\n    if (Object.hasOwn(editorInstances, languageId) && editorInstances[languageId]) {\n      return editorInstances[languageId];\n    }\n\n    const tinymceSelector = this.createTinymceSelector(languageId);\n\n    editorInstances[languageId] = tinymce.get(tinymceSelector);\n\n    return editorInstances[languageId];\n  };\n\n  /**\n   * @access private\n   * @param  {Int}    languageId ProcessWire language ID\n   * @return {Element}           Text field\n   */\n  this.getTextareaForLanguage = languageId => {\n    if (Object.hasOwn(textareas, languageId) && !!textareas[languageId]) {\n      return textareas[languageId];\n    }\n\n    textareas[languageId] = this.getSelf().querySelector(\n      `[data-language=\"${languageId}\"] textarea`,\n    );\n\n    return textareas[languageId];\n  };\n\n  /**\n   * Get all input containers holding TinyMCE instances, memoizes. Keyed by ID\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    this.getSelf()\n      .querySelectorAll('[data-language]')\n      .forEach(el => {\n        inputContainers[el.dataset.language] = el;\n      });\n\n    return inputContainers;\n  };\n\n  /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Creates a TinyMCE ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */\n  this.createTinymceSelector = languageId => {\n    if (languageId == FtConfig.getDefaultLanguage().id) {\n      return defaultLanguageInstanceId;\n    }\n\n    return `${defaultLanguageInstanceId}__${languageId}`;\n  };\n\n  /**\n   * Bind Inputfield required events to a TinyMCE instance\n   * @access private\n   * @param  {String|Int} languageId      ProcessWire language ID\n   * @param  {Object}     tinymceInstance TinyMCE object\n   * @return {Void}\n   */\n  this.bindTinymceEvents = (languageId, tinymceInstance) => {\n    tinymceInstance.on('keyup', e =>\n      this.getTextareaForLanguage(languageId).dispatchEvent(new Event('input')),\n    );\n  };\n\n  /**\n   * Creates an observer that looks for new TinyMCE instances within this Inputfield\n   * @access private\n   * @return {void}\n   */\n  this.initTinymceInstanceOnCreation = (languageId, inputContainer) => {\n    new MutationObserver((mutations, observer) => {\n      for (let mutation of mutations) {\n        let targetEl = mutation.target;\n\n        if (targetEl.dataset.language == languageId) {\n          editorInstances[languageId] = this.getTinymceInstanceForLanguage(languageId);\n          this.bindTinymceEvents(languageId, editorInstances[languageId]);\n\n          if (editorInstances[languageId]) {\n            observer.disconnect();\n          }\n        }\n      }\n    }).observe(inputContainer, {\n      childList: true,\n    });\n  };\n\n  /**\n   * Registers the event listener that watches for content changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {void}\n   */\n  this.registerInputEventListener = languageId => {\n    textareas[languageId].addEventListener('input', e => {\n      changedValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Initializes FtInputfieldTinyMCE Inputfield\n   * @access private\n   * @param  {Array<Element>} allInputContainers All elements containing TinyMCE fields\n   * @return {Void}\n   */\n  this.initAll = allInputContainers => {\n    // TinyMCE instances are initialzied using a field ID. The default language element contains\n    // an ID substring that can be modified to create a TinyMCE ID string that can be used to get\n    // TinyMCE instances\n    defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n\n    // At runtime/initialization only the TinyMCE instance will load for the default language, others\n    // will be loaded when switched to the tab. Still attempt to get all TinyMCE instances for all\n    // tabs in case they are available\n    for (let languageId in allInputContainers) {\n      const inputContainer = allInputContainers[languageId];\n\n      // Get initial content on page load\n      // Call this first to ensure getValueForLanguage() pulls from the textarea element rather than\n      // attempting to use the TinyMCE API on object instantiation\n      initValues[languageId] = this.getValueForLanguage(languageId);\n\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n\n      editorInstances[languageId] = this.getTinymceInstanceForLanguage(languageId);\n\n      textareas[languageId] = this.getTextareaForLanguage(languageId);\n\n      this.registerInputEventListener(languageId);\n\n      // If there was no editor found at initialization, register when created\n      if (!editorInstances[languageId]) {\n        this.initTinymceInstanceOnCreation(languageId, inputContainer);\n      }\n    }\n\n    // Bind TinyMCE event listeners to any TinyMCE input fields found on initialization\n    for (let languageId in editorInstances) {\n      if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) {\n        this.bindTinymceEvents(languageId, editorInstances[languageId]);\n      }\n    }\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */\n  (() => {\n    const allInputContainers = this.getInputContainers();\n\n    // Set a micro timeout to allow TinyMCE instances to instantiate.\n    // This is especially important when new fields are dynamically added after page load\n    setTimeout(() => {\n      this.initAll(allInputContainers);\n    }, 50);\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  })();\n};\n\nexport { FtIsInputfieldTinyMCE, FtInputfieldTinyMCE };\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Determines if a given inputfield contains an inline TinyMCE instance\n * @param  {Element} inputfield Inputfield (.langTabs) element\n * @return {Bool}\n */\nconst FtIsInputfieldTinyMCEInline = inputfield =>\n  !!inputfield.querySelector('.InputfieldTinyMCEInline');\n\n/**\n * Handles translations for TinyMCE Inputfields\n * @return {object}  Public methods\n */\nconst FtInputfieldTinyMCEInline = function (inputfield) {\n  /**\n   * Contains values for all fields/languages keyed by ProcessWire language ID.\n   * Populated on object instantiation\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when they change keyed by language ID\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * Will contain FtLanguageTab object for each language keyed by language ID\n   * Language ID keys are integers\n   * @type {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all language input containers keyed by language ID\n   * Language ID keys are integers\n   * @type {NodeList}\n   */\n  const inputContainers = {};\n\n  /**\n   * Will contain all the HTML elements that the inline TinyMCE editor stores/modifies content\n   * keyed by language ID\n   * @type {Object}\n   */\n  const contentElements = {};\n\n  /**\n   * Will contain all TinyMCE instances as they become available\n   * @type {Object}\n   */\n  const editorInstances = {};\n\n  /**\n   * Will contain the TinyMCE instance name for the default language.\n   * Used to get the TinyMCE instance\n   * @type {?String}\n   */\n  let defaultLanguageInstanceId = null;\n\n  /**\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlay;\n\n  /*\n   * @access public\n   * @return {Object}\n   */\n  this.getActivityOverlay = () => activityOverlay;\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @access public\n   * @param  {Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => {\n    const tinymceInstance = this.getEditorInstanceForLanguage(languageId);\n\n    if (tinymceInstance) {\n      return tinymceInstance.getContent();\n    }\n\n    return this.getContentElementForLanguage(languageId).innerHTML;\n  };\n\n  /**\n   * @access public\n   * @param  {Int}    languageId ProcessWire language ID\n   * @param  {Mixed}  value      Value to insert into field\n   * @return {Bool}              Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const contentElement = this.getContentElementForLanguage(languageId);\n\n    // Click event ensures that TinyMCE has been initialized before inserting content\n    contentElement.click();\n\n    contentElement.innerHTML = value;\n\n    // Required to programmatically trigger the event listener for this field\n    contentElement.dispatchEvent(new Event('input'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(contentElement).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * Attempts to get the TinyMCE instance for a given language ID if it exists\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {?TinyMCE}\n   */\n  this.getEditorInstanceForLanguage = languageId => {\n    if (Object.hasOwn(editorInstances, languageId) && !!editorInstances[languageId]) {\n      return editorInstances[languageId];\n    }\n\n    const tinymceSelector = this.createTinymceSelector(languageId);\n\n    editorInstances[languageId] = tinymce.get(tinymceSelector);\n\n    return editorInstances[languageId];\n  };\n\n  /**\n   * Gets the content element that TinyMCE uses to store the field content\n   * Ensures memoization\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getContentElementForLanguage = languageId => {\n    if (Object.hasOwn(contentElements, languageId)) {\n      return contentElements[languageId];\n    }\n\n    contentElements[languageId] =\n      this.getInputContainerForLanguage(languageId).querySelector('.mce-content-body');\n\n    return contentElements[languageId];\n  };\n\n  /**\n   * Gets a specific input container. Memoizes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getInputContainerForLanguage = languageId => {\n    if (Object.hasOwn(inputContainers, languageId) && !!inputContainers[languageId]) {\n      return inputContainers[languageId];\n    }\n\n    inputContainers[languageId] = this.getSelf().querySelector(`[data-language=\"${languageId}\"]`);\n\n    return inputContainers[languageId];\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    this.getSelf()\n      .querySelectorAll('[data-language]')\n      .forEach(el => {\n        inputContainers[el.dataset.language] = el;\n      });\n\n    return inputContainers;\n  };\n\n  /**\n   * Determines if the content for a given langauge has changed. In some instances TinyMCE\n   * inserts unwanted elements into empty fields that will always register content as having been\n   * changed. This includes adding elements to fields that may be returned to their original content\n   * matching content at page load. These \"phantom elements\" must be checked for.\n   * @access private\n   * @param  {Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  /**\n   * Creates a TinyMCE ID used to get instances by language\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {String}\n   */\n  this.createTinymceSelector = languageId => {\n    if (languageId == FtConfig.getDefaultLanguage().id) {\n      return defaultLanguageInstanceId;\n    }\n\n    return `${defaultLanguageInstanceId}__${languageId}`;\n  };\n\n  /**\n   * Creates a MutationObserver that will detect when the innerHTML content has changed for a given\n   * content element. When content is changed, it will mock an 'input' event that an eventListener\n   * can respond to\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerUpdateEvent = languageId => {\n    const contentElement = this.getContentElementForLanguage(languageId);\n\n    new MutationObserver((mutations, observer) => {\n      for (let mutation of mutations) {\n        mutation.target.dispatchEvent(new Event('input'));\n      }\n    }).observe(contentElement, {\n      childList: true,\n    });\n  };\n\n  /**\n   * Register an input observer\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getContentElementForLanguage(languageId).addEventListener('input', e => {\n      changedValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId].setModifiedState(this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */\n  (() => {\n    if (tinymce === undefined) {\n      console.error('TinyMCE was not found by Fluency, translation unavailable');\n\n      return null;\n    }\n\n    const allInputContainers = this.getInputContainers();\n\n    // TinyMCE instances are initialzied using a field ID. The default language element contains\n    // an ID substring that can be modified to create a TinyMCE ID string that can be used to get\n    // TinyMCE instances\n    defaultLanguageInstanceId = Object.values(allInputContainers)[0].id.replace('langTab_', '');\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      initValues[languageId] = this.getValueForLanguage(languageId);\n      languageTabs[languageId] = new FtLanguageTab(inputContainer);\n\n      this.registerUpdateEvent(languageId);\n      this.registerInputEventListener(languageId);\n    }\n\n    activityOverlay = new FtActivityOverlay(this);\n\n    new FtInputfieldTranslateButton(this, allInputContainers);\n  })();\n};\n\nexport { FtIsInputfieldTinyMCEInline, FtInputfieldTinyMCEInline };\n","import FtActivityOverlay from '../ui/FtActivityOverlay';\nimport FtConfig from '../global/FtConfig';\nimport FtInputfields from './FtInputfields';\nimport FtInputfieldTranslateButton from '../ui/FtInputfieldTranslateButton';\nimport FtLanguageTab from '../ui/FtLanguageTab';\n\n/**\n * Handles IO operations for a multilanguage InputfieldPageName element\n * The InputfieldPageName element has special considerations compared to other fields as they do not\n * have the same markup structure.\n * Some actions are internalized here, such as\n * @param {Element} inputfield The Inputfield .InputfieldPageName container\n */\nconst FtInputfieldPageName = function (inputfield) {\n  /**\n   * Page-load values for all fields/languages\n   * Populated on object instantiation\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const initValues = {};\n\n  /**\n   * Will contain new values for fields/languages when content is modified\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const changedValues = {};\n\n  /**\n   * FtLanguageTab objects for each language\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const languageTabs = {};\n\n  /**\n   * Will contain all elements containing language inputs\n   * @property {String} ProcessWire Language ID\n   * @type {NodeList}\n   */\n  const inputContainers = {};\n\n  /**\n   * Text input fields\n   * @property {String} ProcessWire Language ID\n   * @type {Object}\n   */\n  const languageFields = {};\n\n  let contentModifiedClass = new FtLanguageTab().getContentModifiedClass();\n\n  /**\n   * Activity overlays by language IDs\n   * @access public\n   * @type {Object}\n   */\n  let activityOverlays = {};\n\n  /*\n   * Return null to signal that the overlay should be by language ID\n   *\n   * @access public\n   * @return {Object|Null}\n   */\n  this.getActivityOverlay = languageId => {\n    if (!languageId) {\n      return null;\n    }\n\n    return activityOverlays[languageId].getActivityOverlay();\n  };\n\n  /**\n   * @access public\n   * @return {Element} Inputfield element passed to this object on creation\n   */\n  this.getSelf = () => inputfield;\n\n  /**\n   * @access public\n   * @return {Mixed}\n   */\n  this.getValueForDefaultLanguage = () =>\n    this.getValueForLanguage(FtConfig.getDefaultLanguage().id);\n\n  /**\n   * @access public\n   * @param  {String|Int}   languageId ProcessWire language ID\n   * @return {Mixed}\n   */\n  this.getValueForLanguage = languageId => this.getFieldForLanguage(languageId).value;\n\n  /**\n   * @access public\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @param  {Mixed}      value      Value to insert into field\n   * @return {Bool}                  Content is different from page load value\n   */\n  this.setValueForLanguage = (languageId, value) => {\n    const field = this.getFieldForLanguage(languageId);\n\n    FtInputfields.updateValue(field, value);\n\n    // Required to programmatically trigger the event listener for this field\n    field.dispatchEvent(new Event('keyup'));\n\n    // Vanilla JS events are not visible to jQuery and vice-versa. Trigger this so that other\n    // modules and Admin listeners work\n    $(field).trigger('change');\n\n    return this.contentHasChanged(languageId);\n  };\n\n  /**\n   * @access private\n   * @param  {String|Int}  languageId ProcessWire language ID\n   * @return {Element}                Text field\n   */\n  this.getFieldForLanguage = languageId => {\n    if (Object.hasOwn(languageFields, languageId) && !!languageFields[languageId]) {\n      return languageFields[languageId];\n    }\n\n    languageFields[languageId] =\n      this.getInputContainerForLanguage(languageId).querySelector('input');\n\n    return languageFields[languageId];\n  };\n\n  /**\n   * Gets a specific input container\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Element}\n   */\n  this.getInputContainerForLanguage = languageId => {\n    if (!Object.hasOwn(inputContainers, languageId) && !inputContainers[languageId]) {\n      this.getInputContainers();\n    }\n\n    return inputContainers[languageId];\n  };\n\n  /**\n   * Get all input containers where content is entered, memoizes\n   * @access private\n   * @return {Object} All languages keyed by (int) language ID\n   */\n  this.getInputContainers = () => {\n    // Page name fields require querying the child input and determining the language by analyzing\n    // the name attribute of the text input itself\n    this.getSelf()\n      .querySelectorAll('.LanguageSupport')\n      .forEach(el => {\n        // The default language input has no language ID, it's the default language, so fallback\n        const languageId =\n          el.querySelector('input[type=text]').name.replace('_pw_page_name', '') ||\n          FtConfig.getDefaultLanguage().id;\n\n        inputContainers[languageId] = el;\n      });\n\n    return inputContainers;\n  };\n\n  /**\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Bool}\n   */\n  this.contentHasChanged = languageId =>\n    Object.hasOwn(changedValues, languageId) &&\n    changedValues[languageId] !== initValues[languageId];\n\n  this.setModifiedState = (languageId, contentHasChanged) => {\n    const inputContainer = this.getInputContainerForLanguage(languageId);\n\n    if (contentHasChanged) {\n      inputContainer.classList.add(contentModifiedClass);\n    }\n\n    if (!contentHasChanged) {\n      inputContainer.classList.remove(contentModifiedClass);\n    }\n  };\n\n  /**\n   * Registers the event listener that watches for changes\n   * @access private\n   * @param  {String|Int} languageId ProcessWire language ID\n   * @return {Void}\n   */\n  this.registerInputEventListener = languageId => {\n    this.getFieldForLanguage(languageId).addEventListener('keyup', e => {\n      changedValues[languageId] = e.target.value;\n      this.setModifiedState(languageId, this.contentHasChanged(languageId));\n    });\n  };\n\n  /**\n   * Init method executed on object instantiation\n   * - Stores initial field values for each langauge\n   * - Creates/stores an FtLanguageTab object for each language\n   * - Binds an event that detects changes on input\n   * @return {Void}\n   */\n  (() => {\n    const allInputContainers = this.getInputContainers();\n\n    for (let languageId in allInputContainers) {\n      let inputContainer = allInputContainers[languageId];\n\n      initValues[languageId] = this.getValueForLanguage(languageId);\n      activityOverlays[languageId] = new createActivityOverlay(inputContainer);\n\n      this.registerInputEventListener(languageId);\n    }\n\n    new FtInputfieldTranslateButton(this, allInputContainers, true);\n  })();\n};\n\nconst createActivityOverlay = function (languageInput) {\n  let activityOverlay;\n\n  this.getSelf = () => languageInput;\n\n  this.getActivityOverlay = () => activityOverlay;\n\n  (() => {\n    activityOverlay = new FtActivityOverlay(this);\n  })();\n};\n\nexport default FtInputfieldPageName;\n"],"names":["langInputfieldClass","disableTranslationAttr","initInputfields","translationIsDisabled","initInputfield","isInputfieldTemplate","getFtInputfieldObject","initInputfieldsOnInsertion","initPageNameInputfields","fieldIsInitialized","setFieldIsInitialized","$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","config","localizedStrings","elementClasses","strings","endpoints","configuredLanguages","unconfiguredLanguages","getConfiguredLanguages","getUnconfiguredLanguages","getEngineInfo","$dadf59d3bc71d322$export$2e2bcd8739ae039","ProcessWire","fluency","localization","translateButton","container","button","languageTranslator","content","sourceLanguageSelect","sourceLanguageSelectLabel","statusPlaceholder","label","icon","activityOverlay","languageSelect","inputfieldTranslateButtons","standaloneTranslator","usage","errors","languages","apiEndpoints","translatableLanguagesCache","test","translation","translationCache","fieldInitializedAttr","getApiEndpointFor","key","getDefaultLanguage","reduce","defaultLang","lang","default","getElementClassesFor","element","engine","getEngineProvidesUsageData","providesUsageData","getLanguageCount","length","getLanguageForId","pwLanguageId","parseInt","match","language","getTranslationAction","interface","inputfieldTranslationAction","getTranslationDisabledFieldAttribute","translationDisabledFieldAttr","getUiTextFor","languageIsTranslatable","languageId","includes","moduleShouldInitialize","translationActionTypes","each","all","both","$c03f2159e353ef94$export$2e2bcd8739ae039","$iN3hH","targetContainer","activityType","messageContainer","activityContainer","targetContainerContainer","elClasses","parent","overlay","error","message","flash","activity","visible","activityStaticText","activityAnimationContainer","activityAnimationItem","showActivity","setActivityActive","setOverlayVisible","showMessage","displayTime","setMessageContent","setActivityInactive","setMessageActive","hide","flashSuccess","setSuccessActive","setFlashActive","flashError","setErrorActive","showError","delay","setTimeout","setOverlayInvisible","setMessageInactive","setErrorInactive","setFlashInactive","classList","add","remove","innerText","success","setSuccessInactive","create","buildOverlayEl","buildActivityEl","buildMessageEl","appendChild","document","createElement","setAttribute","text","getActivityTexts","animated","el","string","activityText","innerHTML","staticText","static","uiTexts","animationTexts","i","j","Math","floor","random","temp","getSelf","requestHeaders","postRequest","getRequest","deleteRequest","parseResponse","handleFetchError","$7f11ec91dd11e761$export$2e2bcd8739ae039","requestType","endpoint","data","responseHandler","fetch","method","cache","headers","body","JSON","stringify","then","catch","response","status","ok","json","console","returnObject","split","deleteTranslatableLanguagesCache","deleteTranslationCache","getAvailableLanguages","getTranslation","sourceLanguage","targetLanguage","options","caching","getUsage","uiText","createIcon","$52a01b96aace9c18$export$2e2bcd8739ae039","createStatusElement","createTranslateButton","createLanguageTranslatorInputs","texts","translateAllButton","forEach","option","textContent","title","value","engineLanguage","sourceCode","selected","prepend","selectLabelText","iconLink","urls","admin","showTranslator","convertFtAdminMenuToModal","$55b7f44426956e16$export$2e2bcd8739ae039","adminNavItems","querySelectorAll","urlParams","URLSearchParams","location","search","hrefSegments","href","filter","Boolean","$gvk63","$aUodT","$75OpQ","$670d51ed85c16ea8$export$2e2bcd8739ae039","inputfield","inputContainers","forceEachTranslationAction","addTranslateFromDefaultButton","inputContainer","isTranslatable","isDefaultLanguage","languageNotAvailable","translationAvailable","bindButton","buttonElement","languageConfig","addEventListener","preventDefault","translationSourceContent","getValueForDefaultLanguage","getActivityOverlay","targetCode","result","setValueForLanguage","translations","addTranslateToAllButton","sourceLanguageId","sourceInputContainer","translateToAllButton","bindTranslateToAllButton","sourceLanguageConfig","getValueForLanguage","translationLanguageCount","keys","errorOccurred","targetLanguageId","targetLanguageConfig","addBothTranslationButtonTypes","actionTypes","translationAction","$83a476e05cf7d458$export$2e2bcd8739ae039","contentModifiedClass","languageTab","getContentModifiedClass","setModifiedState","modified","setTabModified","setTabUnmodified","getLanguageTab","closest","querySelector","dataset","$7569d6f3f3f503f6$export$4deab606ac761bb8","initValues","changedValues","languageTabs","editorInstances","inputfieldBaseId","getEditorInstanceForLanguage","getData","instance","setData","fire","$","trigger","contentHasChanged","hasOwn","editorSelectorByLanguageId","val","join","editor","CKEDITOR","instances","getInputContainers","registerInputEventListener","on","initContainers","allInputContainers","values","replace","defaultLanguageProcessWireId","toString","containerElements","containerId","endsWith","undefined","$707d87c1c39f0b4a$export$273c4562c2c365c0","contentElements","defaultLanguageInstanceId","ckeditorInstance","getContentElementForLanguage","contentElement","setValue","dispatchEvent","Event","createCKEditorSelector","getInputContainerForLanguage","registerUpdateEvent","MutationObserver","mutations","observer","mutation","target","observe","childList","$f0fdde508e29bda0$export$68cadcc1eefc8b28","languageFields","getFieldForLanguage","field","$7af38d5c3490259f$export$2e2bcd8739ae039","updateValue","$609e1ed96b5dd6cd$export$7ce4bfce558adefb","$e5519732ab49dd46$export$5563baf27412d925","textareas","tinymceInstance","getTinymceInstanceForLanguage","getContent","getTextareaForLanguage","setContent","tinymceSelector","createTinymceSelector","tinymce","bindTinymceEvents","initTinymceInstanceOnCreation","targetEl","disconnect","initAll","$c3c87423e58728e5$export$829018d7250909c4","click","$56e7aec25d397945$var$createActivityOverlay","languageInput","$56e7aec25d397945$export$2e2bcd8739ae039","activityOverlays","name","langInputfieldContainers","langInputfieldContainer","contains","$1bed82ff5d1302bc$var$isInputfieldTable","tagName","debug","warn","parentNode","getElementById","foundEls","subtree","pageNameInputfield","langTabContainer","hasAttribute","inputEl","focus","blur","$7mhep"],"version":3,"file":"fluency.js.map"}